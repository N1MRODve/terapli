<template>
  <div class="min-h-screen bg-[#F9F7F3]">
    <!-- Hero Principal -->
    <section class="text-center py-16 md:py-20 px-6 relative">
      <div class="content-width">
        <h1 class="hero-title mb-6 animate-fade-in-up">
          Reserva tu sesi√≥n de orientaci√≥n gratuita
        </h1>
        <p class="lead-text mb-10 prose-optimal animate-fade-in-up [animation-delay:0.2s]">
          La primera sesi√≥n es una conversaci√≥n de orientaci√≥n de 15‚Äì20 minutos donde podr√°s contarme tu situaci√≥n y conocer c√≥mo trabajamos. Es gratuita y sin compromiso.
        </p>
        
        <!-- CTA doble -->
        <div class="flex flex-col md:flex-row gap-4 justify-center items-center animate-fade-in-up [animation-delay:0.4s]">
          <CalmButton 
            variant="primary" 
            size="lg"
            aria-label="Reservar sesi√≥n de orientaci√≥n en Calendly"
            @click="handleCalendlyClick"
          >
            <a 
              href="https://calendly.com/psicologakarem/sesion-de-evaluacion"
              target="_blank"
              rel="noopener noreferrer"
              class="block w-full h-full"
            >
              üóìÔ∏è Reservar sesi√≥n de orientaci√≥n
            </a>
          </CalmButton>
          <CalmButton 
            variant="whatsapp" 
            size="lg"
            aria-label="Contactar por WhatsApp para resolver dudas"
            @click="handleWhatsAppClick"
          >
            <a 
              :href="whatsappLink"
              target="_blank"
              rel="noopener noreferrer"
              class="block w-full h-full"
            >
              üí¨ ¬øTienes dudas? Escr√≠beme
            </a>
          </CalmButton>
        </div>
      </div>
    </section>

    <!-- Bloque 1: ¬øQu√© es la sesi√≥n de orientaci√≥n? -->
    <section class="max-w-5xl mx-auto px-6 py-12 md:py-16">
      <div class="bg-[#EAD5D3] rounded-2xl shadow-md p-8 md:p-12 animate-fade-in-up">
        <h2 class="section-title mb-6 text-center">
          ¬øQu√© es la sesi√≥n de orientaci√≥n?
        </h2>
        <div class="content-width space-y-6">
          <p class="body-text text-center">
            Es una <strong>conversaci√≥n breve de 15‚Äì20 minutos</strong> donde podr√°s:
          </p>
          
          <div class="grid md:grid-cols-2 gap-4 md:gap-6 mt-8">
            <div class="bg-white/50 rounded-xl p-5 md:p-6 backdrop-blur-sm">
              <div class="text-2xl md:text-3xl mb-2 md:mb-3">üó£Ô∏è</div>
              <h3 class="font-serif text-lg md:text-xl font-medium text-[#5D4A44] mb-2">Contarme tu situaci√≥n</h3>
              <p class="microcopy">
                Un espacio seguro para compartir lo que te est√° pasando, sin prisas ni juicios.
              </p>
            </div>

            <div class="bg-white/50 rounded-xl p-5 md:p-6 backdrop-blur-sm">
              <div class="text-2xl md:text-3xl mb-2 md:mb-3">ü§ù</div>
              <h3 class="font-serif text-lg md:text-xl font-medium text-[#5D4A44] mb-2">Conocer c√≥mo trabajo</h3>
              <p class="microcopy">
                Te explico mi forma de acompa√±ar y resuelvo todas tus dudas sobre el proceso.
              </p>
            </div>

            <div class="bg-white/50 rounded-xl p-5 md:p-6 backdrop-blur-sm">
              <div class="text-2xl md:text-3xl mb-2 md:mb-3">üéØ</div>
              <h3 class="font-serif text-lg md:text-xl font-medium text-[#5D4A44] mb-2">Evaluar si encajamos</h3>
              <p class="microcopy">
                Es importante que te sientas c√≥modo/a. Esta sesi√≥n nos ayuda a ambos a saberlo.
              </p>
            </div>

            <div class="bg-white/50 rounded-xl p-5 md:p-6 backdrop-blur-sm">
              <div class="text-2xl md:text-3xl mb-2 md:mb-3">‚ú®</div>
              <h3 class="font-serif text-lg md:text-xl font-medium text-[#5D4A44] mb-2">Sin compromiso</h3>
              <p class="microcopy">
                Es gratuita y no implica ning√∫n compromiso de continuar. T√∫ decides.
              </p>
            </div>
          </div>

          <div class="text-center mt-10">
            <CalmButton 
              variant="primary" 
              size="lg"
              aria-label="Reservar ahora en Calendly"
              @click="handleCalendlyClick"
            >
              <a 
                href="https://calendly.com/psicologakarem/sesion-de-evaluacion"
                target="_blank"
                rel="noopener noreferrer"
                class="block w-full h-full"
              >
                üìÖ Reservar ahora
              </a>
            </CalmButton>
          </div>
        </div>
      </div>
    </section>

    <!-- Bloque 2: Horarios y modalidad -->
    <section class="max-w-5xl mx-auto px-6 py-12 md:py-16">
      <div class="text-center mb-10">
        <h2 class="section-title mb-4">
          Horarios y modalidad
        </h2>
        <p class="body-text content-width">
          Estoy disponible de <strong>lunes a viernes, entre 11:00‚Äì14:00 y 18:00‚Äì22:00</strong>.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-md p-8 text-center">
          <div class="text-4xl mb-4">üíª</div>
          <h3 class="card-title mb-3">Sesi√≥n Online</h3>
          <p class="body-text">
            Por videollamada, desde la comodidad de tu espacio. Flexible y accesible desde cualquier lugar.
          </p>
        </div>

        <div class="bg-white rounded-2xl shadow-md p-8 text-center">
          <div class="text-4xl mb-4">üè¢</div>
          <h3 class="card-title mb-3">Sesi√≥n Presencial</h3>
          <p class="body-text">
            En consulta ubicada en Ciempozuelos, Madrid Sur. Un espacio tranquilo y acogedor.
          </p>
        </div>
      </div>

      <div class="text-center mt-10">
        <p class="body-text mb-4">¬øNo est√°s seguro/a de cu√°l elegir?</p>
        <CalmButton 
          variant="whatsapp" 
          size="md"
          aria-label="Consultar por WhatsApp"
          @click="handleWhatsAppConsulta"
        >
          <a 
            :href="whatsappConsultaLink"
            target="_blank"
            rel="noopener noreferrer"
            class="block w-full h-full"
          >
            üí¨ Preg√∫ntame por WhatsApp
          </a>
        </CalmButton>
      </div>
    </section>

    <!-- Bloque 3: Beneficios del acompa√±amiento -->
    <section class="max-w-5xl mx-auto px-6 py-12 md:py-20">
      <h2 class="section-title mb-12 text-center">
        Dar el paso te acerca a tu bienestar
      </h2>

      <div class="grid md:grid-cols-2 gap-8 mb-12">
        <div class="flex items-start space-x-4 animate-fade-in-up">
          <div class="text-3xl flex-shrink-0">üåø</div>
          <div>
            <h3 class="font-serif text-xl md:text-2xl font-medium text-[#5D4A44] mb-2">
              Espacio seguro y sin juicios
            </h3>
            <p class="body-text">
              Un lugar donde puedes ser t√∫ mismo/a, sin m√°scaras ni expectativas.
            </p>
          </div>
        </div>

        <div class="flex items-start space-x-4 animate-fade-in-up [animation-delay:0.1s]">
          <div class="text-3xl flex-shrink-0">ü§ù</div>
          <div>
            <h3 class="font-serif text-xl md:text-2xl font-medium text-[#5D4A44] mb-2">
              Acompa√±amiento humano y profesional
            </h3>
            <p class="body-text">
              Combino la calidez humana con el rigor profesional de la psicolog√≠a.
            </p>
          </div>
        </div>

        <div class="flex items-start space-x-4 animate-fade-in-up [animation-delay:0.2s]">
          <div class="text-3xl flex-shrink-0">üïäÔ∏è</div>
          <div>
            <h3 class="font-serif text-xl md:text-2xl font-medium text-[#5D4A44] mb-2">
              Ritmo adaptado a ti
            </h3>
            <p class="body-text">
              Cada proceso es √∫nico. Avanzamos a tu ritmo, respetando tus tiempos.
            </p>
          </div>
        </div>

        <div class="flex items-start space-x-4 animate-fade-in-up [animation-delay:0.3s]">
          <div class="text-3xl flex-shrink-0">üí¨</div>
          <div>
            <h3 class="font-serif text-xl md:text-2xl font-medium text-[#5D4A44] mb-2">
              Comunicaci√≥n directa y cercana
            </h3>
            <p class="body-text">
              Siempre disponible para acompa√±arte con cercan√≠a y profesionalidad.
            </p>
          </div>
        </div>
      </div>

      <p class="quote-text text-center prose-optimal">
        "Tu bienestar comienza con un solo paso. Estoy aqu√≠ para acompa√±arte a darlo."
      </p>
    </section>

    <!-- Secci√≥n final de confianza -->
    <section class="bg-white/60 py-16 md:py-20 px-6">
      <div class="content-width text-center">
        <div class="text-5xl mb-6">ü§ç</div>
        <h2 class="section-title mb-6">
          Tu confianza es lo m√°s importante
        </h2>
        <p class="body-text mb-6">
          Todas las sesiones se realizan bajo el marco de la <strong>confidencialidad profesional</strong>, 
          cumpliendo con el c√≥digo deontol√≥gico del Col¬∑legi Oficial de Psicologia de Catalunya (COPC).
        </p>
        <p class="body-text mb-10">
          Tu informaci√≥n y tu proceso estar√°n siempre protegidos.
        </p>

        <CalmButton 
          variant="primary" 
          size="lg"
          aria-label="Reservar sesi√≥n de orientaci√≥n"
          @click="handleCalendlyClick"
        >
          <a 
            href="https://calendly.com/psicologakarem/sesion-de-evaluacion"
            target="_blank"
            rel="noopener noreferrer"
            class="block w-full h-full"
          >
            üóìÔ∏è Reservar mi sesi√≥n de orientaci√≥n
          </a>
        </CalmButton>
      </div>
    </section>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useAnalytics } from '@/composables/useAnalytics'

const { trackBookingIntent, trackWhatsAppClick } = useAnalytics()

// Enlaces de WhatsApp
const whatsappLink = computed(() => {
  const baseUrl = 'https://wa.me/34722377290'
  const message = 'Hola Karem, tengo algunas dudas antes de reservar mi sesi√≥n de orientaci√≥n.'
  return `${baseUrl}?text=${encodeURIComponent(message)}`
})

const whatsappConsultaLink = computed(() => {
  const baseUrl = 'https://wa.me/34722377290'
  const message = 'Hola Karem, quisiera consultarte sobre la modalidad de las sesiones.'
  return `${baseUrl}?text=${encodeURIComponent(message)}`
})

// Funciones de tracking
const handleCalendlyClick = () => {
  trackBookingIntent('calendly_sesion_orientacion')
}

const handleWhatsAppClick = () => {
  trackWhatsAppClick()
  trackBookingIntent('whatsapp_dudas_hero')
}

const handleWhatsAppConsulta = () => {
  trackWhatsAppClick()
  trackBookingIntent('whatsapp_consulta_modalidad')
}

// SEO y metadatos
useHead({
  title: 'Reservar sesi√≥n de orientaci√≥n gratuita | Psic√≥loga Karem Pe√±a en Ciempozuelos',
  meta: [
    { 
      name: 'description', 
      content: 'Reserva tu sesi√≥n de orientaci√≥n gratuita de 15-20 minutos con Karem Pe√±a, psic√≥loga en Ciempozuelos. Sin compromiso, online o presencial. Primer paso hacia tu bienestar.' 
    },
    {
      name: 'keywords',
      content: 'reservar sesi√≥n orientaci√≥n psic√≥loga Ciempozuelos, primera sesi√≥n gratuita psic√≥loga, psic√≥loga online Madrid Sur, terapia Ciempozuelos'
    },
    // Open Graph
    { property: 'og:title', content: 'Reservar sesi√≥n de orientaci√≥n gratuita - Psic√≥loga Karem Pe√±a' },
    { property: 'og:description', content: 'Sesi√≥n de orientaci√≥n gratuita de 15-20 minutos. Sin compromiso. Online o presencial en Ciempozuelos.' },
    { property: 'og:type', content: 'website' },
    { property: 'og:url', content: 'https://psicologakarem.com/reservar' },
    // Twitter
    { name: 'twitter:card', content: 'summary' },
    { name: 'twitter:title', content: 'Reservar sesi√≥n de orientaci√≥n gratuita' },
    { name: 'twitter:description', content: 'Primera sesi√≥n gratuita con Karem Pe√±a, psic√≥loga en Ciempozuelos.' }
  ],
  link: [
    { rel: 'canonical', href: 'https://psicologakarem.com/reservar' }
  ],
  script: [
    {
      type: 'application/ld+json',
      children: JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'MedicalBusiness',
        name: 'Psic√≥loga Karem Pe√±a',
        description: 'Sesi√≥n de orientaci√≥n psicol√≥gica gratuita en Ciempozuelos',
        areaServed: 'Ciempozuelos, Madrid Sur',
        telephone: '+34 722 377 290',
        url: 'https://psicologakarem.com/reservar',
        address: {
          '@type': 'PostalAddress',
          addressLocality: 'Ciempozuelos',
          addressRegion: 'Madrid',
          addressCountry: 'ES'
        },
        priceRange: 'Sesi√≥n de orientaci√≥n gratuita',
        openingHoursSpecification: [
          {
            '@type': 'OpeningHoursSpecification',
            dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
            opens: '11:00',
            closes: '14:00'
          },
          {
            '@type': 'OpeningHoursSpecification',
            dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
            opens: '18:00',
            closes: '22:00'
          }
        ]
      })
    }
  ]
})
</script>

<style scoped>
/* Animaciones ya definidas en main.css */
</style>
