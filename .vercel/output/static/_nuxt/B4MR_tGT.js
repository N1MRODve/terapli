import{e as C,u as A,J as F,K as E,r as i,f as B,c as l,a as t,h as w,i as D,g as M,j as h,v as z,m as _,t as v,d as k,o as n}from"#entry";import{u as j}from"./BbZO5sJf.js";import{u as P}from"./DfvkngRd.js";import{_ as L}from"./DlAUqK2U.js";const V={class:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[#F2F2F2] via-[#FAFAFA] to-[#F8F9FA] px-6 relative overflow-hidden"},S={class:"max-w-md w-full relative z-10"},I={class:"bg-white/85 backdrop-blur-2xl p-8 rounded-3xl shadow-2xl border border-white/30 transform hover:scale-[1.01] transition-all duration-500"},N={class:"group"},T={class:"relative"},q=["disabled"],H={class:"group"},R={class:"relative"},U=["type","disabled"],K=["disabled"],O={key:0,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},G={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},J={key:0,class:"animate-fade-in-up"},W={class:"bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-200 text-red-700 px-5 py-4 rounded-xl text-sm font-sans flex items-start gap-4 shadow-sm"},Y={class:"text-xs opacity-90"},$=["disabled"],Q={class:"relative flex items-center justify-center gap-3"},X={key:0,class:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Z={key:1,class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ee={class:"mt-8 text-center relative z-10"},te={class:"text-sm font-sans text-[#718096]/80 mb-2"},oe=C({__name:"login",setup(se){A({title:"Login Terapeutas | Karem Peña",meta:[{name:"description",content:"Acceso exclusivo para terapeutas de la plataforma de gestión clínica"},{name:"robots",content:"noindex, nofollow"}]});const m=F(),c=j(),x=E(),{signOut:d}=P(),f=i(""),p=i(""),r=i(null),o=i(!1),u=i(!1);B(async()=>{if(x.value)try{const{data:s}=await c.from("profiles").select("rol").eq("id",x.value.id).single(),e=s?.rol;e&&["psicologa","admin","coordinadora"].includes(e)?await m.push("/terapeuta/dashboard"):await d()}catch(s){console.error("Error al verificar sesión:",s),await d()}});const y=async()=>{r.value=null,o.value=!0;try{const{data:s,error:e}=await c.auth.signInWithPassword({email:f.value.trim(),password:p.value});if(e){console.error("Error de autenticación:",e),r.value="Correo o contraseña incorrectos. Por favor, verifica tus credenciales.",o.value=!1;return}if(!s.user){r.value="No se pudo iniciar sesión. Intenta nuevamente.",o.value=!1;return}const{data:a,error:b}=await c.from("profiles").select("rol, nombre").eq("id",s.user.id).single();if(b){console.error("Error al verificar perfil:",b),r.value="Error al validar tu perfil. Contacta a soporte.",await d(),o.value=!1;return}const g=a?.rol;if(!g||!["psicologa","admin","coordinadora"].includes(g)){r.value="Acceso no autorizado. Esta área es exclusiva para terapeutas.",await d(),o.value=!1;return}await m.push("/terapeuta/dashboard")}catch(s){console.error("Error inesperado durante el login:",s),r.value="Ocurrió un error inesperado. Por favor, intenta nuevamente.",o.value=!1}};return(s,e)=>(n(),l("div",V,[e[19]||(e[19]=t("div",{class:"absolute inset-0 overflow-hidden"},[t("div",{class:"absolute -top-32 -right-32 w-64 h-64 bg-gradient-to-br from-[#027368]/15 to-[#04BF9D]/10 rounded-full blur-3xl"}),t("div",{class:"absolute -bottom-32 -left-32 w-64 h-64 bg-gradient-to-tr from-[#5550F2]/15 to-[#F2B33D]/10 rounded-full blur-3xl"}),t("div",{class:"absolute top-1/3 right-1/4 w-48 h-48 bg-gradient-to-r from-[#04BF9D]/8 to-[#027368]/8 rounded-full blur-2xl"})],-1)),t("div",S,[t("div",I,[e[14]||(e[14]=w('<div class="text-center mb-10" data-v-6d254f97><div class="mb-6 inline-flex items-center justify-center w-24 h-24 bg-gradient-to-br from-[#027368] via-[#04BF9D] to-[#5550F2] rounded-3xl shadow-xl transform hover:rotate-12 transition-transform duration-500" data-v-6d254f97><svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6d254f97><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-6d254f97></path></svg></div><h1 class="text-4xl font-serif font-bold bg-gradient-to-r from-[#027368] to-[#5550F2] bg-clip-text text-transparent mb-3" data-v-6d254f97> Área Profesional </h1><p class="text-lg font-sans text-[#2D3748] mb-2" data-v-6d254f97>Teraplí</p><p class="text-sm font-sans text-[#718096] max-w-xs mx-auto leading-relaxed" data-v-6d254f97> Acceso exclusivo para terapeutas certificados y profesionales de la salud mental </p></div>',1)),t("form",{onSubmit:D(y,["prevent"]),class:"space-y-6"},[t("div",N,[e[4]||(e[4]=t("label",{for:"email",class:"block text-sm font-semibold text-[#2D3748] font-sans mb-3 transition-colors group-focus-within:text-[#027368]"}," Correo electrónico profesional ",-1)),t("div",T,[e[3]||(e[3]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-6 h-6 text-[#A0AEC0] group-focus-within:text-[#027368] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),h(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),type:"email",placeholder:"nombre@clinica.com",class:"w-full pl-14 pr-4 py-4 border-2 border-[#E2E8F0] rounded-xl bg-white/60 backdrop-blur-sm focus:outline-none focus:border-[#027368] focus:ring-4 focus:ring-[#027368]/20 transition-all duration-300 font-sans placeholder-[#A0AEC0] text-[#2D3748] hover:border-[#CBD5E0] shadow-sm",required:"",disabled:o.value},null,8,q),[[z,f.value]])])]),t("div",H,[e[8]||(e[8]=t("label",{for:"password",class:"block text-sm font-semibold text-[#2D3748] font-sans mb-3 transition-colors group-focus-within:text-[#027368]"}," Contraseña segura ",-1)),t("div",R,[e[7]||(e[7]=t("div",{class:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none"},[t("svg",{class:"w-6 h-6 text-[#A0AEC0] group-focus-within:text-[#027368] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),h(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),type:u.value?"text":"password",placeholder:"••••••••••••",class:"w-full pl-14 pr-14 py-4 border-2 border-[#E2E8F0] rounded-xl bg-white/60 backdrop-blur-sm focus:outline-none focus:border-[#027368] focus:ring-4 focus:ring-[#027368]/20 transition-all duration-300 font-sans placeholder-[#A0AEC0] text-[#2D3748] hover:border-[#CBD5E0] shadow-sm",required:"",disabled:o.value},null,8,U),[[_,p.value]]),t("button",{type:"button",onClick:e[2]||(e[2]=a=>u.value=!u.value),class:"absolute inset-y-0 right-0 pr-4 flex items-center text-[#A0AEC0] hover:text-[#027368] transition-colors focus:outline-none",disabled:o.value},[u.value?(n(),l("svg",G,[...e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(n(),l("svg",O,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))],8,K)])]),r.value?(n(),l("div",J,[t("div",W,[e[10]||(e[10]=t("svg",{class:"w-6 h-6 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),t("div",null,[e[9]||(e[9]=t("p",{class:"font-semibold mb-1"},"Acceso denegado",-1)),t("p",Y,v(r.value),1)])])])):M("",!0),t("button",{type:"submit",class:"group w-full relative overflow-hidden bg-gradient-to-r from-[#027368] to-[#5550F2] hover:from-[#025951] hover:to-[#4338CA] text-white py-5 rounded-xl transition-all duration-300 font-sans font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:o.value},[e[13]||(e[13]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/25 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"},null,-1)),t("div",Q,[o.value?(n(),l("svg",X,[...e[11]||(e[11]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),l("svg",Z,[...e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),t("span",null,v(o.value?"Verificando credenciales...":"Acceder al Sistema"),1)])],8,$)],32),e[15]||(e[15]=w('<div class="mt-8 text-center space-y-4" data-v-6d254f97><div class="flex items-center justify-center space-x-2 text-sm" data-v-6d254f97><div class="h-px bg-gradient-to-r from-transparent via-[#E2E8F0] to-transparent flex-1" data-v-6d254f97></div><span class="text-[#718096] px-3 font-medium" data-v-6d254f97>Soporte</span><div class="h-px bg-gradient-to-r from-transparent via-[#E2E8F0] to-transparent flex-1" data-v-6d254f97></div></div><p class="text-sm font-sans text-[#718096] flex items-center justify-center gap-2" data-v-6d254f97><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6d254f97><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z" data-v-6d254f97></path></svg> ¿Problemas de acceso? Contacta a soporte técnico </p><div class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#F2B33D]/10 to-[#5550F2]/10 rounded-full border border-[#F2B33D]/20 text-xs font-medium text-[#2D3748]" data-v-6d254f97><div class="w-2 h-2 bg-gradient-to-r from-[#04BF9D] to-[#027368] rounded-full animate-pulse" data-v-6d254f97></div> Sistema seguro certificado </div></div>',1))])]),t("div",ee,[t("p",te,[k(" © "+v(new Date().getFullYear())+" ",1),e[16]||(e[16]=t("span",{class:"font-semibold bg-gradient-to-r from-[#027368] to-[#5550F2] bg-clip-text text-transparent"},"Teraplí",-1)),e[17]||(e[17]=k(" | Plataforma Profesional de Gestión Clínica ",-1))]),e[18]||(e[18]=t("p",{class:"text-xs font-sans text-[#A0AEC0]"}," Cumplimiento HIPAA • Datos encriptados • Acceso seguro ",-1))])]))}}),de=L(oe,[["__scopeId","data-v-6d254f97"]]);export{de as default};
