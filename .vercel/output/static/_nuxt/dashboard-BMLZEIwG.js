import{e as c,f as d,g as n,q as a,c as l,a as t,o as i}from"#entry";const u={class:"min-h-screen flex items-center justify-center bg-gray-50"},p=c({__name:"dashboard",setup(b){const{getUserRole:s}=d();return n(async()=>{setTimeout(async()=>{try{const e=await s();if(console.log("[ROLE-REDIRECT] [Dashboard Fallback] Rol detectado:",e),!e){console.error("[ROLE-REDIRECT] [Dashboard Fallback] No se pudo obtener el rol del usuario"),await a("/login",{replace:!0});return}const r={psicologa:"/terapeuta/dashboard",terapeuta:"/terapeuta/dashboard",coordinadora:"/coordinadora/dashboard",paciente:"/paciente/dashboard",admin:"/admin"}[e];if(!r){console.error(`[ROLE-REDIRECT] [Dashboard Fallback] Rol desconocido: '${e}'`),await a("/acceso-denegado",{replace:!0});return}console.log(`[ROLE-REDIRECT] [Dashboard Fallback] Redirigiendo rol '${e}' a:`,r),await a(r,{replace:!0})}catch(e){console.error("[ROLE-REDIRECT] [Dashboard Fallback] Error:",e),await a("/login",{replace:!0})}},1e3)}),(e,o)=>(i(),l("div",u,[...o[0]||(o[0]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{class:"text-gray-600"},"Redirigiendo a tu dashboard...")],-1)])]))}});export{p as default};
