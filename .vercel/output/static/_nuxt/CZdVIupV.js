import{_ as F}from"./CxbugjzZ.js";import{_ as L}from"./C13k7riN.js";import{G as B,r as x,f,B as E,c as r,o as l,a as e,b as c,t as d,g as j,F as v,s as b,w as h,E as g,ab as k,y as _,i as I,L as S,n as $}from"#entry";import{u as N}from"./C9M7zbam.js";import{u as P}from"./Cy0_MzJF.js";import"./o2OI1TfI.js";import"./DlAUqK2U.js";const V={class:"min-h-screen bg-[#F9F7F3]"},z={class:"bg-white border-b border-[#EAD5D3] sticky top-0 z-40 shadow-sm"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},T={class:"flex justify-between items-center h-16"},O={class:"flex items-center"},R={class:"flex items-center space-x-3"},q={class:"hidden sm:block text-right"},G={class:"text-sm font-medium text-[#5D4A44] font-['Lato']"},U={class:"flex"},J={class:"hidden lg:flex lg:flex-shrink-0"},K={class:"flex flex-col w-64 border-r border-[#EAD5D3] bg-white min-h-[calc(100vh-4rem)]"},Q={class:"flex-1 px-4 py-6 space-y-2"},W={class:"flex items-center justify-between p-4 border-b border-[#EAD5D3]"},X={class:"flex-1 px-4 py-6 space-y-2"},Y={class:"flex-1 p-4 sm:p-6 lg:p-8"},re={__name:"paciente",setup(Z){const D=B(),{signOut:w,user:a}=N(),y=P(),n=x(!1),i=x("Cargando...");f(()=>{document.body.classList.add("layout-paciente")}),E(()=>{document.body.classList.remove("layout-paciente")});const p=[{path:"/paciente/dashboard",label:"Inicio",icon:"IconHome"},{path:"/paciente/sesiones",label:"Mis Sesiones",icon:"IconCalendar"},{path:"/paciente/bono",label:"Mi Bono",icon:"IconTicket"},{path:"/paciente/recursos",label:"Mis Recursos",icon:"IconBook"},{path:"/paciente/mensajes",label:"Mensajes",icon:"IconMessage"}],u=o=>D.path===o,A=async()=>{if(a.value)try{const{data:o,error:t}=await y.from("pacientes").select("nombre").eq("id",a.value.id).single();!t&&o?.nombre?i.value=o.nombre:i.value=a.value.user_metadata?.nombre||a.value.user_metadata?.name||a.value.email?.split("@")[0]||"Paciente"}catch(o){console.error("Error cargando datos del paciente:",o),i.value=a.value.email?.split("@")[0]||"Paciente"}},C=async()=>{const{error:o}=await w();o||$("/login")};return f(()=>{A()}),(o,t)=>{const M=F,m=L;return l(),r("div",V,[e("header",z,[e("div",H,[e("div",T,[e("div",O,[e("button",{onClick:t[0]||(t[0]=s=>n.value=!n.value),class:"mr-4 lg:hidden text-[#5D4A44] hover:text-[#D8AFA0] transition-colors"},[...t[6]||(t[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),t[7]||(t[7]=e("h1",{class:"text-xl font-['Lora'] font-medium text-[#5D4A44]"}," Mi Espacio Terapéutico ",-1))]),e("div",R,[c(M),e("div",q,[e("p",G,d(i.value),1),t[8]||(t[8]=e("p",{class:"text-xs text-[#5D4A44] opacity-60"}," Paciente ",-1))]),e("button",{onClick:C,class:"flex items-center space-x-2 px-4 py-2 text-sm font-['Lato'] text-[#5D4A44] hover:text-[#D8AFA0] transition-colors",title:"Cerrar sesión"},[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),e("span",{class:"hidden sm:inline"},"Salir",-1)])])])])])]),e("div",U,[e("aside",J,[e("div",K,[e("nav",Q,[(l(),r(v,null,b(p,s=>c(m,{key:s.path,to:s.path,class:_(["flex items-center space-x-3 px-4 py-3 rounded-lg font-['Lato'] text-sm transition-all duration-200",u(s.path)?"bg-[#EAD5D3] text-[#5D4A44] font-medium":"text-[#5D4A44] hover:bg-[#F9F7F3]"])},{default:h(()=>[(l(),g(k(s.icon),{class:"w-5 h-5"})),e("span",null,d(s.label),1)]),_:2},1032,["to","class"])),64))])])]),n.value?(l(),r("div",{key:0,class:"fixed inset-0 z-50 lg:hidden",onClick:t[5]||(t[5]=s=>n.value=!1)},[e("div",{class:"fixed inset-0 bg-black/50",onClick:t[1]||(t[1]=s=>n.value=!1)}),e("div",{class:"fixed inset-y-0 left-0 w-64 bg-white border-r border-[#EAD5D3]",onClick:t[4]||(t[4]=I(()=>{},["stop"]))},[e("div",W,[t[11]||(t[11]=e("h2",{class:"text-lg font-['Lora'] font-medium text-[#5D4A44]"}," Menú ",-1)),e("button",{onClick:t[2]||(t[2]=s=>n.value=!1),class:"text-[#5D4A44] hover:text-[#D8AFA0]"},[...t[10]||(t[10]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("nav",X,[(l(),r(v,null,b(p,s=>c(m,{key:s.path,to:s.path,class:_(["flex items-center space-x-3 px-4 py-3 rounded-lg font-['Lato'] text-sm transition-all duration-200",u(s.path)?"bg-[#EAD5D3] text-[#5D4A44] font-medium":"text-[#5D4A44] hover:bg-[#F9F7F3]"]),onClick:t[3]||(t[3]=ee=>n.value=!1)},{default:h(()=>[(l(),g(k(s.icon),{class:"w-5 h-5"})),e("span",null,d(s.label),1)]),_:2},1032,["to","class"])),64))])])])):j("",!0),e("main",Y,[S(o.$slots,"default")])])])}}};export{re as default};
