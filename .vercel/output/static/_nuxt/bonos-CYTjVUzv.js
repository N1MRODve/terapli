import{_ as ye}from"./DashboardCard-Bz37sU-g.js";import{u as X,a as we}from"./useBonos-yaUVQI0C.js";import{e as W,x as v,c as u,o as d,a as e,h as g,t as r,l as t,A as j,z as re,f as le,r as y,I as oe,j as K,k as _,d as C,K as J,v as O,X as te,ah as ae,i as ee,F as ie,y as de,m as Z,p as he,g as De,b as q,w as Q,ai as $e,L as _e,J as ke}from"#entry";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Fe={class:"relative flex items-start justify-between mb-6"},Ce={class:"flex-1"},Be={class:"flex items-center gap-4 mb-3"},Pe={class:"font-['Elms_Sans'] text-xl font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent"},Ae={class:"flex items-center gap-3 flex-wrap"},Me={key:0,class:"inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-sans font-semibold bg-gradient-to-r from-[#F2B33D]/20 to-[#F2B33D]/10 text-[#F2B33D] border border-[#F2B33D]/30 backdrop-blur-sm shadow-sm"},Se={key:1,class:"inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-sans font-semibold bg-gradient-to-r from-[#04BF9D]/20 to-[#027368]/10 text-[#027368] border border-[#04BF9D]/30 backdrop-blur-sm shadow-sm"},Ee={class:"flex gap-3"},je={class:"relative mb-6"},Ve={class:"flex items-center justify-between mb-3"},Te={class:"text-sm font-sans font-semibold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent"},Re={class:"relative w-full bg-gradient-to-r from-gray-100 to-gray-50 rounded-full h-4 overflow-hidden shadow-inner"},Ne={class:"flex justify-between mt-2 text-xs font-sans text-gray-600"},Ue={class:"font-semibold"},ze={class:"relative grid grid-cols-2 gap-4 mb-6"},Ie={class:"p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/50 shadow-sm group-hover:shadow-md transition-all duration-300"},qe={class:"text-sm font-sans font-semibold text-gray-800 capitalize"},Oe={class:"p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/50 shadow-sm group-hover:shadow-md transition-all duration-300"},Le={class:"text-sm font-sans font-semibold text-gray-800 capitalize"},Ge={class:"p-3 bg-white rounded-lg border border-[#5550F2]/20"},Qe={class:"text-sm font-medium text-[#2D3748]"},He={class:"p-3 bg-white rounded-lg border border-[#5550F2]/20"},Ye={key:0,class:"mb-4 p-3 bg-gradient-to-r from-[#5550F2]/10 to-[#ECC8BA]/10 rounded-lg"},Je={class:"flex items-center justify-between text-sm"},Ke={key:0},Xe={class:"font-medium text-[#2D3748] ml-1"},We={key:1},Ze={key:0,class:"mt-2 text-xs text-center text-[#2D3748]/60"},eo={key:1,class:"flex items-center gap-2 mb-4 p-2 bg-purple-50 border border-purple-200 rounded-lg"},oo={key:2,class:"mb-4"},to={class:"text-sm text-[#2D3748]/80 p-2 bg-white rounded-lg border border-[#5550F2]/20"},so={class:"flex gap-2 pt-3 border-t border-[#5550F2]/20"},no=W({__name:"BonoCard",props:{bono:{}},emits:["renovar","verPagos","editar"],setup(c){const D=c,{getEstadoColor:x,getEstadoTexto:A,calcularPorcentajeUso:U,puedeGestionarBonos:M,puedeConfirmarPagos:s}=X(),{isCoordinadora:k}=we(),b=v(()=>({quincenal:"Quincenal",mensual:"Mensual",semestral:"Semestral"})[D.bono.tipo]||D.bono.tipo||"Est√°ndar"),S=v(()=>x(D.bono.estado)),V=v(()=>A(D.bono.estado)),F=v(()=>({pendiente:"‚è≥",activo:"‚úÖ",completado:"‚úîÔ∏è",vencido:"‚ùå",cancelado:"üö´"})[D.bono.estado]||"üìã"),B=v(()=>({pendiente:"border-yellow-300",activo:"border-green-300",completado:"border-gray-300",vencido:"border-red-300",cancelado:"border-gray-400"})[D.bono.estado]||"border-gray-300"),P=v(()=>D.bono.sesiones_restantes??0),f=v(()=>(D.bono.sesiones_totales||0)-P.value),m=v(()=>U(D.bono)),o=v(()=>{const w=m.value;return w>=90?"bg-red-500":w>=70?"bg-orange-500":w>=50?"bg-yellow-500":"bg-gradient-to-r from-[#5550F2] to-[#ECC8BA]"}),l=v(()=>{if(!D.bono.fecha_fin)return null;const w=new Date,i=new Date(D.bono.fecha_fin);return Math.ceil((i.getTime()-w.getTime())/(1e3*60*60*24))}),R=v(()=>D.bono.estado!=="activo"||l.value===null?!1:l.value>=0&&l.value<=7),G=v(()=>D.bono.estado==="activo"&&P.value>0&&P.value<=2),z=v(()=>M.value||s.value),T=v(()=>M.value),H=v(()=>k.value),Y=w=>{if(!w)return"";try{return new Date(w+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}catch{return w}},N=w=>w?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(w):"$ 0";return(w,i)=>(d(),u("div",{class:j(["group bono-card bg-white/90 backdrop-blur-md border-2 rounded-2xl p-6 hover:shadow-xl transition-all duration-500 relative overflow-hidden hover:bg-white/95 hover:scale-[1.02]",[t(B),{"opacity-60":c.bono.estado==="cancelado"}]])},[i[20]||(i[20]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1)),i[21]||(i[21]=e("div",{class:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/10 to-[#5550F2]/10 rounded-full blur-2xl opacity-0 group-hover:opacity-60 transition-all duration-700"},null,-1)),e("div",Fe,[e("div",Ce,[e("div",Be,[i[5]||(i[5]=e("div",{class:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300"},[e("span",{class:"text-xl"},"üé´")],-1)),e("h3",Pe," Bono "+r(t(b)),1)]),e("div",Ae,[e("span",{class:j(["inline-flex items-center px-4 py-2 rounded-xl text-xs font-sans font-semibold border backdrop-blur-sm shadow-sm",t(S)])},r(t(F))+" "+r(t(V)),3),t(R)?(d(),u("span",Me," ‚ö†Ô∏è Vence pronto ")):g("",!0),t(G)?(d(),u("span",Se," üìä Pocas sesiones ")):g("",!0)])]),e("div",Ee,[t(z)?(d(),u("button",{key:0,onClick:i[0]||(i[0]=I=>w.$emit("verPagos",c.bono)),class:"p-3 hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg hover:scale-110 group/btn",title:"Ver pagos"},[...i[6]||(i[6]=[e("span",{class:"text-lg group-hover/btn:scale-110 transition-transform duration-300"},"üí∞",-1)])])):g("",!0),t(T)?(d(),u("button",{key:1,onClick:i[1]||(i[1]=I=>w.$emit("renovar",c.bono)),class:"p-3 hover:bg-gradient-to-br from-[#04BF9D]/10 to-[#F2B33D]/10 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg hover:scale-110 group/btn",title:"Renovar bono"},[...i[7]||(i[7]=[e("span",{class:"text-lg group-hover/btn:scale-110 transition-transform duration-300"},"üîÑ",-1)])])):g("",!0)])]),e("div",je,[e("div",Ve,[i[8]||(i[8]=e("span",{class:"text-sm font-sans text-gray-600 font-medium"},"Sesiones",-1)),e("span",Te,r(t(P))+" / "+r(c.bono.sesiones_totales)+" disponibles ",1)]),e("div",Re,[e("div",{class:j(["h-4 rounded-full transition-all duration-700 ease-out shadow-lg relative overflow-hidden",t(o)]),style:re({width:t(m)+"%"})},[...i[9]||(i[9]=[e("div",{class:"absolute inset-0 bg-gradient-to-r from-white/30 to-transparent"},null,-1),e("div",{class:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"},null,-1)])],6)]),e("div",Ne,[e("span",null,r(t(f))+" usadas",1),e("span",Ue,r(t(m))+"% completado",1)])]),e("div",ze,[e("div",Ie,[i[10]||(i[10]=e("div",{class:"text-xs font-sans text-gray-500 uppercase tracking-wider mb-2"},"Tipo",-1)),e("div",qe,r(c.bono.tipo||"Est√°ndar"),1)]),e("div",Oe,[i[11]||(i[11]=e("div",{class:"text-xs font-sans text-gray-500 uppercase tracking-wider mb-2"},"Frecuencia",-1)),e("div",Le,r(c.bono.frecuencia||"Semanal"),1)]),e("div",Ge,[i[12]||(i[12]=e("div",{class:"text-xs text-[#2D3748]/60 mb-1"},"Monto",-1)),e("div",Qe,r(N(c.bono.monto)),1)]),e("div",He,[i[13]||(i[13]=e("div",{class:"text-xs text-[#2D3748]/60 mb-1"},"Pago",-1)),e("div",{class:j(["text-sm font-medium flex items-center gap-1",c.bono.pagado?"text-green-600":"text-orange-600"])},r(c.bono.pagado?"‚úì Pagado":"‚è≥ Pendiente"),3)])]),c.bono.fecha_inicio||c.bono.fecha_fin?(d(),u("div",Ye,[e("div",Je,[c.bono.fecha_inicio?(d(),u("div",Ke,[i[14]||(i[14]=e("span",{class:"text-[#2D3748]/60"},"Inicio:",-1)),e("span",Xe,r(Y(c.bono.fecha_inicio)),1)])):g("",!0),c.bono.fecha_fin?(d(),u("div",We,[i[15]||(i[15]=e("span",{class:"text-[#2D3748]/60"},"Vence:",-1)),e("span",{class:j(["font-medium ml-1",t(R)?"text-orange-600":"text-[#2D3748]"])},r(Y(c.bono.fecha_fin)),3)])):g("",!0)]),t(l)!==null&&c.bono.estado==="activo"?(d(),u("div",Ze,r(t(l)>0?`${t(l)} d√≠as restantes`:"Vencido"),1)):g("",!0)])):g("",!0),c.bono.renovacion_automatica?(d(),u("div",eo,[...i[16]||(i[16]=[e("span",{class:"text-sm"},"üîÑ",-1),e("span",{class:"text-xs text-purple-700 font-medium"},"Renovaci√≥n autom√°tica activada",-1)])])):g("",!0),c.bono.notas?(d(),u("div",oo,[i[17]||(i[17]=e("div",{class:"text-xs text-[#2D3748]/60 mb-1"},"Notas",-1)),e("div",to,r(c.bono.notas),1)])):g("",!0),e("div",so,[t(z)?(d(),u("button",{key:0,onClick:i[2]||(i[2]=I=>w.$emit("verPagos",c.bono)),class:"flex-1 px-4 py-2 bg-[#5550F2] text-white rounded-lg hover:bg-[#C89B8A] transition-colors text-sm font-medium flex items-center justify-center gap-2"},[...i[18]||(i[18]=[e("span",null,"üí∞",-1),e("span",null,"Ver Pagos",-1)])])):g("",!0),t(T)&&c.bono.estado!=="activo"?(d(),u("button",{key:1,onClick:i[3]||(i[3]=I=>w.$emit("renovar",c.bono)),class:"flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm font-medium flex items-center justify-center gap-2"},[...i[19]||(i[19]=[e("span",null,"üîÑ",-1),e("span",null,"Renovar",-1)])])):g("",!0),t(H)?(d(),u("button",{key:2,onClick:i[4]||(i[4]=I=>w.$emit("editar",c.bono)),class:"px-4 py-2 bg-white border border-[#5550F2]/30 text-[#2D3748] rounded-lg hover:bg-[#5550F2]/10 transition-colors text-sm font-medium"}," ‚úèÔ∏è ")):g("",!0)])],2))}}),ao=Object.assign(se(no,[["__scopeId","data-v-22bd053c"]]),{__name:"BonoCard"}),ro={class:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 max-w-3xl w-full max-h-[90vh] overflow-hidden relative"},lo={class:"relative max-h-[90vh] overflow-y-auto"},io={class:"sticky top-0 bg-white/90 backdrop-blur-md border-b border-gray-200/50 px-8 py-6 flex justify-between items-center z-10"},uo={class:"flex items-center gap-4"},co={class:"text-sm font-sans text-gray-600 mt-1"},mo={class:"grid grid-cols-2 gap-6"},bo={class:"grid grid-cols-2 gap-4"},po=["max"],vo={key:0,class:"flex items-center gap-2 p-3 bg-blue-50 border border-blue-200 rounded-lg"},go={class:"text-sm text-blue-800"},fo={class:"relative"},xo={class:"grid grid-cols-2 gap-4"},yo=["min"],wo={class:"flex items-start gap-3 p-4 bg-purple-50 border border-purple-200 rounded-lg"},ho={class:"grid grid-cols-2 gap-3"},Do={key:1,class:"p-4 bg-gradient-to-r from-[#5550F2]/10 to-[#ECC8BA]/10 rounded-lg border border-[#5550F2]/30"},$o={class:"grid grid-cols-2 gap-3 text-sm"},_o={class:"font-medium text-[#2D3748] ml-1 capitalize"},ko={class:"font-medium text-[#2D3748] ml-1 capitalize"},Fo={class:"font-medium text-[#2D3748] ml-1"},Co={class:"font-medium text-[#2D3748] ml-1"},Bo={class:"font-medium text-[#2D3748] ml-1"},Po={key:2,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},Ao={class:"text-sm text-red-700 flex items-center gap-2"},Mo={class:"flex gap-3 pt-4 border-t border-[#5550F2]/30"},So=["disabled"],Eo=["disabled"],jo=W({__name:"ModalNuevoBono",props:{mostrar:{type:Boolean},pacienteId:{},pacienteNombre:{},psicologaId:{}},emits:["close","created"],setup(c,{emit:D}){const x=c,A=D,{crearBono:U}=X(),{userProfile:M}=le(),s=y({tipo:"mensual",frecuencia:"semanal",sesiones_totales:4,sesiones_usadas:0,monto:0,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:"",estado:"pendiente",renovacion_automatica:!1,notas:""}),k=y(!1),b=y(""),S=v(()=>s.value.tipo&&s.value.sesiones_totales&&s.value.monto),V=v(()=>!s.value.sesiones_totales||!s.value.monto?"0.00":(s.value.monto/s.value.sesiones_totales).toFixed(2)),F=v(()=>Math.max(0,s.value.sesiones_totales-(s.value.sesiones_usadas||0))),B=v(()=>!!(s.value.tipo&&s.value.frecuencia&&s.value.sesiones_totales>0&&s.value.monto>0&&s.value.estado)),P=()=>{k.value||(b.value="",A("close"))},f=async()=>{if(!B.value){b.value="Por favor completa todos los campos requeridos";return}try{k.value=!0,b.value="";const m=s.value.sesiones_usadas||0,o=s.value.sesiones_totales-m,l={paciente_id:x.pacienteId,terapeuta_id:x.psicologaId||M.value?.id,tipo:s.value.tipo,frecuencia:s.value.frecuencia,sesiones_totales:s.value.sesiones_totales,sesiones_usadas:m,sesiones_restantes:o,fecha_inicio:s.value.fecha_inicio||null,fecha_fin:s.value.fecha_fin||null,estado:o<=0?"agotado":s.value.estado,monto:s.value.monto,pagado:s.value.estado==="activo",renovacion_automatica:s.value.renovacion_automatica,notas:s.value.notas||null},R=await U(l);A("created",R),A("close"),s.value={tipo:"mensual",frecuencia:"semanal",sesiones_totales:4,sesiones_usadas:0,monto:0,fecha_inicio:new Date().toISOString().split("T")[0],fecha_fin:"",estado:"pendiente",renovacion_automatica:!1,notas:""}}catch(m){console.error("[ModalNuevoBono] Error al crear bono:",m),b.value=m.message||"Error al crear el bono. Int√©ntalo de nuevo."}finally{k.value=!1}};return oe(()=>s.value.tipo,m=>{if(s.value.fecha_inicio&&m){const o=new Date(s.value.fecha_inicio);let l=new Date(o);switch(m){case"quincenal":l.setDate(l.getDate()+15);break;case"mensual":l.setMonth(l.getMonth()+1);break;case"semestral":l.setMonth(l.getMonth()+6);break}s.value.fecha_fin=l?.toISOString().split("T")[0]||""}}),(m,o)=>c.mostrar?(d(),u("div",{key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:K(P,["self"])},[e("div",ro,[o[41]||(o[41]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 pointer-events-none"},null,-1)),o[42]||(o[42]=e("div",{class:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/20 to-[#5550F2]/20 rounded-full blur-2xl"},null,-1)),e("div",lo,[e("div",io,[e("div",uo,[o[12]||(o[12]=e("div",{class:"w-14 h-14 rounded-2xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center"},[e("span",{class:"text-2xl"},"üé´")],-1)),e("div",null,[o[11]||(o[11]=e("h2",{class:"text-3xl font-['Elms_Sans'] font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent"}," Nuevo Bono ",-1)),e("p",co," Crea un nuevo bono para "+r(c.pacienteNombre),1)])]),e("button",{onClick:P,class:"p-3 text-gray-500 hover:text-[#5550F2] hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-2xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg","aria-label":"Cerrar modal"},[...o[13]||(o[13]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:K(f,["prevent"]),class:"px-8 py-8 space-y-8"},[e("div",mo,[e("div",null,[o[15]||(o[15]=e("label",{class:"block text-sm font-sans font-semibold text-gray-700 mb-3"},[C(" Tipo de Bono "),e("span",{class:"text-[#F2B33D]"},"*")],-1)),_(e("select",{"onUpdate:modelValue":o[0]||(o[0]=l=>t(s).tipo=l),required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#5550F2]/20 focus:border-[#5550F2] bg-white/80 backdrop-blur-sm transition-all duration-300 font-sans hover:bg-white shadow-sm hover:shadow-md"},[...o[14]||(o[14]=[e("option",{value:""},"Seleccionar tipo",-1),e("option",{value:"quincenal"},"Quincenal",-1),e("option",{value:"mensual"},"Mensual",-1),e("option",{value:"semestral"},"Semestral",-1)])],512),[[J,t(s).tipo]])]),e("div",null,[o[17]||(o[17]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"},[C(" Frecuencia Sugerida "),e("span",{class:"text-red-500"},"*")],-1)),_(e("select",{"onUpdate:modelValue":o[1]||(o[1]=l=>t(s).frecuencia=l),required:"",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2] bg-white"},[...o[16]||(o[16]=[e("option",{value:""},"Seleccionar frecuencia",-1),e("option",{value:"semanal"},"Semanal",-1),e("option",{value:"quincenal"},"Quincenal",-1),e("option",{value:"mensual"},"Mensual",-1)])],512),[[J,t(s).frecuencia]])])]),e("div",bo,[e("div",null,[o[18]||(o[18]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"},[C(" Sesiones Totales "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t(s).sesiones_totales=l),type:"number",min:"1",max:"100",required:"",placeholder:"Ej: 4, 8, 12...",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2]"},null,512),[[O,t(s).sesiones_totales,void 0,{number:!0}]]),o[19]||(o[19]=e("p",{class:"text-xs text-[#2D3748]/60 mt-1"}," Sesiones incluidas en el bono ",-1))]),e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Sesiones Ya Usadas ",-1)),_(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>t(s).sesiones_usadas=l),type:"number",min:"0",max:t(s).sesiones_totales-1,placeholder:"0",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2]"},null,8,po),[[O,t(s).sesiones_usadas,void 0,{number:!0}]]),o[21]||(o[21]=e("p",{class:"text-xs text-[#2D3748]/60 mt-1"}," Para migraci√≥n desde otra plataforma ",-1))])]),t(s).sesiones_usadas>0?(d(),u("div",vo,[o[22]||(o[22]=e("span",{class:"text-blue-600"},"‚ÑπÔ∏è",-1)),e("p",go,[e("strong",null,r(t(F)),1),C(" de "+r(t(s).sesiones_totales)+" sesiones disponibles ("+r(t(s).sesiones_usadas)+" ya consumidas) ",1)])])):g("",!0),e("div",null,[o[24]||(o[24]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"},[C(" Monto Total "),e("span",{class:"text-red-500"},"*")],-1)),e("div",fo,[o[23]||(o[23]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-[#2D3748]/60"},"‚Ç¨",-1)),_(e("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>t(s).monto=l),type:"number",min:"0",step:"0.01",required:"",placeholder:"0.00",class:"w-full pl-8 pr-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2]"},null,512),[[O,t(s).monto,void 0,{number:!0}]])]),o[25]||(o[25]=e("p",{class:"text-xs text-[#2D3748]/60 mt-1"}," Precio total del bono (todas las sesiones) ",-1))]),e("div",xo,[e("div",null,[o[26]||(o[26]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Fecha de Inicio ",-1)),_(e("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>t(s).fecha_inicio=l),type:"date",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2]"},null,512),[[O,t(s).fecha_inicio]])]),e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Fecha de Vencimiento ",-1)),_(e("input",{"onUpdate:modelValue":o[6]||(o[6]=l=>t(s).fecha_fin=l),type:"date",min:t(s).fecha_inicio,class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2]"},null,8,yo),[[O,t(s).fecha_fin]])])]),e("div",wo,[_(e("input",{"onUpdate:modelValue":o[7]||(o[7]=l=>t(s).renovacion_automatica=l),type:"checkbox",id:"renovacion-auto",class:"mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"},null,512),[[te,t(s).renovacion_automatica]]),o[28]||(o[28]=e("label",{for:"renovacion-auto",class:"flex-1 cursor-pointer"},[e("div",{class:"text-sm font-medium text-purple-900"}," üîÑ Renovaci√≥n Autom√°tica "),e("div",{class:"text-xs text-purple-700 mt-1"}," El bono se renovar√° autom√°ticamente cuando se complete o venza ")],-1))]),e("div",null,[o[31]||(o[31]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Estado Inicial ",-1)),e("div",ho,[e("label",{class:j(["flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all",t(s).estado==="pendiente"?"border-yellow-400 bg-yellow-50":"border-gray-300 hover:border-yellow-300"])},[_(e("input",{"onUpdate:modelValue":o[8]||(o[8]=l=>t(s).estado=l),type:"radio",value:"pendiente",class:"w-4 h-4 text-yellow-600"},null,512),[[ae,t(s).estado]]),o[29]||(o[29]=e("div",null,[e("div",{class:"text-sm font-medium text-[#2D3748]"},"‚è≥ Pendiente"),e("div",{class:"text-xs text-[#2D3748]/60"},"Requiere pago")],-1))],2),e("label",{class:j(["flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all",t(s).estado==="activo"?"border-green-400 bg-green-50":"border-gray-300 hover:border-green-300"])},[_(e("input",{"onUpdate:modelValue":o[9]||(o[9]=l=>t(s).estado=l),type:"radio",value:"activo",class:"w-4 h-4 text-green-600"},null,512),[[ae,t(s).estado]]),o[30]||(o[30]=e("div",null,[e("div",{class:"text-sm font-medium text-[#2D3748]"},"‚úÖ Activo"),e("div",{class:"text-xs text-[#2D3748]/60"},"Ya pagado")],-1))],2)])]),e("div",null,[o[32]||(o[32]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Notas (Opcional) ",-1)),_(e("textarea",{"onUpdate:modelValue":o[10]||(o[10]=l=>t(s).notas=l),rows:"3",placeholder:"Informaci√≥n adicional sobre el bono...",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2] resize-none"},null,512),[[O,t(s).notas]])]),t(S)?(d(),u("div",Do,[o[39]||(o[39]=e("div",{class:"font-medium text-[#2D3748] mb-3 flex items-center gap-2"},[e("span",null,"üìã"),C(" Resumen del Bono ")],-1)),e("div",$o,[e("div",null,[o[33]||(o[33]=e("span",{class:"text-[#2D3748]/60"},"Tipo:",-1)),e("span",_o,r(t(s).tipo||"-"),1)]),e("div",null,[o[34]||(o[34]=e("span",{class:"text-[#2D3748]/60"},"Frecuencia:",-1)),e("span",ko,r(t(s).frecuencia||"-"),1)]),e("div",null,[o[35]||(o[35]=e("span",{class:"text-[#2D3748]/60"},"Sesiones:",-1)),e("span",Fo,r(t(F))+"/"+r(t(s).sesiones_totales||0),1)]),e("div",null,[o[36]||(o[36]=e("span",{class:"text-[#2D3748]/60"},"Monto:",-1)),e("span",Co,"‚Ç¨"+r(t(s).monto||0),1)]),e("div",null,[o[37]||(o[37]=e("span",{class:"text-[#2D3748]/60"},"Precio/sesi√≥n:",-1)),e("span",Bo,"‚Ç¨"+r(t(V)),1)]),e("div",null,[o[38]||(o[38]=e("span",{class:"text-[#2D3748]/60"},"Estado:",-1)),e("span",{class:j(["font-medium capitalize ml-1",t(s).estado==="activo"?"text-green-600":"text-yellow-600"])},r(t(s).estado||"-"),3)])])])):g("",!0),t(b)?(d(),u("div",Po,[e("p",Ao,[o[40]||(o[40]=e("span",null,"‚ùå",-1)),C(" "+r(t(b)),1)])])):g("",!0),e("div",Mo,[e("button",{type:"button",onClick:P,class:"flex-1 px-6 py-3 bg-white border border-[#5550F2]/30 text-[#2D3748] rounded-lg hover:bg-[#5550F2]/10 transition-colors font-medium",disabled:t(k)}," Cancelar ",8,So),e("button",{type:"submit",class:"flex-1 px-6 py-3 bg-[#5550F2] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:t(k)||!t(B)},r(t(k)?"Creando...":"Crear Bono"),9,Eo)])],32)])])])):g("",!0)}}),Vo=Object.assign(jo,{__name:"ModalNuevoBono"}),To={class:"bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 max-w-4xl w-full max-h-[90vh] overflow-hidden relative"},Ro={class:"relative max-h-[90vh] overflow-y-auto"},No={class:"sticky top-0 bg-white/90 backdrop-blur-md border-b border-gray-200/50 px-8 py-6 z-10"},Uo={key:0,class:"mt-6 p-6 bg-gradient-to-r from-[#5550F2]/5 via-[#027368]/5 to-[#04BF9D]/5 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg"},zo={class:"grid grid-cols-3 gap-6 text-sm"},Io={class:"text-center"},qo={class:"font-sans font-semibold text-gray-800 capitalize text-lg"},Oo={class:"text-center"},Lo={class:"font-['Elms_Sans'] font-bold bg-gradient-to-r from-[#F2B33D] to-[#5550F2] bg-clip-text text-transparent text-2xl"},Go={class:"text-center"},Qo={class:"px-6 py-6 space-y-6"},Ho={class:"p-4 bg-white border-2 border-[#5550F2]/30 rounded-xl"},Yo={class:"grid grid-cols-3 gap-4 text-center"},Jo={class:"text-2xl font-bold text-green-600"},Ko={class:"text-2xl font-bold text-orange-600"},Xo={class:"text-2xl font-bold text-[#2D3748]"},Wo={class:"mt-4"},Zo={class:"flex justify-between text-xs text-[#2D3748]/60 mb-1"},et={class:"w-full bg-gray-200 rounded-full h-2"},ot={key:0,class:"flex justify-end"},tt={key:1,class:"p-5 bg-green-50 border-2 border-green-300 rounded-xl"},st={class:"grid grid-cols-2 gap-4"},nt={class:"relative"},at={key:0,class:"flex items-center gap-2 p-3 bg-white border border-green-300 rounded-lg"},rt={class:"flex gap-3"},lt=["disabled"],it={class:"font-serif text-lg font-semibold text-[#2D3748] mb-4 flex items-center gap-2"},dt={key:0,class:"text-center py-8"},ut={key:1,class:"text-center py-12"},ct={key:2,class:"space-y-3"},mt={class:"flex items-start justify-between gap-4"},bt={class:"flex-1"},pt={class:"flex items-center gap-3 mb-2"},vt={class:"space-y-1 text-sm text-[#2D3748]/70"},gt={class:"flex items-center gap-2"},ft={class:"capitalize"},xt={class:"flex items-center gap-2"},yt={key:0,class:"flex items-center gap-2"},wt={key:0},ht=["onClick","disabled"],Dt={key:2,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},$t={class:"text-sm text-red-700 flex items-center gap-2"},_t={key:3,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},kt={class:"text-sm text-green-700 flex items-center gap-2"},Ft=W({__name:"ModalPagosBono",props:{mostrar:{type:Boolean},bono:{}},emits:["close","updated"],setup(c,{emit:D}){const x=c,A=D,{getPagosPorBono:U,registrarPago:M,confirmarPago:s,puedeGestionarBonos:k,puedeConfirmarPagos:b}=X(),S=y([]),V=y(!1),F=y(!1),B=y(!1),P=y(null),f=y(""),m=y(""),o=y({monto:0,metodo:"",confirmado:!1}),l=v(()=>[...S.value].sort((p,a)=>new Date(a.fecha_pago).getTime()-new Date(p.fecha_pago).getTime())),R=v(()=>S.value.filter(p=>p.confirmado).reduce((p,a)=>p+(a.monto||0),0)),G=v(()=>{const p=x.bono?.monto||0;return Math.max(0,p-R.value)}),z=v(()=>{const p=x.bono?.monto||0;return p===0?0:Math.round(R.value/p*100)}),T=async()=>{if(x.bono?.id)try{V.value=!0,f.value="",S.value=await U(x.bono.id)}catch(p){console.error("[ModalPagosBono] Error al cargar pagos:",p),f.value="Error al cargar los pagos"}finally{V.value=!1}},H=async()=>{if(!x.bono?.id||!o.value.monto||!o.value.metodo){f.value="Por favor completa todos los campos";return}try{B.value=!0,f.value="",m.value="",await M(x.bono.id,o.value.monto,o.value.metodo,o.value.confirmado),m.value="Pago registrado correctamente",F.value=!1,o.value={monto:0,metodo:"",confirmado:!1},await T(),A("updated"),setTimeout(()=>{m.value=""},3e3)}catch(p){console.error("[ModalPagosBono] Error al registrar pago:",p),f.value=p.message||"Error al registrar el pago"}finally{B.value=!1}},Y=async p=>{try{P.value=p,f.value="",m.value="";const a=await s(p);m.value=a.mensaje||"Pago confirmado correctamente",await T(),A("updated"),setTimeout(()=>{m.value=""},3e3)}catch(a){console.error("[ModalPagosBono] Error al confirmar pago:",a),f.value=a.message||"Error al confirmar el pago"}finally{P.value=null}},N=()=>{f.value="",m.value="",F.value=!1,A("close")},w=p=>{if(!p)return"";try{return new Date(p).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}catch{return p}},i=p=>p?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(p):"‚Ç¨ 0.00",I=p=>({efectivo:"Efectivo",transferencia:"Transferencia Bancaria",tarjeta:"Tarjeta de Cr√©dito/D√©bito",bizum:"Bizum",paypal:"PayPal"})[p]||p;return oe(()=>x.mostrar,p=>{p&&T()},{immediate:!0}),(p,a)=>c.mostrar?(d(),u("div",{key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:K(N,["self"])},[e("div",To,[a[28]||(a[28]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 pointer-events-none"},null,-1)),a[29]||(a[29]=e("div",{class:"absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/20 to-[#5550F2]/20 rounded-full blur-2xl"},null,-1)),e("div",Ro,[e("div",No,[e("div",{class:"flex justify-between items-start"},[a[6]||(a[6]=ee('<div class="flex-1" data-v-5db71466><div class="flex items-center gap-4 mb-3" data-v-5db71466><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center" data-v-5db71466><span class="text-2xl" data-v-5db71466>üí∞</span></div><h2 class="text-3xl font-[&#39;Elms_Sans&#39;] font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent" data-v-5db71466> Pagos del Bono </h2></div><p class="text-sm font-sans text-gray-600 ml-18" data-v-5db71466> Gestiona los pagos y confirma transacciones de forma segura </p></div>',1)),e("button",{onClick:N,class:"p-3 text-gray-500 hover:text-[#5550F2] hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-2xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg","aria-label":"Cerrar modal"},[...a[5]||(a[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),c.bono?(d(),u("div",Uo,[e("div",zo,[e("div",Io,[a[7]||(a[7]=e("div",{class:"text-xs font-sans text-gray-500 uppercase tracking-wider mb-2"},"Tipo",-1)),e("div",qo,r(c.bono.tipo),1)]),e("div",Oo,[a[8]||(a[8]=e("div",{class:"text-xs font-sans text-gray-500 uppercase tracking-wider mb-2"},"Monto Total",-1)),e("div",Lo,r(i(c.bono.monto)),1)]),e("div",Go,[a[9]||(a[9]=e("div",{class:"text-xs font-sans text-gray-500 uppercase tracking-wider mb-2"},"Estado",-1)),e("div",{class:j(["font-sans font-semibold text-lg capitalize",c.bono.pagado?"text-[#04BF9D]":"text-[#F2B33D]"])},r(c.bono.pagado?"‚úì Pagado":"‚è≥ Pendiente"),3)])])])):g("",!0)]),e("div",Qo,[e("div",Ho,[e("div",Yo,[e("div",null,[e("div",Jo,r(i(t(R))),1),a[10]||(a[10]=e("div",{class:"text-xs text-[#2D3748]/60 mt-1"},"Total Pagado",-1))]),e("div",null,[e("div",Ko,r(i(t(G))),1),a[11]||(a[11]=e("div",{class:"text-xs text-[#2D3748]/60 mt-1"},"Pendiente",-1))]),e("div",null,[e("div",Xo,r(t(S).length),1),a[12]||(a[12]=e("div",{class:"text-xs text-[#2D3748]/60 mt-1"},"Transacciones",-1))])]),e("div",Wo,[e("div",Zo,[a[13]||(a[13]=e("span",null,"Progreso de pago",-1)),e("span",null,r(t(z))+"%",1)]),e("div",et,[e("div",{class:j(["h-2 rounded-full transition-all duration-500",t(z)>=100?"bg-green-500":"bg-gradient-to-r from-[#5550F2] to-[#ECC8BA]"]),style:re({width:Math.min(t(z),100)+"%"})},null,6)])])]),t(k)?(d(),u("div",ot,[e("button",{onClick:a[0]||(a[0]=h=>F.value=!t(F)),class:"px-4 py-2 bg-[#5550F2] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium flex items-center gap-2"},[e("span",null,r(t(F)?"‚úï":"+"),1),e("span",null,r(t(F)?"Cancelar":"Registrar Pago"),1)])])):g("",!0),t(F)?(d(),u("div",tt,[a[19]||(a[19]=e("h3",{class:"font-serif text-lg font-semibold text-[#2D3748] mb-4 flex items-center gap-2"},[e("span",null,"üí≥"),C(" Registrar Nuevo Pago ")],-1)),e("form",{onSubmit:K(H,["prevent"]),class:"space-y-4"},[e("div",st,[e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"},[C(" Monto "),e("span",{class:"text-red-500"},"*")],-1)),e("div",nt,[a[14]||(a[14]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-[#2D3748]/60"},"‚Ç¨",-1)),_(e("input",{"onUpdate:modelValue":a[1]||(a[1]=h=>t(o).monto=h),type:"number",min:"0",step:"0.01",required:"",placeholder:"0.00",class:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2] bg-white"},null,512),[[O,t(o).monto,void 0,{number:!0}]])])]),e("div",null,[a[17]||(a[17]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"},[C(" M√©todo de Pago "),e("span",{class:"text-red-500"},"*")],-1)),_(e("select",{"onUpdate:modelValue":a[2]||(a[2]=h=>t(o).metodo=h),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2] bg-white"},[...a[16]||(a[16]=[ee('<option value="" data-v-5db71466>Seleccionar m√©todo</option><option value="efectivo" data-v-5db71466>üíµ Efectivo</option><option value="transferencia" data-v-5db71466>üè¶ Transferencia</option><option value="tarjeta" data-v-5db71466>üí≥ Tarjeta</option><option value="bizum" data-v-5db71466>üì± Bizum</option><option value="paypal" data-v-5db71466>üÖøÔ∏è PayPal</option>',6)])],512),[[J,t(o).metodo]])])]),t(b)?(d(),u("div",at,[_(e("input",{"onUpdate:modelValue":a[3]||(a[3]=h=>t(o).confirmado=h),type:"checkbox",id:"confirmar-pago",class:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"},null,512),[[te,t(o).confirmado]]),a[18]||(a[18]=e("label",{for:"confirmar-pago",class:"text-sm text-[#2D3748] cursor-pointer"}," ‚úì Confirmar pago inmediatamente (ya verificado) ",-1))])):g("",!0),e("div",rt,[e("button",{type:"button",onClick:a[4]||(a[4]=h=>F.value=!1),class:"flex-1 px-4 py-2 bg-white border border-gray-300 text-[#2D3748] rounded-lg hover:bg-gray-50 transition-colors"}," Cancelar "),e("button",{type:"submit",class:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium disabled:opacity-50",disabled:t(B)},r(t(B)?"Registrando...":"Guardar Pago"),9,lt)])],32)])):g("",!0),e("div",null,[e("h3",it,[a[20]||(a[20]=e("span",null,"üìú",-1)),C(" Historial de Pagos ("+r(t(S).length)+") ",1)]),t(V)?(d(),u("div",dt,[...a[21]||(a[21]=[e("div",{class:"animate-spin w-10 h-10 border-4 border-[#5550F2] border-t-transparent rounded-full mx-auto mb-3"},null,-1),e("p",{class:"text-[#2D3748]/60"},"Cargando pagos...",-1)])])):t(S).length===0?(d(),u("div",ut,[...a[22]||(a[22]=[e("span",{class:"text-6xl mb-3 block opacity-40"},"üí∏",-1),e("p",{class:"text-[#2D3748]/60"},"No hay pagos registrados a√∫n",-1)])])):(d(),u("div",ct,[(d(!0),u(ie,null,de(t(l),h=>(d(),u("div",{key:h.id,class:j(["p-4 border-2 rounded-lg transition-all",h.confirmado?"bg-green-50 border-green-300":"bg-yellow-50 border-yellow-300"])},[e("div",mt,[e("div",bt,[e("div",pt,[e("span",{class:j(["text-2xl font-bold",h.confirmado?"text-green-600":"text-yellow-600"])},r(i(h.monto)),3),e("span",{class:j(["px-2 py-1 rounded-full text-xs font-medium capitalize",h.confirmado?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"])},r(h.confirmado?"‚úì Confirmado":"‚è≥ Pendiente"),3)]),e("div",vt,[e("div",gt,[a[23]||(a[23]=e("span",null,"üí≥",-1)),e("span",ft,r(I(h.metodo_pago)),1)]),e("div",xt,[a[24]||(a[24]=e("span",null,"üìÖ",-1)),e("span",null,r(w(h.fecha_pago)),1)]),h.confirmado&&h.fecha_confirmacion?(d(),u("div",yt,[a[25]||(a[25]=e("span",null,"‚úÖ",-1)),e("span",null,"Confirmado el "+r(w(h.fecha_confirmacion)),1)])):g("",!0)])]),t(b)&&!h.confirmado?(d(),u("div",wt,[e("button",{onClick:ne=>Y(h.id),class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium",disabled:t(P)===h.id},r(t(P)===h.id?"Confirmando...":"‚úì Confirmar"),9,ht)])):g("",!0)])],2))),128))]))]),t(f)?(d(),u("div",Dt,[e("p",$t,[a[26]||(a[26]=e("span",null,"‚ùå",-1)),C(" "+r(t(f)),1)])])):g("",!0),t(m)?(d(),u("div",_t,[e("p",kt,[a[27]||(a[27]=e("span",null,"‚úÖ",-1)),C(" "+r(t(m)),1)])])):g("",!0)]),e("div",{class:"sticky bottom-0 bg-[#F2F2F2] border-t border-[#5550F2]/30 px-6 py-4"},[e("button",{onClick:N,class:"w-full px-6 py-3 bg-[#2D3748] text-white rounded-lg hover:bg-[#4A3A34] transition-colors font-medium"}," Cerrar ")])])])])):g("",!0)}}),Ct=Object.assign(se(Ft,[["__scopeId","data-v-5db71466"]]),{__name:"ModalPagosBono"}),Bt={class:"bg-[#F2F2F2] rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},Pt={class:"px-6 py-6 space-y-6"},At={class:"p-5 bg-gradient-to-r from-gray-100 to-gray-50 border-2 border-gray-300 rounded-xl"},Mt={class:"grid grid-cols-2 gap-4 text-sm"},St={class:"p-3 bg-white rounded-lg"},Et={class:"font-medium text-[#2D3748] capitalize"},jt={class:"p-3 bg-white rounded-lg"},Vt={class:"font-medium text-[#2D3748] capitalize"},Tt={class:"p-3 bg-white rounded-lg"},Rt={class:"font-medium text-[#2D3748]"},Nt={class:"p-3 bg-white rounded-lg"},Ut={class:"font-medium text-[#2D3748]"},zt={class:"p-3 bg-white rounded-lg"},It={class:"font-bold text-[#5550F2] text-lg"},qt={class:"p-3 bg-white rounded-lg"},Ot={class:"p-5 bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-xl"},Lt={class:"mb-5 p-3 bg-white border border-purple-200 rounded-lg"},Gt={class:"flex items-center gap-3 cursor-pointer"},Qt={key:0,class:"space-y-4"},Ht={class:"grid grid-cols-2 gap-4"},Yt={class:"relative"},Jt={class:"p-3 bg-purple-100 rounded-lg text-sm"},Kt={class:"flex justify-between mb-1"},Xt={class:"font-bold text-purple-700"},Wt={class:"flex justify-between"},Zt={class:"font-medium text-[#2D3748]/60"},es={key:1,class:"p-4 bg-green-50 border border-green-300 rounded-lg"},os={class:"text-sm text-green-700 flex items-center gap-2"},ts={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},ss={class:"text-sm text-red-700 flex items-center gap-2"},ns={class:"flex gap-3 pt-4 border-t border-[#5550F2]/30"},as=["disabled"],rs=["disabled"],ls={key:0},is={key:1},ds=W({__name:"ModalRenovacionBono",props:{mostrar:{type:Boolean},bono:{}},emits:["close","renovated"],setup(c,{emit:D}){const x=c,A=D,{renovarBono:U}=X(),M=y(!0),s=y(!1),k=y(""),b=y({sesiones_nuevas:x.bono?.sesiones_totales||0,monto_nuevo:x.bono?.monto||0,motivo:""}),S=v(()=>({pendiente:"text-yellow-600",activo:"text-green-600",completado:"text-gray-600",vencido:"text-red-600",cancelado:"text-gray-500"})[x.bono?.estado]||"text-gray-600"),V=v(()=>!x.bono?.sesiones_totales||!x.bono?.monto?"0.00":(x.bono.monto/x.bono.sesiones_totales).toFixed(2)),F=v(()=>!b.value.sesiones_nuevas||!b.value.monto_nuevo?"0.00":(b.value.monto_nuevo/b.value.sesiones_nuevas).toFixed(2)),B=()=>{s.value||(k.value="",A("close"))},P=async()=>{if(!x.bono?.id){k.value="Bono no v√°lido";return}try{s.value=!0,k.value="";const m=M.value?null:b.value.sesiones_nuevas,o=M.value?null:b.value.monto_nuevo,l=await U(x.bono.id,b.value.motivo||"Renovaci√≥n manual solicitada",m,o);A("renovated",l),A("close"),b.value={sesiones_nuevas:x.bono?.sesiones_totales||0,monto_nuevo:x.bono?.monto||0,motivo:""},M.value=!0}catch(m){console.error("[ModalRenovacionBono] Error al renovar:",m),k.value=m.message||"Error al renovar el bono. Int√©ntalo de nuevo."}finally{s.value=!1}},f=m=>m?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(m):"‚Ç¨ 0.00";return oe(()=>x.bono,m=>{m&&(b.value.sesiones_nuevas=m.sesiones_totales||0,b.value.monto_nuevo=m.monto||0)},{immediate:!0}),(m,o)=>c.mostrar?(d(),u("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:K(B,["self"])},[e("div",Bt,[e("div",{class:"sticky top-0 bg-[#F2F2F2] border-b border-[#5550F2]/30 px-6 py-4 flex justify-between items-center"},[o[5]||(o[5]=e("div",null,[e("h2",{class:"text-2xl font-serif text-[#2D3748] font-semibold flex items-center gap-2"},[e("span",{class:"text-2xl"},"üîÑ"),C(" Renovar Bono ")]),e("p",{class:"text-sm text-[#2D3748]/60 mt-1"}," Crea una nueva renovaci√≥n basada en el bono actual ")],-1)),e("button",{onClick:B,class:"text-[#2D3748] hover:text-[#5550F2] transition-colors","aria-label":"Cerrar modal"},[...o[4]||(o[4]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Pt,[e("div",At,[o[12]||(o[12]=e("h3",{class:"font-serif text-lg font-semibold text-[#2D3748] mb-4 flex items-center gap-2"},[e("span",null,"üìã"),C(" Bono Actual ")],-1)),e("div",Mt,[e("div",St,[o[6]||(o[6]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Tipo",-1)),e("div",Et,r(c.bono.tipo),1)]),e("div",jt,[o[7]||(o[7]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Frecuencia",-1)),e("div",Vt,r(c.bono.frecuencia),1)]),e("div",Tt,[o[8]||(o[8]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Sesiones Totales",-1)),e("div",Rt,r(c.bono.sesiones_totales),1)]),e("div",Nt,[o[9]||(o[9]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Sesiones Restantes",-1)),e("div",Ut,r(c.bono.sesiones_restantes||0),1)]),e("div",zt,[o[10]||(o[10]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Monto",-1)),e("div",It,r(f(c.bono.monto)),1)]),e("div",qt,[o[11]||(o[11]=e("div",{class:"text-[#2D3748]/60 mb-1"},"Estado",-1)),e("div",{class:j(["font-medium capitalize",t(S)])},r(c.bono.estado),3)])])]),e("form",{onSubmit:K(P,["prevent"]),class:"space-y-5"},[e("div",Ot,[o[22]||(o[22]=e("h3",{class:"font-serif text-lg font-semibold text-[#2D3748] mb-4 flex items-center gap-2"},[e("span",null,"‚ú®"),C(" Datos del Nuevo Bono ")],-1)),e("div",Lt,[e("label",Gt,[_(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>Z(M)?M.value=l:null),type:"checkbox",class:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"},null,512),[[te,t(M)]]),o[13]||(o[13]=e("div",null,[e("div",{class:"text-sm font-medium text-[#2D3748]"}," Mantener los mismos valores del bono original "),e("div",{class:"text-xs text-[#2D3748]/60 mt-1"}," Si lo desmarcas, podr√°s personalizar las sesiones y el monto ")],-1))])]),t(M)?(d(),u("div",es,[e("p",os,[o[19]||(o[19]=e("span",null,"‚úì",-1)),o[20]||(o[20]=C(" Se duplicar√°n los valores originales: ",-1)),e("strong",null,r(c.bono.sesiones_totales)+" sesiones",1),o[21]||(o[21]=C(" por ",-1)),e("strong",null,r(f(c.bono.monto)),1)])])):(d(),u("div",Qt,[e("div",Ht,[e("div",null,[o[14]||(o[14]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Sesiones Totales ",-1)),_(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>t(b).sesiones_nuevas=l),type:"number",min:"1",max:"100",required:"",class:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"},null,512),[[O,t(b).sesiones_nuevas,void 0,{number:!0}]])]),e("div",null,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Monto Total ",-1)),e("div",Yt,[o[15]||(o[15]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-[#2D3748]/60"},"‚Ç¨",-1)),_(e("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>t(b).monto_nuevo=l),type:"number",min:"0",step:"0.01",required:"",placeholder:"0.00",class:"w-full pl-8 pr-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"},null,512),[[O,t(b).monto_nuevo,void 0,{number:!0}]])])])]),e("div",Jt,[e("div",Kt,[o[17]||(o[17]=e("span",{class:"text-[#2D3748]/70"},"Precio por sesi√≥n (nuevo):",-1)),e("span",Xt,"‚Ç¨"+r(t(F)),1)]),e("div",Wt,[o[18]||(o[18]=e("span",{class:"text-[#2D3748]/70"},"Precio por sesi√≥n (original):",-1)),e("span",Zt,"‚Ç¨"+r(t(V)),1)])])]))]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-[#2D3748] mb-2"}," Motivo de la Renovaci√≥n (Opcional) ",-1)),_(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=l=>t(b).motivo=l),rows:"3",placeholder:"Explica por qu√© se renueva este bono...",class:"w-full px-4 py-2 border border-[#5550F2]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#5550F2] resize-none"},null,512),[[O,t(b).motivo]])]),o[25]||(o[25]=ee('<div class="p-4 bg-blue-50 border-2 border-blue-300 rounded-lg"><h4 class="font-medium text-blue-900 mb-2 flex items-center gap-2"><span>‚ÑπÔ∏è</span> Informaci√≥n Importante </h4><ul class="text-sm text-blue-800 space-y-1.5"><li class="flex items-start gap-2"><span class="mt-0.5">‚Ä¢</span><span>El bono actual se marcar√° como <strong>completado</strong></span></li><li class="flex items-start gap-2"><span class="mt-0.5">‚Ä¢</span><span>Se crear√° un <strong>nuevo bono</strong> con estado <strong>pendiente</strong> hasta que se confirme el pago</span></li><li class="flex items-start gap-2"><span class="mt-0.5">‚Ä¢</span><span>La fecha de inicio ser√° <strong>hoy</strong> y la de vencimiento se calcular√° autom√°ticamente</span></li><li class="flex items-start gap-2"><span class="mt-0.5">‚Ä¢</span><span>Se guardar√° un registro en el historial de renovaciones</span></li></ul></div>',1)),t(k)?(d(),u("div",ts,[e("p",ss,[o[24]||(o[24]=e("span",null,"‚ùå",-1)),C(" "+r(t(k)),1)])])):g("",!0),e("div",ns,[e("button",{type:"button",onClick:B,class:"flex-1 px-6 py-3 bg-white border border-[#5550F2]/30 text-[#2D3748] rounded-lg hover:bg-[#5550F2]/10 transition-colors font-medium",disabled:t(s)}," Cancelar ",8,as),e("button",{type:"submit",class:"flex-1 px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:t(s)},[t(s)?(d(),u("span",ls,"‚è≥")):(d(),u("span",is,"üîÑ")),e("span",null,r(t(s)?"Renovando...":"Confirmar Renovaci√≥n"),1)],8,rs)])],32)])])])):g("",!0)}}),us=Object.assign(ds,{__name:"ModalRenovacionBono"}),cs={class:"bonos-container pb-20"},ms={class:"mb-6"},bs={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},ps={class:"text-3xl font-['Lora'] font-bold text-[#5D4A44] mb-2 flex items-center gap-3"},vs={key:0,class:"text-center py-16"},gs={key:1,class:"text-center py-16"},fs={class:"text-[#5D4A44]/60 mb-4"},xs={key:2},ys={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"},ws={class:"flex items-center justify-between"},hs={class:"text-3xl font-bold text-purple-700"},Ds={class:"flex items-center justify-between"},$s={class:"text-3xl font-bold text-green-700"},_s={class:"flex items-center justify-between"},ks={class:"text-3xl font-bold text-orange-700"},Fs={class:"flex items-center justify-between"},Cs={class:"text-3xl font-bold text-yellow-700"},Bs={class:"mb-6"},Ps={class:"flex flex-col md:flex-row gap-4"},As={class:"flex-1"},Ms={class:"flex-1"},Ss={class:"flex-1"},Es={key:0,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},js={key:1,class:"text-center py-16"},Vs={class:"text-xl font-['Lora'] font-semibold text-[#5D4A44] mb-2"},Ts={class:"text-[#5D4A44]/60 mb-6"},Rs={key:2,class:"mt-8 space-y-3"},Ns={key:0,class:"p-4 bg-orange-50 border-2 border-orange-300 rounded-lg"},Us={class:"flex items-start gap-3"},zs={class:"flex-1"},Is={class:"font-medium text-orange-900 mb-1"},qs={key:1,class:"p-4 bg-blue-50 border-2 border-blue-300 rounded-lg"},Os={class:"flex items-start gap-3"},Ls={class:"flex-1"},Gs={class:"font-medium text-blue-900 mb-1"},Qs=W({__name:"bonos",setup(c){const D=he(),{userProfile:x}=le(),A=v(()=>$e()),U=v(()=>_e()),{getBonosPorPaciente:M,calcularMetricas:s,puedeGestionarBonos:k}=X(),b=v(()=>A.value?A.value.params.id:""),S=v(()=>x.value?.id||""),V=y(!0),F=y(null),B=y([]),P=y(""),f=y({total:0,activos:0,completados:0,vencidos:0,pendientes:0,proximosAVencer:0,pocasSesiones:0}),m=y("todos"),o=y("todos"),l=y("reciente"),R=y(!1),G=y(!1),z=y(!1),T=y(null),H=v(()=>{let $=[...B.value];return m.value!=="todos"&&($=$.filter(n=>n.estado===m.value)),o.value!=="todos"&&($=$.filter(n=>n.tipo===o.value)),l.value==="reciente"?$.sort((n,E)=>new Date(E.created_at).getTime()-new Date(n.created_at).getTime()):l.value==="antiguo"?$.sort((n,E)=>new Date(n.created_at).getTime()-new Date(E.created_at).getTime()):l.value==="vencimiento"&&$.sort((n,E)=>n.fecha_fin?E.fecha_fin?new Date(n.fecha_fin).getTime()-new Date(E.fecha_fin).getTime():-1:1),$}),Y=v(()=>f.value.proximosAVencer>0||f.value.pocasSesiones>0),N=async()=>{try{V.value=!0,F.value=null;const{data:$,error:n}=await D.from("pacientes").select("nombre, email").eq("id",b.value).single();if(n)throw n;P.value=$?.nombre||$?.email||"Paciente",B.value=await M(b.value),f.value=await s(b.value)}catch($){console.error("[BonosPage] Error al cargar bonos:",$),F.value=$.message||"Error al cargar los bonos"}finally{V.value=!1}},w=()=>{m.value="todos",o.value="todos",l.value="reciente"},i=()=>{U.value&&U.value.push(`/terapeuta/pacientes/${b.value}`)},I=()=>{R.value=!0},p=()=>{R.value=!1},a=async()=>{await N()},h=$=>{T.value=$,G.value=!0},ne=()=>{G.value=!1,T.value=null},ue=async()=>{await N()},ce=$=>{T.value=$,z.value=!0},me=()=>{z.value=!1,T.value=null},be=async()=>{await N()},pe=$=>{console.log("Editar bono:",$),alert("Funci√≥n de edici√≥n en desarrollo")};return De(()=>{N()}),($,n)=>{const E=ye,ve=ao,ge=Vo,fe=Ct,xe=us;return d(),u("div",cs,[e("button",{onClick:i,class:"mb-6 flex items-center gap-2 text-[#5D4A44] hover:text-[#D8AFA0] transition-colors"},[...n[4]||(n[4]=[e("span",null,"‚Üê",-1),e("span",null,"Volver a ficha del paciente",-1)])]),e("header",ms,[e("div",bs,[e("div",null,[e("h1",ps,[n[5]||(n[5]=e("span",{class:"text-4xl"},"üé´",-1)),C(" Bonos de "+r(t(P)),1)]),n[6]||(n[6]=e("p",{class:"text-[#5D4A44]/60"}," Gestiona los bonos, pagos y renovaciones del paciente ",-1))]),t(k)?(d(),u("button",{key:0,onClick:I,class:"px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium flex items-center gap-2 shadow-lg"},[...n[7]||(n[7]=[e("span",{class:"text-xl"},"+",-1),e("span",null,"Nuevo Bono",-1)])])):g("",!0)])]),t(V)?(d(),u("div",vs,[...n[8]||(n[8]=[e("div",{class:"animate-spin w-16 h-16 border-4 border-[#D8AFA0] border-t-transparent rounded-full mx-auto mb-4"},null,-1),e("p",{class:"text-[#5D4A44]/60"},"Cargando bonos...",-1)])])):t(F)?(d(),u("div",gs,[q(E,null,{default:Q(()=>[n[9]||(n[9]=e("span",{class:"text-7xl mb-4 block"},"‚ùå",-1)),n[10]||(n[10]=e("h3",{class:"text-xl font-['Lora'] font-semibold text-[#5D4A44] mb-2"}," Error al cargar bonos ",-1)),e("p",fs,r(t(F)),1),e("button",{onClick:N,class:"px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors"}," Intentar de nuevo ")]),_:1})])):(d(),u("div",xs,[e("section",ys,[q(E,{class:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200"},{default:Q(()=>[e("div",ws,[e("div",null,[n[11]||(n[11]=e("p",{class:"text-sm text-purple-600 font-medium mb-1"},"Total Bonos",-1)),e("p",hs,r(t(f).total),1)]),n[12]||(n[12]=e("span",{class:"text-4xl"},"üé´",-1))])]),_:1}),q(E,{class:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200"},{default:Q(()=>[e("div",Ds,[e("div",null,[n[13]||(n[13]=e("p",{class:"text-sm text-green-600 font-medium mb-1"},"Activos",-1)),e("p",$s,r(t(f).activos),1)]),n[14]||(n[14]=e("span",{class:"text-4xl"},"‚úÖ",-1))])]),_:1}),q(E,{class:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200"},{default:Q(()=>[e("div",_s,[e("div",null,[n[15]||(n[15]=e("p",{class:"text-sm text-orange-600 font-medium mb-1"},"Por Vencer",-1)),e("p",ks,r(t(f).proximosAVencer),1)]),n[16]||(n[16]=e("span",{class:"text-4xl"},"‚ö†Ô∏è",-1))])]),_:1}),q(E,{class:"bg-gradient-to-br from-yellow-50 to-amber-50 border-2 border-yellow-200"},{default:Q(()=>[e("div",Fs,[e("div",null,[n[17]||(n[17]=e("p",{class:"text-sm text-yellow-600 font-medium mb-1"},"Pendientes",-1)),e("p",Cs,r(t(f).pendientes),1)]),n[18]||(n[18]=e("span",{class:"text-4xl"},"‚è≥",-1))])]),_:1})]),e("section",Bs,[q(E,null,{default:Q(()=>[e("div",Ps,[e("div",As,[n[20]||(n[20]=e("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Filtrar por Estado ",-1)),_(e("select",{"onUpdate:modelValue":n[0]||(n[0]=L=>Z(m)?m.value=L:null),class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[...n[19]||(n[19]=[e("option",{value:"todos"},"Todos los estados",-1),e("option",{value:"activo"},"‚úÖ Activos",-1),e("option",{value:"pendiente"},"‚è≥ Pendientes",-1),e("option",{value:"completado"},"‚úîÔ∏è Completados",-1),e("option",{value:"vencido"},"‚ùå Vencidos",-1),e("option",{value:"cancelado"},"üö´ Cancelados",-1)])],512),[[J,t(m)]])]),e("div",Ms,[n[22]||(n[22]=e("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Filtrar por Tipo ",-1)),_(e("select",{"onUpdate:modelValue":n[1]||(n[1]=L=>Z(o)?o.value=L:null),class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[...n[21]||(n[21]=[e("option",{value:"todos"},"Todos los tipos",-1),e("option",{value:"quincenal"},"Quincenal",-1),e("option",{value:"mensual"},"Mensual",-1),e("option",{value:"semestral"},"Semestral",-1)])],512),[[J,t(o)]])]),e("div",Ss,[n[24]||(n[24]=e("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Ordenar por ",-1)),_(e("select",{"onUpdate:modelValue":n[2]||(n[2]=L=>Z(l)?l.value=L:null),class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[...n[23]||(n[23]=[e("option",{value:"reciente"},"M√°s recientes",-1),e("option",{value:"antiguo"},"M√°s antiguos",-1),e("option",{value:"vencimiento"},"Por vencimiento",-1)])],512),[[J,t(l)]])])])]),_:1})]),t(H).length>0?(d(),u("section",Es,[(d(!0),u(ie,null,de(t(H),L=>(d(),ke(ve,{key:L.id,bono:L,onRenovar:ce,onVerPagos:h,onEditar:pe},null,8,["bono"]))),128))])):(d(),u("section",js,[q(E,null,{default:Q(()=>[n[25]||(n[25]=e("span",{class:"text-7xl mb-4 block opacity-40"},"üé´",-1)),e("h3",Vs,r(t(B).length===0?"No hay bonos registrados":"No hay bonos con estos filtros"),1),e("p",Ts,r(t(B).length===0?"Crea el primer bono para este paciente":"Intenta cambiar los filtros para ver m√°s bonos"),1),t(B).length===0&&t(k)?(d(),u("button",{key:0,onClick:I,class:"px-8 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium"}," + Crear Primer Bono ")):(d(),u("button",{key:1,onClick:w,class:"px-8 py-3 bg-[#5D4A44] text-white rounded-lg hover:bg-[#4A3A34] transition-colors font-medium"}," Limpiar Filtros "))]),_:1})])),t(Y)?(d(),u("section",Rs,[t(f).proximosAVencer>0?(d(),u("div",Ns,[e("div",Us,[n[27]||(n[27]=e("span",{class:"text-2xl"},"‚ö†Ô∏è",-1)),e("div",zs,[e("h4",Is,r(t(f).proximosAVencer)+" bono(s) pr√≥ximo(s) a vencer ",1),n[26]||(n[26]=e("p",{class:"text-sm text-orange-700"}," Hay bonos que vencer√°n en los pr√≥ximos 7 d√≠as. Considera renovarlos. ",-1))]),e("button",{onClick:n[3]||(n[3]=L=>m.value="activo"),class:"text-sm text-orange-700 hover:text-orange-900 underline"}," Ver bonos activos ")])])):g("",!0),t(f).pocasSesiones>0?(d(),u("div",qs,[e("div",Os,[n[29]||(n[29]=e("span",{class:"text-2xl"},"üìä",-1)),e("div",Ls,[e("h4",Gs,r(t(f).pocasSesiones)+" bono(s) con pocas sesiones ",1),n[28]||(n[28]=e("p",{class:"text-sm text-blue-700"}," Algunos bonos tienen 2 o menos sesiones restantes. ",-1))])])])):g("",!0)])):g("",!0)])),q(ge,{mostrar:t(R),"paciente-id":t(b),"paciente-nombre":t(P),"psicologa-id":t(S),onClose:p,onCreated:a},null,8,["mostrar","paciente-id","paciente-nombre","psicologa-id"]),q(fe,{mostrar:t(G),bono:t(T),onClose:ne,onUpdated:ue},null,8,["mostrar","bono"]),q(xe,{mostrar:t(z),bono:t(T),onClose:me,onRenovated:be},null,8,["mostrar","bono"])])}}}),Xs=se(Qs,[["__scopeId","data-v-634861e2"]]);export{Xs as default};
