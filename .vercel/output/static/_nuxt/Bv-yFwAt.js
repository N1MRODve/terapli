import{_ as P}from"./DIp5k0Rm.js";import{e as F,r as D,c as r,o as n,a as e,h as v,t as d,z as w,k as s,O as C,s as g,g as N,H as b,F as L,x as _,w as q}from"#entry";import{u as U}from"./DG5qFFy7.js";const O={class:"space-y-4"},R={class:"flex items-start justify-between gap-4"},G={class:"flex-1"},I={class:"text-base font-['Lora'] font-medium text-[#5D4A44] mb-1"},J={class:"flex items-center space-x-3 text-sm text-[#5D4A44]/70 font-['Lato']"},K={class:"flex items-center space-x-1.5"},Q={class:"flex items-center space-x-2"},W={class:"inline-flex items-center space-x-1.5 px-2.5 py-1 rounded-md text-xs font-['Lato'] bg-[#F9F7F3] text-[#5D4A44]"},X={class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},Z={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},ee={class:"capitalize"},te={key:0,class:"bg-[#F9F7F3] rounded-lg p-4 space-y-2 border border-[#EAD5D3]/50"},se={key:1,class:"flex items-start space-x-2 text-xs font-['Lato'] text-[#5D4A44]/60 bg-[#F9F7F3] px-3 py-2 rounded-lg"},oe=F({__name:"SesionCard",props:{sesion:{},pasada:{type:Boolean}},emits:["abrir"],setup(i){const x=D(!1),h=o=>new Date(o).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}),p=o=>new Date(o).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),c=o=>{const l={pendiente:"bg-yellow-100 text-yellow-800",confirmada:"bg-blue-100 text-blue-800",realizada:"bg-green-100 text-green-800",cancelada:"bg-red-100 text-red-800"};return l[o]||l.pendiente},y=o=>({pendiente:"Programada",confirmada:"Lista para ti âœ¨",realizada:"Completada ðŸ’ª",cancelada:"No se realizÃ³"})[o]||"Programada";return(o,l)=>(n(),r("div",{class:w(["bg-white rounded-xl p-5 border transition-all duration-200",i.pasada?"border-[#EAD5D3]/50 opacity-90":"border-[#EAD5D3] hover:border-[#D8AFA0]/50 hover:shadow-md"])},[e("div",O,[e("div",R,[e("div",G,[e("h4",I,d(h(i.sesion.fecha)),1),e("div",J,[e("div",K,[l[2]||(l[2]=e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,d(p(i.sesion.fecha)),1)]),l[3]||(l[3]=e("span",{class:"text-[#5D4A44]/30"},"â€¢",-1)),e("span",null,d(i.sesion.duracion_min)+" min",1)])]),e("span",{class:w(["inline-flex items-center px-3 py-1 rounded-lg text-xs font-medium whitespace-nowrap","font-['Lato']",c(i.sesion.estado)])},d(y(i.sesion.estado)),3)]),e("div",Q,[e("span",W,[(n(),r("svg",X,[i.sesion.modalidad==="online"?(n(),r("path",Y)):(n(),r("path",Z))])),e("span",ee,d(i.sesion.modalidad),1)])]),i.sesion.nota_terapeuta&&i.sesion.estado==="realizada"?(n(),r("div",te,[l[4]||(l[4]=e("p",{class:"text-xs font-['Lato'] font-semibold text-[#D8AFA0] flex items-center space-x-1.5"},[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("span",null,"Notas de la sesiÃ³n")],-1)),e("p",{class:w(["text-sm font-['Lato'] text-[#5D4A44]/80 leading-relaxed",!s(x)&&"line-clamp-2"])},d(i.sesion.nota_terapeuta),3),i.sesion.nota_terapeuta.length>120?(n(),r("button",{key:0,onClick:l[0]||(l[0]=k=>x.value=!s(x)),class:"text-xs font-['Lato'] font-medium text-[#D8AFA0] hover:text-[#c99d8d] transition-colors"},d(s(x)?"Ver menos":"Ver mÃ¡s"),1)):v("",!0)])):v("",!0),e("div",null,[i.sesion.ubicacion&&i.sesion.modalidad==="online"&&["pendiente","confirmada"].includes(i.sesion.estado)?(n(),r("button",{key:0,onClick:l[1]||(l[1]=k=>o.$emit("abrir",i.sesion.ubicacion)),class:"w-full inline-flex items-center justify-center space-x-2 px-4 py-2.5 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#c99d8d] transition-all duration-200 font-['Lato'] font-medium text-sm"},[...l[5]||(l[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),e("span",null,"Unirme",-1)])])):i.sesion.ubicacion&&i.sesion.modalidad==="presencial"?(n(),r("div",se,[l[6]||(l[6]=e("svg",{class:"w-4 h-4 text-[#D8AFA0] flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,d(i.sesion.ubicacion),1)])):v("",!0)])])],2))}}),ae=Object.assign(oe,{__name:"SesionCard"}),ne={class:"flex flex-col items-center justify-center py-12 px-4 text-center"},ie={class:"mb-4"},re={class:"text-lg font-medium text-[#5D4A44] font-['Lora'] mb-2"},le={class:"text-sm text-[#5D4A44] opacity-70 font-['Lato'] max-w-md mb-4"},de={__name:"EmptyState",props:{title:{type:String,default:"No hay datos disponibles"},description:{type:String,default:"Parece que aÃºn no hay informaciÃ³n para mostrar aquÃ­."}},setup(i){return(x,h)=>(n(),r("div",ne,[e("div",ie,[C(x.$slots,"icon",{},()=>[h[0]||(h[0]=e("svg",{class:"w-16 h-16 text-[#D8AFA0] opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1))])]),e("h3",re,d(i.title),1),e("p",le,d(i.description),1),C(x.$slots,"action")]))}},ce={key:1,class:"max-w-4xl mx-auto px-4 py-8 space-y-8"},ue={class:"space-y-4"},me={class:"flex items-center space-x-1 bg-[#F9F7F3] p-1 rounded-xl w-fit"},xe=["onClick"],pe={class:"space-y-4"},fe={class:"text-2xl font-['Lora'] font-medium text-[#5D4A44] mb-1"},he={class:"flex items-center space-x-4 text-[#5D4A44]/70 font-['Lato']"},ve={class:"flex items-center space-x-1.5"},ge={class:"font-medium"},we={class:"flex items-center flex-wrap gap-2"},ke={class:"inline-flex items-center space-x-2 px-3 py-1.5 rounded-lg text-sm font-['Lato'] font-medium bg-white border border-[#EAD5D3] text-[#5D4A44]"},be={class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},De={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},ye={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"},Ae={class:"capitalize"},Le={key:0},_e={key:1,class:"flex items-start space-x-2 text-sm font-['Lato'] text-[#5D4A44]/70 bg-white px-4 py-3 rounded-lg border border-[#EAD5D3]"},Ce={key:1,class:"space-y-3"},Fe={class:"space-y-3"},ze={key:2,class:"space-y-3"},Me={class:"space-y-3"},Be=F({__name:"sesiones",setup(i){const{getSesiones:x}=U(),h=D(!0),p=D([]),c=D("todas"),y=[{value:"todas",label:"Todas"},{value:"proximas",label:"PrÃ³ximas"},{value:"pasadas",label:"Pasadas"}],o=g(()=>{const a=new Date;return p.value.filter(u=>new Date(u.fecha)>=a).sort((u,f)=>new Date(u.fecha).getTime()-new Date(f.fecha).getTime())[0]||null}),l=g(()=>{const a=new Date;return p.value.filter(u=>new Date(u.fecha)>=a).sort((u,f)=>new Date(u.fecha).getTime()-new Date(f.fecha).getTime()).slice(1)}),k=g(()=>{const a=new Date;return p.value.filter(t=>new Date(t.fecha)<a).sort((t,u)=>new Date(u.fecha).getTime()-new Date(t.fecha).getTime())}),z=g(()=>{const a=new Date;switch(c.value){case"proximas":return p.value.filter(t=>new Date(t.fecha)>=a);case"pasadas":return p.value.filter(t=>new Date(t.fecha)<a);default:return p.value}}),M=g(()=>{switch(c.value){case"proximas":return"No tienes sesiones programadas todavÃ­a ðŸ’¬";case"pasadas":return"AÃºn no has completado ninguna sesiÃ³n";default:return"No tienes sesiones registradas"}}),$=g(()=>{switch(c.value){case"proximas":return"Contacta con tu psicÃ³loga para agendar tu primera sesiÃ³n. Estamos aquÃ­ para acompaÃ±arte.";case"pasadas":return"Una vez que completes tus sesiones, podrÃ¡s revisar las notas y el progreso aquÃ­.";default:return"Cuando tengas sesiones programadas, aparecerÃ¡n en este espacio."}}),S=a=>new Date(a).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"}),j=a=>new Date(a).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),E=a=>{const t=new Date,f=(new Date(a).getTime()-t.getTime())/(1e3*60*60);return f>0&&f<24},B=a=>{const t={pendiente:"bg-yellow-100 text-yellow-800",confirmada:"bg-blue-100 text-blue-800",realizada:"bg-green-100 text-green-800",cancelada:"bg-red-100 text-red-800"};return t[a]||t.pendiente},V=a=>({pendiente:"Programada",confirmada:"Lista para ti âœ¨",realizada:"Completada ðŸ’ª",cancelada:"No se realizÃ³"})[a]||"Programada",A=a=>{window.open(a,"_blank")},H=async()=>{h.value=!0;try{const{data:a,error:t}=await x();!t&&a&&(p.value=a)}catch(a){console.error("Error cargando sesiones:",a)}finally{h.value=!1}};return N(()=>{H()}),(a,t)=>{const u=P,f=ae,T=de;return n(),r("div",null,[s(h)?(n(),b(u,{key:0,text:"Cargando tus sesiones...","full-height":""})):(n(),r("div",ce,[e("div",ue,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-['Lora'] font-medium text-[#5D4A44]"}," Mis Sesiones "),e("p",{class:"text-sm text-[#5D4A44]/70 font-['Lato'] mt-2"}," Tu espacio de acompaÃ±amiento terapÃ©utico ")],-1)),e("div",me,[(n(),r(L,null,_(y,m=>e("button",{key:m.value,onClick:$e=>c.value=m.value,class:w(["px-5 py-2.5 rounded-lg text-sm font-['Lato'] font-medium transition-all duration-200",s(c)===m.value?"bg-white text-[#5D4A44] shadow-sm":"text-[#5D4A44]/60 hover:text-[#5D4A44]"])},d(m.label),11,xe)),64))])]),s(o)&&(s(c)==="todas"||s(c)==="proximas")?(n(),r("div",{key:0,class:w(["relative bg-gradient-to-br from-[#F9F7F3] to-white rounded-2xl p-6 border-l-4",E(s(o).fecha)?"border-[#D8AFA0]":"border-[#EAD5D3]"])},[t[6]||(t[6]=e("div",{class:"absolute top-4 right-4"},[e("span",{class:"inline-flex items-center space-x-1.5 px-3 py-1.5 bg-[#D8AFA0]/10 text-[#D8AFA0] rounded-full text-xs font-['Lato'] font-semibold"},[e("svg",{class:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),e("span",null,"PrÃ³xima sesiÃ³n")])],-1)),e("div",pe,[e("div",null,[e("h2",fe,d(S(s(o).fecha)),1),e("div",he,[e("div",ve,[t[2]||(t[2]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",ge,d(j(s(o).fecha)),1)]),t[3]||(t[3]=e("span",{class:"text-[#5D4A44]/40"},"â€¢",-1)),e("span",null,d(s(o).duracion_min)+" minutos",1)])]),e("div",we,[e("span",ke,[(n(),r("svg",be,[s(o).modalidad==="online"?(n(),r("path",De)):(n(),r("path",ye))])),e("span",Ae,d(s(o).modalidad),1)]),e("span",{class:w(["inline-flex items-center px-3 py-1.5 rounded-lg text-sm font-['Lato'] font-medium",B(s(o).estado)])},[e("span",null,d(V(s(o).estado)),1)],2)]),s(o).ubicacion&&s(o).modalidad==="online"&&["pendiente","confirmada"].includes(s(o).estado)?(n(),r("div",Le,[e("button",{onClick:t[0]||(t[0]=m=>A(s(o).ubicacion)),class:"inline-flex items-center justify-center space-x-2 px-6 py-3 bg-[#D8AFA0] text-white rounded-xl hover:bg-[#c99d8d] transition-all duration-200 font-['Lato'] font-medium shadow-sm hover:shadow-md"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),e("span",null,"Unirme a la sesiÃ³n",-1)])])])):s(o).ubicacion&&s(o).modalidad==="presencial"?(n(),r("div",_e,[t[5]||(t[5]=e("svg",{class:"w-5 h-5 text-[#D8AFA0] flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),e("span",null,d(s(o).ubicacion),1)])):v("",!0)])],2)):v("",!0),s(l).length>0&&(s(c)==="todas"||s(c)==="proximas")?(n(),r("div",Ce,[t[7]||(t[7]=e("h3",{class:"text-lg font-['Lora'] font-medium text-[#5D4A44] flex items-center space-x-2"},[e("svg",{class:"w-5 h-5 text-[#D8AFA0]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",null,"PrÃ³ximas sesiones")],-1)),e("div",Fe,[(n(!0),r(L,null,_(s(l),m=>(n(),b(f,{key:m.id,sesion:m,onAbrir:A},null,8,["sesion"]))),128))])])):v("",!0),s(k).length>0&&(s(c)==="todas"||s(c)==="pasadas")?(n(),r("div",ze,[t[8]||(t[8]=e("h3",{class:"text-lg font-['Lora'] font-medium text-[#5D4A44] flex items-center space-x-2"},[e("svg",{class:"w-5 h-5 text-[#5D4A44]/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",null,"Sesiones pasadas")],-1)),e("div",Me,[(n(!0),r(L,null,_(s(k),m=>(n(),b(f,{key:m.id,sesion:m,pasada:!0,onAbrir:A},null,8,["sesion"]))),128))])])):v("",!0),s(z).length===0?(n(),b(T,{key:3,title:s(M),description:s($)},{icon:q(()=>[...t[9]||(t[9]=[e("svg",{class:"w-16 h-16 text-[#D8AFA0] opacity-40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]),_:1},8,["title","description"])):v("",!0)]))])}}});export{Be as default};
