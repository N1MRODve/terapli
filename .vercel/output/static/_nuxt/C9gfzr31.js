import{e as k,s as w,c as r,a as s,h as c,t as n,z as u,y as B,F as C,o as l,b as h,k as v,x as P,H as A}from"#entry";import{_ as M}from"./DlAUqK2U.js";import{u as z,_ as D,a as U}from"./BaReqPYW.js";import"./BqC9m6KG.js";const $={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},E={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-5"},H={class:"flex items-center justify-between"},V={class:"text-3xl font-bold text-blue-600 mt-1"},L={class:"text-xs text-gray-500 mt-1"},N={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-5"},F={class:"flex items-center justify-between"},R={class:"text-3xl font-bold text-green-600 mt-1"},T={class:"text-xs text-gray-500 mt-1"},q={class:"flex items-center justify-between"},G={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-5"},I={class:"flex items-center justify-between"},O={class:"text-3xl font-bold text-gray-600 mt-1"},J={key:0,class:"col-span-full bg-white rounded-lg shadow-sm border border-gray-200 p-5"},K={class:"flex items-center justify-between mb-2"},Q={class:"text-sm font-bold text-gray-900"},W={class:"w-full bg-gray-200 rounded-full h-3 overflow-hidden"},X={class:"flex justify-between text-xs text-gray-500 mt-1"},Y={key:0,class:"mt-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-l-4 border-yellow-400 p-4 rounded-r-lg"},Z={class:"flex items-start"},ss={class:"ml-3 flex-1"},os={class:"mt-2 text-sm text-yellow-700"},es={key:0},ts={key:1},ns={key:2,class:"ml-2"},ls=k({__name:"EstadisticasBonos",props:{citas:{}},setup(f){const p=f,e=w(()=>{const a=p.citas.filter(t=>t.bono),o=new Map;a.forEach(t=>{t.bono&&o.set(t.bono.id,t.bono)});const i=Array.from(o.values()),b=i.length,m=i.filter(t=>t.estado==="activo").length,d=i.filter(t=>t.sesiones_restantes<=2&&t.sesiones_restantes>0).length,j=i.filter(t=>t.sesiones_restantes===0||t.estado==="completado").length,y=i.reduce((t,x)=>t+x.sesiones_restantes,0),g=i.reduce((t,x)=>t+x.sesiones_totales,0),S=g>0?Math.round((g-y)/g*100):0;return{totalBonos:b,bonosActivos:m,bonosConPocasSesiones:d,bonosAgotados:j,totalSesionesDisponibles:y,totalSesionesProgramadas:g,porcentajeUsado:S}}),_=w(()=>e.value.bonosConPocasSesiones>0||e.value.bonosAgotados>0);return(a,o)=>(l(),r(C,null,[s("div",$,[s("div",E,[s("div",H,[s("div",null,[o[0]||(o[0]=s("p",{class:"text-sm font-medium text-gray-600"},"Bonos Activos",-1)),s("p",V,n(e.value.bonosActivos),1),s("p",L,"de "+n(e.value.totalBonos)+" totales",1)]),o[1]||(o[1]=s("div",{class:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center"},[s("svg",{class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})])],-1))])]),s("div",N,[s("div",F,[s("div",null,[o[2]||(o[2]=s("p",{class:"text-sm font-medium text-gray-600"},"Sesiones Disponibles",-1)),s("p",R,n(e.value.totalSesionesDisponibles),1),s("p",T," de "+n(e.value.totalSesionesProgramadas)+" programadas ",1)]),o[3]||(o[3]=s("div",{class:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center"},[s("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})])],-1))])]),s("div",{class:u(["rounded-lg shadow-sm border p-5",e.value.bonosConPocasSesiones>0?"bg-yellow-50 border-yellow-300":"bg-white border-gray-200"])},[s("div",q,[s("div",null,[o[4]||(o[4]=s("p",{class:"text-sm font-medium text-gray-600"},"Bonos por Renovar",-1)),s("p",{class:u(["text-3xl font-bold mt-1",e.value.bonosConPocasSesiones>0?"text-yellow-600":"text-gray-400"])},n(e.value.bonosConPocasSesiones),3),o[5]||(o[5]=s("p",{class:"text-xs text-gray-500 mt-1"},"â‰¤2 sesiones restantes",-1))]),s("div",{class:u(["h-12 w-12 rounded-full flex items-center justify-center",e.value.bonosConPocasSesiones>0?"bg-yellow-200":"bg-gray-100"])},[(l(),r("svg",{class:u(["h-6 w-6",e.value.bonosConPocasSesiones>0?"text-yellow-600":"text-gray-400"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...o[6]||(o[6]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])],2))],2)])],2),s("div",G,[s("div",I,[s("div",null,[o[7]||(o[7]=s("p",{class:"text-sm font-medium text-gray-600"},"Bonos Completados",-1)),s("p",O,n(e.value.bonosAgotados),1),o[8]||(o[8]=s("p",{class:"text-xs text-gray-500 mt-1"},"0 sesiones restantes",-1))]),o[9]||(o[9]=s("div",{class:"h-12 w-12 bg-gray-100 rounded-full flex items-center justify-center"},[s("svg",{class:"h-6 w-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e.value.totalSesionesProgramadas>0?(l(),r("div",J,[s("div",K,[o[10]||(o[10]=s("p",{class:"text-sm font-medium text-gray-700"},"Uso General de Bonos",-1)),s("p",Q,n(e.value.porcentajeUsado)+"% usado",1)]),s("div",W,[s("div",{class:u(["h-full rounded-full transition-all duration-500",e.value.porcentajeUsado>=80?"bg-red-500":e.value.porcentajeUsado>=60?"bg-yellow-500":"bg-green-500"]),style:B({width:`${e.value.porcentajeUsado}%`})},null,6)]),s("div",X,[s("span",null,n(e.value.totalSesionesProgramadas-e.value.totalSesionesDisponibles)+" usadas",1),s("span",null,n(e.value.totalSesionesDisponibles)+" disponibles",1)])])):c("",!0)]),_.value?(l(),r("div",Y,[s("div",Z,[o[13]||(o[13]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-yellow-400 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),s("div",ss,[o[12]||(o[12]=s("h3",{class:"text-sm font-medium text-yellow-800"}," AcciÃ³n Requerida ",-1)),s("div",os,[s("p",null,[e.value.bonosConPocasSesiones>0?(l(),r("strong",es,n(e.value.bonosConPocasSesiones)+" bono"+n(e.value.bonosConPocasSesiones>1?"s":""),1)):c("",!0),e.value.bonosConPocasSesiones>0?(l(),r("span",ts,n(e.value.bonosConPocasSesiones>1?" necesitan":" necesita")+" renovaciÃ³n pronto. ",1)):c("",!0),e.value.bonosAgotados>0?(l(),r("strong",ns,n(e.value.bonosAgotados)+" bono"+n(e.value.bonosAgotados>1?"s":"")+" completado"+n(e.value.bonosAgotados>1?"s":"")+". ",1)):c("",!0)]),o[11]||(o[11]=s("p",{class:"mt-1 text-xs"}," ðŸ’¡ Contacta a los pacientes para ofrecer renovaciÃ³n de bonos ",-1))])])])])):c("",!0)],64))}}),as=Object.assign(M(ls,[["__scopeId","data-v-44ce82a9"]]),{__name:"EstadisticasBonos"}),rs={class:"p-6 max-w-7xl mx-auto"},is={class:"mb-8"},ds={class:"text-xl font-bold mb-4"},cs={class:"space-y-4"},bs=k({__name:"ejemplo-agenda",setup(f){const{citas:p,citasDelDia:e}=z();return(_,a)=>{const o=as,i=U,b=D;return l(),r("div",rs,[a[2]||(a[2]=s("h1",{class:"text-3xl font-bold mb-6"},"Dashboard - Ejemplo",-1)),h(o,{citas:v(p),class:"mb-8"},null,8,["citas"]),s("section",is,[s("h2",ds,"Citas de Hoy ("+n(v(e).length)+")",1),s("div",cs,[(l(!0),r(C,null,P(v(e),m=>(l(),A(i,{key:m.id,cita:m,onCompletar:a[0]||(a[0]=d=>console.log("Completar:",d)),onVerHistorial:a[1]||(a[1]=d=>console.log("Historial:",d))},null,8,["cita"]))),128))])]),h(b)])}}});export{bs as default};
