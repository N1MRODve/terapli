import{u as n}from"./BbZO5sJf.js";const S=()=>({getBonos:async()=>{const t=n(),{data:{user:a}}=await t.auth.getUser();return a?(console.warn("getBonos() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(e=>setTimeout(e,1e3)),[{id:"b0n0-act1v0-1234",total_sesiones:10,sesiones_restantes:7,precio_total:450,estado:"activo",created_at:new Date().toISOString(),fecha_expiracion:new Date(new Date().setMonth(new Date().getMonth()+6)).toISOString()},{id:"b0n0-ant3r10r-5678",total_sesiones:5,sesiones_restantes:0,precio_total:250,estado:"agotado",created_at:new Date(new Date().setMonth(new Date().getMonth()-3)).toISOString(),fecha_expiracion:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString()}]):(console.error("User not logged in"),[])},getRecursos:async()=>{const t=n(),{data:{user:a}}=await t.auth.getUser();if(!a)return console.error("User not logged in"),[];try{const{data:e,error:o}=await t.from("pacientes").select("id").eq("user_id",a.id).single();if(o||!e)return console.error("Error obteniendo paciente:",o),[];const{data:s,error:i}=await t.from("recursos_compartidos").select(`
          id,
          nota_personal,
          visto,
          compartido_at,
          recurso:recursos_repositorio(
            id,
            titulo,
            descripcion,
            tipo,
            icono,
            url,
            categoria,
            tags
          )
        `).eq("paciente_id",e.id).eq("archivado",!1).order("compartido_at",{ascending:!1});return i?(console.error("Error fetching recursos compartidos:",i),[]):(s||[]).map(r=>({id:r.id,titulo:r.recurso?.titulo||"Sin t铆tulo",descripcion:r.recurso?.descripcion||"",tipo:r.recurso?.tipo||"pdf",icono:r.recurso?.icono||"",url:r.recurso?.url||"#",categoria:r.recurso?.categoria,tags:r.recurso?.tags||[],nota_personal:r.nota_personal,visto:r.visto,compartido_at:r.compartido_at,recurso_id:r.recurso?.id}))}catch(e){return console.error("Error en getRecursos:",e),[]}},marcarRecursoComoVisto:async t=>{const a=n(),{data:{user:e}}=await a.auth.getUser();if(!e)return console.error("User not logged in"),{success:!1};try{const{error:o}=await a.from("recursos_compartidos").update({visto:!0,visto_at:new Date().toISOString()}).eq("id",t);return o?(console.error("Error marcando recurso como visto:",o),{success:!1,error:o.message}):{success:!0}}catch(o){return console.error("Error en marcarRecursoComoVisto:",o),{success:!1,error:o.message}}},getMensajes:async()=>{const t=n(),{data:{user:a}}=await t.auth.getUser();if(!a)return console.error("User not logged in"),[];console.warn("getMensajes() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(s=>setTimeout(s,600));const e=a.id,o="coord-uuid-1234";return[{id:"msg-001",autor_id:o,receptor_id:e,contenido:"隆Hola! Bienvenida a la plataforma. Estoy aqu铆 para ayudarte con cualquier duda que tengas sobre tus sesiones o bonos.",leido:!0,created_at:new Date(Date.now()-2592e5).toISOString(),autor:{nombre_completo:"Coordinadora",rol:"coordinadora"}},{id:"msg-002",autor_id:e,receptor_id:o,contenido:"Gracias! Tengo una duda sobre c贸mo reservar mi pr贸xima sesi贸n.",leido:!0,created_at:new Date(Date.now()-2592e5+18e5).toISOString(),autor:{nombre_completo:"T煤",rol:"paciente"}},{id:"msg-003",autor_id:o,receptor_id:e,contenido:'Por supuesto! Puedes ir a la secci贸n "Mis Sesiones" y all铆 encontrar谩s el bot贸n para agendar. Si tienes problemas, av铆same.',leido:!0,created_at:new Date(Date.now()-1728e5).toISOString(),autor:{nombre_completo:"Coordinadora",rol:"coordinadora"}},{id:"msg-004",autor_id:e,receptor_id:o,contenido:"Perfecto, muchas gracias! Ya pude agendar.",leido:!0,created_at:new Date(Date.now()-864e5).toISOString(),autor:{nombre_completo:"T煤",rol:"paciente"}},{id:"msg-005",autor_id:o,receptor_id:e,contenido:"Excelente! Nos vemos en tu pr贸xima sesi贸n. Cualquier cosa, aqu铆 estoy ",leido:!1,created_at:new Date(Date.now()-432e5).toISOString(),autor:{nombre_completo:"Coordinadora",rol:"coordinadora"}}]},enviarMensaje:async(t,a)=>{const e=n(),{data:{user:o}}=await e.auth.getUser();if(!o)throw new Error("User not logged in");return console.warn("enviarMensaje() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(s=>setTimeout(s,500)),{id:`msg-${Date.now()}`,autor_id:o.id,receptor_id:a,contenido:t,leido:!1,created_at:new Date().toISOString(),autor:{nombre_completo:"T煤",rol:"paciente"}}},marcarComoLeido:async t=>(console.warn("marcarComoLeido() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(a=>setTimeout(a,200)),!0),getSesiones:async()=>{const t=n(),{data:{user:a}}=await t.auth.getUser();if(!a)return console.error("User not logged in"),{data:[],error:null};console.warn("getSesiones() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(o=>setTimeout(o,800));const e=new Date;return{data:[{id:"ses-001",fecha:new Date(e.getTime()+1728e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"confirmada",nota_terapeuta:null,created_at:new Date().toISOString()},{id:"ses-002",fecha:new Date(e.getTime()+7776e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"pendiente",nota_terapeuta:null,created_at:new Date().toISOString()},{id:"ses-003",fecha:new Date(e.getTime()-6048e5).toISOString(),duracion_min:50,modalidad:"presencial",ubicacion:"Calle Ejemplo 123, Madrid",estado:"realizada",nota_terapeuta:"Sesi贸n muy productiva. Hemos trabajado t茅cnicas de respiraci贸n y manejo de la ansiedad. Continuar practicando los ejercicios diarios.",created_at:new Date(e.getTime()-6912e5).toISOString()},{id:"ses-004",fecha:new Date(e.getTime()-12096e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"realizada",nota_terapeuta:"Primera sesi贸n de evaluaci贸n. Se identificaron 谩reas de trabajo: ansiedad social y autoestima. Plan de tratamiento establecido.",created_at:new Date(e.getTime()-1296e6).toISOString()},{id:"ses-005",fecha:new Date(e.getTime()-18144e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"cancelada",nota_terapeuta:null,created_at:new Date(e.getTime()-19008e5).toISOString()}],error:null}},getProximasSesiones:async()=>{const t=n(),{data:{user:a}}=await t.auth.getUser();if(!a)return console.error("User not logged in"),{data:[],error:null};console.warn("getProximasSesiones() is using mock data. Implement Supabase logic in composables/usePacientes.ts"),await new Promise(o=>setTimeout(o,600));const e=new Date;return{data:[{id:"ses-001",fecha:new Date(e.getTime()+1728e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"confirmada",nota_terapeuta:null,created_at:new Date().toISOString()},{id:"ses-002",fecha:new Date(e.getTime()+7776e5).toISOString(),duracion_min:50,modalidad:"online",ubicacion:"https://meet.google.com/abc-defg-hij",estado:"pendiente",nota_terapeuta:null,created_at:new Date().toISOString()}],error:null}}});export{S as u};
