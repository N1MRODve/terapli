import{u as L}from"./o2OI1TfI.js";import{e as j,r as y,q as E,f as F,c as a,a as e,g as d,k as r,t as o,y as u,F as T,s as U,o as l}from"#entry";import{_ as $}from"./DlAUqK2U.js";import"./Cy0_MzJF.js";import"./C9M7zbam.js";const H={class:"min-h-screen bg-gray-50 py-8"},A={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},S={class:"mb-8"},D={class:"flex items-center justify-between"},I={class:"flex gap-2"},q={class:"mt-6 grid grid-cols-3 gap-4"},G={class:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm"},J={class:"flex items-center gap-3"},K={class:"text-2xl font-bold text-gray-900"},O={class:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm"},P={class:"flex items-center gap-3"},Q={class:"text-2xl font-bold text-blue-600"},R={class:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm"},W={class:"flex items-center gap-3"},X={class:"text-2xl font-bold text-red-600"},Y={class:"mb-6 flex gap-2"},Z={key:0,class:"flex items-center justify-center py-12"},ee={key:1,class:"space-y-3"},te={class:"p-5"},se={class:"flex items-start gap-4"},oe={class:"flex-shrink-0 text-3xl mt-1"},ae={class:"flex-1 min-w-0"},re={class:"flex items-start justify-between gap-4"},le={class:"flex-1"},ne={class:"text-lg font-semibold text-gray-900"},ie={class:"mt-2 text-sm text-gray-700 leading-relaxed"},de={class:"mt-3 flex flex-wrap items-center gap-2"},ue={class:"text-xs text-gray-500"},ce={class:"text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full font-medium"},ge={key:1,class:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full font-medium"},pe={key:2,class:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full font-medium"},me={class:"flex-shrink-0 flex gap-2"},xe=["onClick"],ve=["onClick"],be={key:2,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center"},ye={class:"mt-2 text-sm text-gray-600"},he=j({__name:"notificaciones",setup(fe){const{notificaciones:c,totalNoVistas:g,noLeidas:h,urgentes:p,listar:f,marcarVista:_,marcarTodasVistas:v,eliminar:w,eliminarVistas:k,suscribirse:C}=L(),m=y(!1),i=y("no-leidas"),b=E(()=>i.value==="no-leidas"?h.value:i.value==="urgentes"?p.value:c.value);F(async()=>{m.value=!0,await f(100),C(),m.value=!1});const x=n=>{i.value=n},z=n=>new Date(n).toLocaleString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=n=>({bono:"üí≥",cita:"üìÖ",pago:"üí∞",sistema:"‚öôÔ∏è",alerta:"‚ö†Ô∏è"})[n]||"üîî",V=n=>n==="alta"?"bg-red-100 border-l-red-500 text-red-900":n==="media"?"bg-orange-100 border-l-orange-500 text-orange-900":"bg-blue-100 border-l-blue-500 text-blue-900",N=async()=>{confirm("¬øEliminar todas las notificaciones le√≠das?")&&await k()};return(n,t)=>(l(),a("div",H,[e("div",A,[e("div",S,[e("div",D,[t[4]||(t[4]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"üîî Notificaciones"),e("p",{class:"mt-2 text-sm text-gray-600"}," Mantente al d√≠a con las alertas del sistema ")],-1)),e("div",I,[r(g)>0?(l(),a("button",{key:0,onClick:t[0]||(t[0]=(...s)=>r(v)&&r(v)(...s)),class:"px-4 py-2 text-sm font-medium text-purple-700 bg-purple-100 hover:bg-purple-200 rounded-lg transition-colors",type:"button"}," ‚úì Marcar todas como le√≠das ")):d("",!0),e("button",{onClick:N,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",type:"button"}," üóëÔ∏è Eliminar le√≠das ")])]),e("div",q,[e("div",G,[e("div",J,[t[6]||(t[6]=e("div",{class:"p-3 bg-purple-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})])],-1)),e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm text-gray-600"},"Total",-1)),e("p",K,o(r(c).length),1)])])]),e("div",O,[e("div",P,[t[8]||(t[8]=e("div",{class:"p-3 bg-blue-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600"},"No le√≠das",-1)),e("p",Q,o(r(g)),1)])])]),e("div",R,[e("div",W,[t[10]||(t[10]=e("div",{class:"p-3 bg-red-100 rounded-full"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])],-1)),e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-600"},"Urgentes",-1)),e("p",X,o(r(p).length),1)])])])])]),e("div",Y,[e("button",{onClick:t[1]||(t[1]=s=>x("no-leidas")),class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",i.value==="no-leidas"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"]),type:"button"}," No le√≠das ("+o(r(g))+") ",3),e("button",{onClick:t[2]||(t[2]=s=>x("urgentes")),class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",i.value==="urgentes"?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"]),type:"button"}," Urgentes ("+o(r(p).length)+") ",3),e("button",{onClick:t[3]||(t[3]=s=>x("todas")),class:u(["px-4 py-2 text-sm font-medium rounded-lg transition-colors",i.value==="todas"?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"]),type:"button"}," Todas ("+o(r(c).length)+") ",3)]),m.value?(l(),a("div",Z,[...t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"},null,-1)])])):b.value.length>0?(l(),a("div",ee,[(l(!0),a(T,null,U(b.value,s=>(l(),a("div",{key:s.id,class:u(["bg-white rounded-lg border-l-4 shadow-sm overflow-hidden transition-all hover:shadow-md",[s.leido?"border-l-gray-300":"border-l-purple-500 bg-purple-50/30",V(s.metadata?.urgencia)]])},[e("div",te,[e("div",se,[e("div",oe,o(M(s.tipo)),1),e("div",ae,[e("div",re,[e("div",le,[e("h3",ne,o(s.titulo),1),e("p",ie,o(s.mensaje),1),e("div",de,[e("span",ue,o(z(s.created_at)),1),e("span",ce,o(s.tipo.toUpperCase()),1),s.metadata?.urgencia?(l(),a("span",{key:0,class:u(["text-xs px-2 py-1 rounded-full font-medium",{"bg-red-100 text-red-700":s.metadata.urgencia==="alta","bg-orange-100 text-orange-700":s.metadata.urgencia==="media","bg-blue-100 text-blue-700":s.metadata.urgencia==="baja"}])},o(s.metadata.urgencia.toUpperCase()),3)):d("",!0),s.tipo==="bono"&&s.metadata?.sesiones_restantes!==void 0?(l(),a("span",ge,o(s.metadata.sesiones_restantes)+"/"+o(s.metadata.sesiones_totales)+" sesiones ",1)):d("",!0),s.leido?(l(),a("span",pe," ‚úì Le√≠da ")):d("",!0)])]),e("div",me,[s.leido?d("",!0):(l(),a("button",{key:0,onClick:B=>r(_)(s.id),class:"p-2 text-purple-600 hover:bg-purple-100 rounded-lg transition-colors",type:"button",title:"Marcar como le√≠da"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])],8,xe)),e("button",{onClick:B=>r(w)(s.id),class:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",type:"button",title:"Eliminar"},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,ve)])])])])])],2))),128))])):(l(),a("div",be,[t[14]||(t[14]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[15]||(t[15]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900"},"No hay notificaciones",-1)),e("p",ye,o(i.value==="todas"?"No tienes ninguna notificaci√≥n":i.value==="urgentes"?"No hay notificaciones urgentes":"Todas tus notificaciones est√°n le√≠das"),1)]))])]))}}),Me=$(he,[["__scopeId","data-v-7459c3a8"]]);export{Me as default};
