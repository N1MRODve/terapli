import{G as ue,H as pe,r as u,q as x,f as me,c as n,a as e,g as c,k as s,t as l,y,d as I,F as h,s as w,i as R,j as _,v as T,z,h as H,U as ge,o as r,x as xe}from"#entry";import{u as fe}from"./Cy0_MzJF.js";const be={class:"pb-20"},ve={key:0,class:"text-center py-12"},ye={key:1,class:"text-center py-12"},_e={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-8"},he={class:"text-cafe/60 mb-4"},we={key:2,class:"space-y-6"},ke={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Ce={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6"},Ee={class:"flex items-start gap-4 flex-1"},Se={class:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-600 to-cafe flex items-center justify-center text-white font-bold text-2xl flex-shrink-0"},Pe={class:"flex-1"},Ne={class:"flex items-center gap-3 mb-2"},Ae={class:"text-3xl font-serif font-bold text-cafe"},je={class:"flex flex-wrap items-center gap-3 mb-3"},De={class:"text-cafe/60 text-sm flex items-center gap-1"},Be={class:"space-y-1 text-sm"},Ve={key:0,class:"text-cafe/70 flex items-center gap-2"},Fe={key:1,class:"text-cafe/70 flex items-center gap-2"},$e={key:2,class:"text-cafe/70 flex items-center gap-2"},qe={class:"flex flex-col gap-2"},Ue={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},Te={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Me={class:"flex items-center gap-3"},Le={class:"text-2xl font-bold text-cafe"},Ie={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Re={class:"flex items-center gap-3"},ze={class:"text-2xl font-bold text-green-600"},He={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Ge={class:"flex items-center gap-3"},Oe={class:"text-sm font-semibold text-cafe"},We={class:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Ke={class:"flex items-center gap-3"},Qe={class:"text-2xl font-bold text-purple-600"},Je={class:"bg-white rounded-xl shadow-sm border border-gray-100"},Xe={class:"flex border-b border-gray-200 overflow-x-auto"},Ye=["onClick"],Ze={class:"p-6"},et={key:0},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:"p-4 bg-gray-50 rounded-lg"},ot={class:"font-medium text-cafe"},at={class:"p-4 bg-gray-50 rounded-lg"},lt={class:"font-medium text-cafe"},nt={class:"p-4 bg-gray-50 rounded-lg"},rt={class:"font-medium text-cafe"},it={class:"p-4 bg-gray-50 rounded-lg"},dt={class:"font-medium text-cafe"},ct={class:"p-4 bg-gray-50 rounded-lg"},ut={class:"font-medium text-cafe"},pt={class:"p-4 bg-gray-50 rounded-lg"},mt={key:0,class:"p-4 bg-gray-50 rounded-lg col-span-full"},gt={class:"font-medium text-cafe"},xt={key:1},ft={class:"flex items-center justify-between mb-6"},bt={class:"text-lg font-semibold text-cafe"},vt={key:0,class:"text-center py-8 text-gray-400"},yt={key:1,class:"text-center py-12 text-gray-400"},_t={key:2,class:"space-y-3"},ht={class:"flex items-start justify-between gap-4"},wt={class:"flex-1"},kt={class:"flex items-center gap-3 mb-2"},Ct={class:"font-semibold text-cafe"},Et={class:"text-sm text-gray-600"},St={class:"flex flex-wrap gap-2 mt-2"},Pt={class:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full"},Nt={key:0,class:"text-sm text-gray-600 mt-2"},At={key:2},jt={key:0,class:"text-center py-8 text-gray-400"},Dt={key:1,class:"text-center py-12 text-gray-400"},Bt={key:2,class:"space-y-4"},Vt={class:"flex items-start justify-between mb-4"},Ft={class:"font-semibold text-cafe text-lg mb-1"},$t={class:"text-right"},qt={class:"text-2xl font-bold text-purple-600"},Ut={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4"},Tt={class:"font-semibold text-cafe"},Mt={class:"font-semibold text-cafe"},Lt={class:"font-semibold text-cafe"},It={class:"font-semibold text-cafe text-sm"},Rt={key:0,class:"mt-3 text-sm text-gray-600"},zt={class:"mt-4"},Ht={class:"w-full bg-gray-200 rounded-full h-2"},Gt={key:3},Ot={key:0,class:"text-center py-8 text-gray-400"},Wt={key:1,class:"text-center py-12 text-gray-400"},Kt={key:2,class:"space-y-3"},Qt={class:"flex items-start justify-between"},Jt={class:"flex-1"},Xt={class:"flex items-center gap-3 mb-2"},Yt={class:"font-semibold text-cafe"},Zt={class:"text-sm text-gray-600"},es={class:"flex items-center gap-2 mt-2"},ts={key:0,class:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full"},ss={class:"text-right"},os={class:"text-xl font-bold text-cafe"},as={key:4},ls={key:0,class:"text-center py-8 text-gray-400"},ns={key:1,class:"text-center py-12 text-gray-400"},rs={key:2,class:"space-y-4"},is={class:"flex items-start justify-between mb-3"},ds={class:"font-semibold text-cafe"},cs={key:0,class:"text-sm text-gray-600"},us={key:0,class:"text-sm text-gray-700 whitespace-pre-wrap bg-gray-50 p-3 rounded"},ps={key:1,class:"text-sm text-gray-400 italic"},ms={class:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},gs={class:"flex items-center gap-3"},xs={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},fs={class:"text-sm text-red-600"},bs={class:"flex gap-3 pt-4"},vs=["disabled"],ys=["disabled"],_s={key:0,class:"animate-spin"},Es={__name:"[id]",setup(hs){const f=fe(),G=ue(),O=pe(),P=u(!0),N=u(!0),A=u(!0),j=u(!0),D=u(!0),k=u(null),i=u(null),b=u([]),C=u([]),B=u([]),V=u([]),p=u("info"),F=u(!1),m=u(!1),v=u(""),d=u({nombre_completo:"",email:"",telefono:"",area_de_acompanamiento:"",frecuencia:"",activo:!0}),W=[{id:"info",label:"Informaci√≥n",icon:"üë§"},{id:"citas",label:"Citas",icon:"üìÖ"},{id:"bonos",label:"Bonos",icon:"üéüÔ∏è"},{id:"pagos",label:"Pagos",icon:"üí≥"},{id:"sesiones",label:"Sesiones",icon:"üìù"}],g=x(()=>G.params.id),$=x(()=>i.value?.nombre_completo||"Sin nombre"),K=x(()=>$.value.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2)),M=x(()=>b.value.length),Q=x(()=>b.value.filter(o=>o.estado==="completada").length),J=x(()=>{const o=b.value.filter(t=>new Date(t.fecha_cita)>new Date&&t.estado!=="cancelada");return o.length===0?"Sin citas programadas":q(o[0].fecha_cita)}),X=x(()=>C.value.filter(o=>o.estado==="activo"&&o.sesiones_restantes>0)),E=o=>o?new Date(o).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Sin fecha",q=o=>o?new Date(o).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",Y=o=>({pendiente:"Pendiente",confirmada:"Confirmada",completada:"Completada",cancelada:"Cancelada"})[o]||o,Z=o=>({pendiente:"bg-yellow-100 text-yellow-700",confirmada:"bg-green-100 text-green-700",completada:"bg-blue-100 text-blue-700",cancelada:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",ee=o=>({activo:"Activo",agotado:"Agotado",expirado:"Expirado",cancelado:"Cancelado"})[o]||o,te=o=>({activo:"bg-green-100 text-green-700",agotado:"bg-orange-100 text-orange-700",expirado:"bg-red-100 text-red-700",cancelado:"bg-gray-100 text-gray-700"})[o]||"bg-gray-100 text-gray-700",se=o=>({pendiente:"Pendiente",completado:"Completado",cancelado:"Cancelado"})[o]||o,oe=o=>({pendiente:"bg-yellow-100 text-yellow-700",completado:"bg-green-100 text-green-700",cancelado:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",ae=()=>{if(!i.value?.telefono){alert("Este paciente no tiene tel√©fono registrado");return}const o=i.value.telefono.replace(/\D/g,""),t=encodeURIComponent(`Hola ${$.value}, te escribo desde el consultorio de Psic√≥loga Karem.`);window.open(`https://wa.me/${o}?text=${t}`,"_blank")},U=()=>{O.push(`/coordinadora/agenda?paciente=${g.value}`)},le=()=>{d.value={nombre_completo:i.value.nombre_completo||"",email:i.value.email||"",telefono:i.value.telefono||"",area_de_acompanamiento:i.value.area_de_acompanamiento||"",frecuencia:i.value.frecuencia||"",activo:i.value.activo??!0},F.value=!0,v.value=""},S=()=>{m.value||(F.value=!1,v.value="")},ne=async()=>{m.value=!0,v.value="";try{const{error:o}=await f.from("pacientes").update({nombre_completo:d.value.nombre_completo.trim(),email:d.value.email.trim().toLowerCase(),telefono:d.value.telefono.trim()||null,area_de_acompanamiento:d.value.area_de_acompanamiento||null,frecuencia:d.value.frecuencia||null,activo:d.value.activo}).eq("id",g.value);if(o)throw o;await L(),S()}catch(o){console.error("Error al guardar cambios:",o),v.value=o.message||"Error al guardar los cambios"}finally{m.value=!1}},L=async()=>{P.value=!0,k.value=null;try{const{data:o,error:t}=await f.from("pacientes").select("*").eq("id",g.value).single();if(t)throw t;if(!o)throw new Error("Paciente no encontrado");i.value=o}catch(o){console.error("Error al cargar paciente:",o),k.value=o.message||"Error al cargar la informaci√≥n del paciente"}finally{P.value=!1}},re=async()=>{N.value=!0;try{const{data:o,error:t}=await f.from("citas").select("*").eq("paciente_id",g.value).order("fecha_cita",{ascending:!1});if(t)throw t;b.value=o||[]}catch(o){console.error("Error al cargar citas:",o)}finally{N.value=!1}},ie=async()=>{A.value=!0;try{const{data:o,error:t}=await f.from("bonos").select("*").eq("paciente_id",g.value).order("fecha_compra",{ascending:!1});if(t)throw t;C.value=o||[]}catch(o){console.error("Error al cargar bonos:",o)}finally{A.value=!1}},de=async()=>{j.value=!0;try{const{data:o,error:t}=await f.from("pagos").select("*").eq("paciente_id",g.value).order("fecha",{ascending:!1});if(t)throw t;B.value=o||[]}catch(o){console.error("Error al cargar pagos:",o)}finally{j.value=!1}},ce=async()=>{D.value=!0;try{const{data:o,error:t}=await f.from("sesiones").select("*").eq("paciente_id",g.value).order("fecha",{ascending:!1});if(t)throw t;V.value=o||[]}catch(o){console.error("Error al cargar sesiones:",o)}finally{D.value=!1}};return me(async()=>{await L(),await Promise.all([re(),ie(),de(),ce()])}),(o,t)=>(r(),n("div",be,[e("button",{onClick:t[0]||(t[0]=a=>o.$router.push("/coordinadora/pacientes")),class:"mb-6 flex items-center gap-2 text-cafe hover:text-purple-600 transition-colors"},[...t[8]||(t[8]=[e("span",null,"‚Üê",-1),e("span",null,"Volver a lista de pacientes",-1)])]),s(P)?(r(),n("div",ve,[...t[9]||(t[9]=[e("div",{class:"animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4"},null,-1),e("p",{class:"text-cafe/60"},"Cargando informaci√≥n del paciente...",-1)])])):s(k)?(r(),n("div",ye,[e("div",_e,[t[10]||(t[10]=e("span",{class:"text-6xl mb-4 block"},"‚ùå",-1)),t[11]||(t[11]=e("h3",{class:"text-xl font-serif font-semibold text-cafe mb-2"},"No se pudo cargar la informaci√≥n",-1)),e("p",he,l(s(k)),1),e("button",{onClick:t[1]||(t[1]=a=>o.$router.push("/coordinadora/pacientes")),class:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors"}," Volver a la lista ")])])):s(i)?(r(),n("div",we,[e("div",ke,[e("div",Ce,[e("div",Ee,[e("div",Se,l(s(K)),1),e("div",Pe,[e("div",Ne,[e("h1",Ae,l(s($)),1),e("button",{onClick:le,class:"text-gray-400 hover:text-purple-600 transition-colors",title:"Editar informaci√≥n"},[...t[12]||(t[12]=[e("span",{class:"text-xl"},"‚úèÔ∏è",-1)])])]),e("div",je,[e("span",{class:y(["px-3 py-1 text-sm font-medium rounded-full",s(i).activo?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},l(s(i).activo?"Activo":"Inactivo"),3),e("span",De,[t[13]||(t[13]=e("span",null,"üìß",-1)),e("span",null,l(s(i).email),1)])]),e("div",Be,[s(i).telefono?(r(),n("div",Ve,[t[14]||(t[14]=e("span",null,"üì±",-1)),e("span",null,l(s(i).telefono),1)])):c("",!0),s(i).area_de_acompanamiento?(r(),n("div",Fe,[t[16]||(t[16]=e("span",null,"üéØ",-1)),e("span",null,[t[15]||(t[15]=e("strong",null,"√Årea:",-1)),I(" "+l(s(i).area_de_acompanamiento),1)])])):c("",!0),s(i).frecuencia?(r(),n("div",$e,[t[18]||(t[18]=e("span",null,"üìÜ",-1)),e("span",null,[t[17]||(t[17]=e("strong",null,"Frecuencia:",-1)),I(" "+l(s(i).frecuencia),1)])])):c("",!0)])])]),e("div",qe,[s(i).telefono?(r(),n("button",{key:0,onClick:ae,class:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm flex items-center gap-2 justify-center"},[...t[19]||(t[19]=[e("span",null,"üí¨",-1),e("span",null,"WhatsApp",-1)])])):c("",!0),e("button",{onClick:U,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors text-sm flex items-center gap-2 justify-center"},[...t[20]||(t[20]=[e("span",null,"üìÖ",-1),e("span",null,"Agendar Cita",-1)])])])])]),e("div",Ue,[e("div",Te,[e("div",Me,[t[22]||(t[22]=e("span",{class:"text-3xl"},"üìä",-1)),e("div",null,[t[21]||(t[21]=e("p",{class:"text-sm text-gray-600"},"Total Citas",-1)),e("p",Le,l(s(M)),1)])])]),e("div",Ie,[e("div",Re,[t[24]||(t[24]=e("span",{class:"text-3xl"},"‚úÖ",-1)),e("div",null,[t[23]||(t[23]=e("p",{class:"text-sm text-gray-600"},"Completadas",-1)),e("p",ze,l(s(Q)),1)])])]),e("div",He,[e("div",Ge,[t[26]||(t[26]=e("span",{class:"text-3xl"},"üìÖ",-1)),e("div",null,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Pr√≥xima Cita",-1)),e("p",Oe,l(s(J)),1)])])]),e("div",We,[e("div",Ke,[t[28]||(t[28]=e("span",{class:"text-3xl"},"üéüÔ∏è",-1)),e("div",null,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"},"Bonos Activos",-1)),e("p",Qe,l(s(X).length),1)])])])]),e("div",Je,[e("div",Xe,[(r(),n(h,null,w(W,a=>e("button",{key:a.id,onClick:ws=>p.value=a.id,class:y(["px-6 py-4 font-medium transition-colors whitespace-nowrap flex items-center gap-2",s(p)===a.id?"text-purple-600 border-b-2 border-purple-600":"text-gray-600 hover:text-cafe"])},[e("span",null,l(a.icon),1),e("span",null,l(a.label),1)],10,Ye)),64))]),e("div",Ze,[s(p)==="info"?(r(),n("div",et,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-cafe mb-4"},"Informaci√≥n Personal",-1)),e("div",tt,[e("div",st,[t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 mb-1"},"Nombre Completo",-1)),e("p",ot,l(s(i).nombre_completo||"No especificado"),1)]),e("div",at,[t[30]||(t[30]=e("p",{class:"text-sm text-gray-600 mb-1"},"Email",-1)),e("p",lt,l(s(i).email||"No especificado"),1)]),e("div",nt,[t[31]||(t[31]=e("p",{class:"text-sm text-gray-600 mb-1"},"Tel√©fono",-1)),e("p",rt,l(s(i).telefono||"No especificado"),1)]),e("div",it,[t[32]||(t[32]=e("p",{class:"text-sm text-gray-600 mb-1"},"√Årea de Acompa√±amiento",-1)),e("p",dt,l(s(i).area_de_acompanamiento||"No especificado"),1)]),e("div",ct,[t[33]||(t[33]=e("p",{class:"text-sm text-gray-600 mb-1"},"Frecuencia de Sesiones",-1)),e("p",ut,l(s(i).frecuencia||"No especificado"),1)]),e("div",pt,[t[34]||(t[34]=e("p",{class:"text-sm text-gray-600 mb-1"},"Estado",-1)),e("p",{class:y(["font-medium",s(i).activo?"text-green-600":"text-gray-600"])},l(s(i).activo?"Activo":"Inactivo"),3)]),s(i).created_at?(r(),n("div",mt,[t[35]||(t[35]=e("p",{class:"text-sm text-gray-600 mb-1"},"Fecha de Registro",-1)),e("p",gt,l(E(s(i).created_at)),1)])):c("",!0)])])):c("",!0),s(p)==="citas"?(r(),n("div",xt,[e("div",ft,[e("h3",bt,"Historial de Citas ("+l(s(M))+")",1),e("button",{onClick:U,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors text-sm"}," + Nueva Cita ")]),s(N)?(r(),n("div",vt,[...t[37]||(t[37]=[e("p",null,"Cargando historial...",-1)])])):s(b).length===0?(r(),n("div",yt,[t[38]||(t[38]=e("span",{class:"text-6xl block mb-4"},"üìÖ",-1)),t[39]||(t[39]=e("p",{class:"mb-4"},"No hay citas registradas",-1)),e("button",{onClick:U,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors"}," Agendar Primera Cita ")])):(r(),n("div",_t,[(r(!0),n(h,null,w(s(b),a=>(r(),n("div",{key:a.id,class:"p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors"},[e("div",ht,[e("div",wt,[e("div",kt,[t[40]||(t[40]=e("span",{class:"text-lg"},"üìÖ",-1)),e("div",null,[e("p",Ct,l(E(a.fecha_cita)),1),e("p",Et,l(a.hora_inicio)+" - "+l(a.hora_fin),1)])]),e("div",St,[e("span",Pt,l(a.modalidad||"presencial"),1),e("span",{class:y(["px-2 py-1 text-xs rounded-full",Z(a.estado)])},l(Y(a.estado)),3)]),a.observaciones?(r(),n("p",Nt,l(a.observaciones),1)):c("",!0)])])]))),128))]))])):c("",!0),s(p)==="bonos"?(r(),n("div",At,[t[48]||(t[48]=e("div",{class:"flex items-center justify-between mb-6"},[e("h3",{class:"text-lg font-semibold text-cafe"},"Bonos Contratados")],-1)),s(A)?(r(),n("div",jt,[...t[41]||(t[41]=[e("p",null,"Cargando bonos...",-1)])])):s(C).length===0?(r(),n("div",Dt,[...t[42]||(t[42]=[e("span",{class:"text-6xl block mb-4"},"üéüÔ∏è",-1),e("p",{class:"mb-4"},"No hay bonos registrados",-1)])])):(r(),n("div",Bt,[(r(!0),n(h,null,w(s(C),a=>(r(),n("div",{key:a.id,class:"p-6 border border-gray-200 rounded-lg"},[e("div",Vt,[e("div",null,[e("h4",Ft,"Bono de "+l(a.sesiones_totales)+" Sesiones",1),e("span",{class:y(["px-3 py-1 text-sm rounded-full",te(a.estado)])},l(ee(a.estado)),3)]),e("div",$t,[e("p",qt,l(a.sesiones_restantes),1),t[43]||(t[43]=e("p",{class:"text-sm text-gray-600"},"sesiones restantes",-1))])]),e("div",Ut,[e("div",null,[t[44]||(t[44]=e("p",{class:"text-xs text-gray-600"},"Total Sesiones",-1)),e("p",Tt,l(a.sesiones_totales),1)]),e("div",null,[t[45]||(t[45]=e("p",{class:"text-xs text-gray-600"},"Sesiones Usadas",-1)),e("p",Mt,l(a.sesiones_totales-a.sesiones_restantes),1)]),e("div",null,[t[46]||(t[46]=e("p",{class:"text-xs text-gray-600"},"Precio",-1)),e("p",Lt,l(a.precio_total?`${a.precio_total}‚Ç¨`:"N/A"),1)]),e("div",null,[t[47]||(t[47]=e("p",{class:"text-xs text-gray-600"},"Fecha Compra",-1)),e("p",It,l(q(a.fecha_compra)),1)])]),a.fecha_expiracion?(r(),n("div",Rt,[e("span",null,"üìÖ Expira: "+l(q(a.fecha_expiracion)),1)])):c("",!0),e("div",zt,[e("div",Ht,[e("div",{class:"bg-purple-600 h-2 rounded-full",style:xe({width:`${(a.sesiones_totales-a.sesiones_restantes)/a.sesiones_totales*100}%`})},null,4)])])]))),128))]))])):c("",!0),s(p)==="pagos"?(r(),n("div",Gt,[t[52]||(t[52]=e("div",{class:"flex items-center justify-between mb-6"},[e("h3",{class:"text-lg font-semibold text-cafe"},"Historial de Pagos")],-1)),s(j)?(r(),n("div",Ot,[...t[49]||(t[49]=[e("p",null,"Cargando pagos...",-1)])])):s(B).length===0?(r(),n("div",Wt,[...t[50]||(t[50]=[e("span",{class:"text-6xl block mb-4"},"üí≥",-1),e("p",{class:"mb-4"},"No hay pagos registrados",-1)])])):(r(),n("div",Kt,[(r(!0),n(h,null,w(s(B),a=>(r(),n("div",{key:a.id,class:"p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors"},[e("div",Qt,[e("div",Jt,[e("div",Xt,[t[51]||(t[51]=e("span",{class:"text-lg"},"üí≥",-1)),e("div",null,[e("p",Yt,l(a.concepto||"Pago de sesi√≥n"),1),e("p",Zt,l(E(a.fecha)),1)])]),e("div",es,[e("span",{class:y(["px-2 py-1 text-xs rounded-full",oe(a.estado)])},l(se(a.estado)),3),a.metodo_pago?(r(),n("span",ts,l(a.metodo_pago),1)):c("",!0)])]),e("div",ss,[e("p",os,l(a.monto)+"‚Ç¨",1)])])]))),128))]))])):c("",!0),s(p)==="sesiones"?(r(),n("div",as,[t[55]||(t[55]=e("div",{class:"flex items-center justify-between mb-6"},[e("h3",{class:"text-lg font-semibold text-cafe"},"Sesiones y Notas")],-1)),s(D)?(r(),n("div",ls,[...t[53]||(t[53]=[e("p",null,"Cargando sesiones...",-1)])])):s(V).length===0?(r(),n("div",ns,[...t[54]||(t[54]=[e("span",{class:"text-6xl block mb-4"},"üìù",-1),e("p",{class:"mb-4"},"No hay sesiones registradas",-1)])])):(r(),n("div",rs,[(r(!0),n(h,null,w(s(V),a=>(r(),n("div",{key:a.id,class:"p-4 border border-gray-100 rounded-lg"},[e("div",is,[e("div",null,[e("p",ds,l(E(a.fecha)),1),a.tipo?(r(),n("p",cs,l(a.tipo),1)):c("",!0)])]),a.notas?(r(),n("div",us,l(a.notas),1)):(r(),n("div",ps,"Sin notas"))]))),128))]))])):c("",!0)])])])):c("",!0),s(F)?(r(),n("div",{key:3,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:R(S,["self"])},[e("div",ms,[e("div",{class:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between"},[t[57]||(t[57]=e("h2",{class:"text-2xl font-serif font-bold text-cafe"},"Editar Paciente",-1)),e("button",{onClick:S,class:"text-gray-400 hover:text-cafe transition-colors"},[...t[56]||(t[56]=[e("span",{class:"text-2xl"},"√ó",-1)])])]),e("form",{onSubmit:R(ne,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-cafe mb-2"},"Nombre Completo *",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(d).nombre_completo=a),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[T,s(d).nombre_completo]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-cafe mb-2"},"Email *",-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>s(d).email=a),type:"email",required:"",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[T,s(d).email]])]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-cafe mb-2"},"Tel√©fono",-1)),_(e("input",{"onUpdate:modelValue":t[4]||(t[4]=a=>s(d).telefono=a),type:"tel",class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"},null,512),[[T,s(d).telefono]])]),e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-cafe mb-2"},"√Årea de Acompa√±amiento",-1)),_(e("select",{"onUpdate:modelValue":t[5]||(t[5]=a=>s(d).area_de_acompanamiento=a),class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"},[...t[61]||(t[61]=[H('<option value="">Selecciona un √°rea</option><option value="Ansiedad">Ansiedad</option><option value="Depresi√≥n">Depresi√≥n</option><option value="Duelo">Duelo</option><option value="Autoestima">Autoestima</option><option value="Relaciones">Relaciones</option><option value="Familia">Familia</option><option value="Trauma">Trauma</option><option value="Estr√©s">Estr√©s</option><option value="Desarrollo Personal">Desarrollo Personal</option><option value="Otro">Otro</option>',11)])],512),[[z,s(d).area_de_acompanamiento]])]),e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-cafe mb-2"},"Frecuencia de Sesiones",-1)),_(e("select",{"onUpdate:modelValue":t[6]||(t[6]=a=>s(d).frecuencia=a),class:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-300"},[...t[63]||(t[63]=[H('<option value="">Selecciona una frecuencia</option><option value="semanal">Semanal</option><option value="quincenal">Quincenal</option><option value="mensual">Mensual</option><option value="ocasional">Ocasional</option>',5)])],512),[[z,s(d).frecuencia]])]),e("div",gs,[_(e("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>s(d).activo=a),type:"checkbox",id:"activo-edit",class:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-2 focus:ring-purple-300"},null,512),[[ge,s(d).activo]]),t[65]||(t[65]=e("label",{for:"activo-edit",class:"text-sm font-medium text-cafe cursor-pointer"},"Paciente activo",-1))]),s(v)?(r(),n("div",xs,[e("p",fs,l(s(v)),1)])):c("",!0),e("div",bs,[e("button",{type:"button",onClick:S,disabled:s(m),class:"flex-1 px-6 py-3 border border-gray-300 text-cafe rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"}," Cancelar ",8,vs),e("button",{type:"submit",disabled:s(m),class:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},[s(m)?(r(),n("span",_s,"‚è≥")):c("",!0),e("span",null,l(s(m)?"Guardando...":"Guardar Cambios"),1)],8,ys)])],32)])])):c("",!0)]))}};export{Es as default};
