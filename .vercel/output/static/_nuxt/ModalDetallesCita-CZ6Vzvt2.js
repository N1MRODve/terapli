import{c as i,o as l,a as e,e as ee,r as _,p as ae,G as A,x as w,D as M,h as v,j as H,A as T,af as F,l as c,t as r,b,F as j,z as te,k,v as E,B as O,d as P,K as oe}from"#entry";import{r as $}from"./CalendarIcon-mZ3toP8Y.js";import{r as se}from"./XMarkIcon-DWNj0d99.js";import{r as re}from"./UserIcon-G1mM6o1b.js";import{r as V}from"./ClockIcon-CQZt9cKZ.js";import{r as le}from"./TicketIcon-DRclOuRO.js";import{r as ie,a as ne}from"./XCircleIcon-BaRJRhc1.js";import{r as B}from"./CheckCircleIcon-Bi0YyG7H.js";import{r as de}from"./ExclamationCircleIcon-Dyh9f5zH.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";function ue(x,I){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function me(x,I){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})])}function fe(x,I){return l(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"})])}const ge={class:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden"},pe={class:"flex items-center gap-3"},ve={class:"text-xl font-bold text-white"},be={class:"text-xs text-white/80 mt-0.5"},xe={key:0,class:"p-12 flex flex-col items-center justify-center bg-gray-50"},he={key:1,class:"px-6 py-5 overflow-y-auto max-h-[calc(90vh-180px)] space-y-4 bg-gray-50"},_e={class:"bg-white rounded-xl p-5 shadow-sm border border-gray-200"},ye={class:"flex items-start justify-between mb-4"},we={class:"flex items-center gap-3"},ke={class:"w-12 h-12 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center"},Ce={class:"text-xl font-bold text-gray-900"},ze={class:"flex flex-wrap gap-3 text-sm text-gray-600"},Ie={key:0,class:"flex items-center gap-2"},Me={key:1,class:"flex items-center gap-2"},Ee={key:2,class:"flex items-center gap-2 capitalize"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},De={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},je={class:"flex items-center gap-2 mb-2"},$e={class:"font-bold text-gray-900 capitalize"},Ve={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},Be={class:"flex items-center gap-2 mb-2"},qe={class:"font-bold text-gray-900"},Le={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},Ne={class:"flex items-center gap-2 mb-2"},Ue={class:"font-bold text-gray-900 capitalize"},Ae={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-200"},He={class:"flex items-center gap-2 mb-2"},Te={class:"font-bold text-gray-900"},Fe={key:0,class:"bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 rounded-xl p-5 shadow-sm border border-emerald-200"},Oe={class:"flex items-start justify-between mb-4"},Pe={class:"flex items-center gap-3"},Ge={class:"w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center"},Re={key:0,class:"bg-white px-4 py-2 rounded-full border-2 border-emerald-400 shadow-sm"},Ze={class:"text-sm font-black text-emerald-700"},Je={class:"grid grid-cols-3 gap-4 mb-4"},Ke={class:"bg-white rounded-lg p-3 text-center"},We={class:"font-bold text-emerald-900 capitalize text-lg"},Qe={class:"bg-white rounded-lg p-3 text-center"},Xe={class:"font-bold text-emerald-900 text-lg"},Ye={class:"bg-white rounded-lg p-3 text-center"},ea={class:"font-bold text-emerald-900 text-lg"},aa={class:"bg-white/70 backdrop-blur rounded-lg p-3"},ta={class:"flex items-center justify-between text-xs text-emerald-700 mb-2"},oa={class:"font-bold text-sm"},sa={class:"h-3 bg-emerald-100 rounded-full overflow-hidden"},ra={key:1,class:"bg-amber-50 rounded-xl p-5 shadow-sm border border-amber-200"},la={class:"flex items-center gap-2 mb-3"},ia={class:"text-sm text-amber-900 whitespace-pre-wrap leading-relaxed"},na={class:"text-xs text-gray-400 space-y-1 pt-3 border-t border-gray-200"},da={class:"font-mono"},ca={key:0},ua={class:"grid grid-cols-2 gap-4"},ma={class:"grid grid-cols-2 gap-4"},fa={key:2,class:"p-12 text-center bg-gray-50"},ga={class:"text-gray-400 text-sm mt-1"},pa={class:"mt-4 text-xs text-left bg-white p-4 rounded border border-gray-200"},va={class:"font-mono"},ba={class:"font-mono"},xa={class:"font-mono"},ha={class:"px-6 py-4 border-t border-gray-200 flex gap-3 bg-white"},_a=["disabled"],ya={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},wa=["disabled"],ka=ee({__name:"ModalDetallesCita",props:{citaId:{}},emits:["close","cita-actualizada","cita-eliminada","actualizado","eliminado"],setup(x,{emit:I}){const f=x,C=I,y=_(!1),z=ae(),o=_(null),u=_(null),d=_(null),g=_(!1),p=_(!1),s=_({fecha_cita:"",hora_inicio:"",hora_fin:"",modalidad:"",observaciones:"",estado:""}),q=async()=>{if(console.log("üîç cargarCita - citaId:",f.citaId),!f.citaId){console.log("‚ö†Ô∏è No hay citaId, cancelando carga");return}try{g.value=!0,console.log("‚è≥ Cargando cita...");const{data:t,error:a}=await z.from("citas").select(`
        *,
        paciente:pacientes(
          id,
          nombre_completo,
          email,
          telefono,
          frecuencia
        )
      `).eq("id",f.citaId).single();if(console.log("üìä Resultado query cita:",{citaData:t,citaError:a}),a)throw console.error("‚ùå Error detallado:",JSON.stringify(a,null,2)),a;if(o.value=t,u.value=t.paciente,console.log("‚úÖ Cita cargada:",o.value),console.log("üë§ Paciente:",u.value),t.bono_id){console.log("üéüÔ∏è Cargando bono:",t.bono_id);const{data:n,error:h}=await z.from("bonos").select("*").eq("id",t.bono_id).single();if(console.log("üìä Resultado query bono:",{bonoData:n,bonoError:h}),!h){d.value=n,console.log("‚úÖ Bono cargado:",d.value);const{data:m,error:D}=await z.from("citas").select("id, fecha_cita, hora_inicio").eq("bono_id",t.bono_id).eq("sesion_descontada",!0).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});if(!D&&m){const U=m.findIndex(Y=>Y.id===f.citaId);U!==-1&&(d.value.numero_sesion=U+1,console.log("üìç N√∫mero de sesi√≥n:",d.value.numero_sesion))}}}s.value={fecha_cita:t.fecha_cita,hora_inicio:t.hora_inicio?.substring(0,5)||"",hora_fin:t.hora_fin?.substring(0,5)||"",modalidad:t.modalidad,observaciones:t.observaciones||"",estado:t.estado}}catch(t){console.error("‚ùå Error al cargar cita:",t)}finally{g.value=!1,console.log("üèÅ Carga finalizada. Estado:",{cita:o.value,paciente:u.value,bono:d.value})}};A(()=>f.citaId,(t,a)=>{console.log("üëÄ Watch citaId cambi√≥:",{oldId:a,newId:t}),t?q():(console.log("üßπ Limpiando estado del modal"),o.value=null,u.value=null,d.value=null)},{immediate:!0});const G=w(()=>o.value?.fecha_cita?new Date(o.value.fecha_cita+"T00:00:00").toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):""),R=w(()=>{const t=o.value?.estado;return{pendiente:"bg-yellow-100 text-yellow-800 border-yellow-300",confirmada:"bg-emerald-100 text-emerald-800 border-emerald-300",realizada:"bg-blue-100 text-blue-800 border-blue-300",cancelada:"bg-red-100 text-red-800 border-red-300"}[t]||"bg-gray-100 text-gray-800"}),Z=w(()=>{const t=o.value?.estado;return{pendiente:"from-yellow-500 to-amber-600",confirmada:"from-emerald-500 to-teal-600",realizada:"from-blue-500 to-indigo-600",cancelada:"from-red-500 to-rose-600"}[t]||"from-indigo-500 to-purple-600"}),J=w(()=>{const t=o.value?.estado;return{pendiente:de,confirmada:B,realizada:B,cancelada:ne}[t]||$}),K=w(()=>({pendiente:"Pendiente",confirmada:"Confirmada",realizada:"Realizada",cancelada:"Cancelada"})[o.value?.estado]||o.value?.estado||""),L=w(()=>o.value?.estado==="pendiente"),S=()=>{p.value=!1,C("close")},W=()=>{p.value=!0},Q=async()=>{if(!(!f.citaId||y.value||!L.value)){y.value=!0;try{const{error:t}=await z.from("citas").update({estado:"confirmada",updated_at:new Date().toISOString()}).eq("id",f.citaId);if(t)throw t;o.value&&(o.value.estado="confirmada"),C("cita-actualizada"),C("actualizado"),alert("‚úÖ Cita confirmada correctamente")}catch(t){console.error("Error al confirmar cita:",t),alert(`‚ùå Error al confirmar: ${t.message}`)}finally{y.value=!1}}},X=()=>{p.value=!1,o.value&&(s.value={fecha_cita:o.value.fecha_cita,hora_inicio:o.value.hora_inicio?.substring(0,5)||"",hora_fin:o.value.hora_fin?.substring(0,5)||"",modalidad:o.value.modalidad,observaciones:o.value.observaciones||"",estado:o.value.estado})},N=async()=>{if(f.citaId)try{g.value=!0;const t=parseInt(s.value.hora_inicio.split(":")[0])*60+parseInt(s.value.hora_inicio.split(":")[1]),a=parseInt(s.value.hora_fin.split(":")[0])*60+parseInt(s.value.hora_fin.split(":")[1]);if(a<=t){alert("‚ùå Error: La hora de fin debe ser posterior a la hora de inicio"),g.value=!1;return}const n=a-t;if(n<15){alert("‚ùå Error: La duraci√≥n m√≠nima de una cita es de 15 minutos"),g.value=!1;return}console.log("üíæ Guardando cambios de cita:",{id:f.citaId,fecha_cita:s.value.fecha_cita,hora_inicio:s.value.hora_inicio,hora_fin:s.value.hora_fin,modalidad:s.value.modalidad,estado:s.value.estado,duracion:`${n} minutos`});const{data:h,error:m}=await z.from("citas").update({fecha_cita:s.value.fecha_cita,hora_inicio:s.value.hora_inicio+":00",hora_fin:s.value.hora_fin+":00",modalidad:s.value.modalidad,observaciones:s.value.observaciones,estado:s.value.estado,updated_at:new Date().toISOString()}).eq("id",f.citaId).select().single();if(m)throw console.error("‚ùå Error de Supabase:",{message:m.message,details:m.details,hint:m.hint,code:m.code}),m;console.log("‚úÖ Cita actualizada exitosamente:",h),p.value=!1,await q(),C("cita-actualizada"),C("actualizado")}catch(t){console.error("‚ùå Error al actualizar cita:",t);const a=t?.message||"Error desconocido al actualizar la cita";alert(`Error al actualizar la cita:
${a}`)}finally{g.value=!1}};return A(()=>s.value.hora_inicio,t=>{if(p.value&&t){const[a,n]=t.split(":").map(Number),h=a*60+n+60,m=Math.floor(h/60),D=h%60;s.value.hora_fin=`${String(m).padStart(2,"0")}:${String(D).padStart(2,"0")}`}}),(t,a)=>(l(),M(oe,{to:"body"},[x.citaId?(l(),i("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:H(S,["self"])},[e("div",ge,[e("div",{class:T(["sticky top-0 bg-gradient-to-r px-6 py-4 flex items-center justify-between transition-all duration-300",o.value?Z.value:"from-indigo-500 to-purple-600"])},[e("div",pe,[(l(),M(F(o.value?J.value:c($)),{class:"w-7 h-7 text-white"})),e("div",null,[e("h2",ve,r(p.value?"Editar Cita":"Detalles de la Cita"),1),e("p",be,r(p.value?"Modifica los datos de la sesi√≥n":"Informaci√≥n completa de la sesi√≥n"),1)])]),e("button",{onClick:S,class:"text-white/90 hover:text-white transition-colors","aria-label":"Cerrar"},[b(c(se),{class:"w-6 h-6"})])],2),g.value?(l(),i("div",xe,[...a[6]||(a[6]=[e("div",{class:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mb-4"},null,-1),e("p",{class:"text-gray-600"},"Cargando detalles...",-1)])])):o.value?(l(),i("div",he,[p.value?(l(),i("form",{key:1,onSubmit:H(N,["prevent"]),class:"space-y-4"},[e("div",null,[a[20]||(a[20]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Fecha de la cita",-1)),k(e("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>s.value.fecha_cita=n),type:"date",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all"},null,512),[[E,s.value.fecha_cita]])]),e("div",ua,[e("div",null,[a[21]||(a[21]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Hora de inicio",-1)),k(e("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>s.value.hora_inicio=n),type:"time",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all"},null,512),[[E,s.value.hora_inicio]])]),e("div",null,[a[22]||(a[22]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Hora de fin",-1)),k(e("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>s.value.hora_fin=n),type:"time",required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all"},null,512),[[E,s.value.hora_fin]])])]),e("div",ma,[e("div",null,[a[24]||(a[24]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Modalidad",-1)),k(e("select",{"onUpdate:modelValue":a[3]||(a[3]=n=>s.value.modalidad=n),required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all"},[...a[23]||(a[23]=[e("option",{value:"presencial"},"Presencial",-1),e("option",{value:"virtual"},"Virtual",-1),e("option",{value:"telefonica"},"Telef√≥nica",-1)])],512),[[O,s.value.modalidad]])]),e("div",null,[a[26]||(a[26]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Estado",-1)),k(e("select",{"onUpdate:modelValue":a[4]||(a[4]=n=>s.value.estado=n),required:"",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white transition-all"},[...a[25]||(a[25]=[e("option",{value:"pendiente"},"Pendiente",-1),e("option",{value:"confirmada"},"Confirmada",-1),e("option",{value:"realizada"},"Realizada",-1),e("option",{value:"cancelada"},"Cancelada",-1)])],512),[[O,s.value.estado]])])]),e("div",null,[a[27]||(a[27]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Observaciones",-1)),k(e("textarea",{"onUpdate:modelValue":a[5]||(a[5]=n=>s.value.observaciones=n),rows:"4",class:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white resize-none transition-all",placeholder:"Notas adicionales sobre la cita..."},null,512),[[E,s.value.observaciones]])])],32)):(l(),i(j,{key:0},[e("div",_e,[e("div",ye,[e("div",we,[e("div",ke,[b(c(re),{class:"w-6 h-6 text-indigo-600"})]),e("div",null,[a[7]||(a[7]=e("h3",{class:"font-semibold text-gray-500 text-xs uppercase tracking-wide mb-1"},"Paciente",-1)),e("p",Ce,r(u.value?.nombre_completo||"Sin nombre"),1)])]),e("span",{class:T(["px-4 py-2 text-sm font-bold rounded-full shadow-md border-2",R.value])},r(K.value.toUpperCase()),3)]),e("div",ze,[u.value?.email?(l(),i("div",Ie,[a[8]||(a[8]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("span",null,r(u.value.email),1)])):v("",!0),u.value?.telefono?(l(),i("div",Me,[a[9]||(a[9]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",null,r(u.value.telefono),1)])):v("",!0),u.value?.frecuencia?(l(),i("div",Ee,[b(c(V),{class:"w-4 h-4 text-gray-400"}),e("span",null,r(u.value.frecuencia),1)])):v("",!0)])]),e("div",Se,[e("div",De,[e("div",je,[b(c($),{class:"w-5 h-5 text-blue-500"}),a[10]||(a[10]=e("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Fecha",-1))]),e("p",$e,r(G.value),1)]),e("div",Ve,[e("div",Be,[b(c(V),{class:"w-5 h-5 text-green-500"}),a[11]||(a[11]=e("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Horario",-1))]),e("p",qe,r(o.value.hora_inicio?.substring(0,5))+" - "+r(o.value.hora_fin?.substring(0,5)),1)]),e("div",Le,[e("div",Ne,[(l(),M(F(o.value.modalidad==="virtual"?c(fe):c(ue)),{class:"w-5 h-5 text-purple-500"})),a[12]||(a[12]=e("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Modalidad",-1))]),e("p",Ue,r(o.value.modalidad||"No especificada"),1)]),e("div",Ae,[e("div",He,[b(c(V),{class:"w-5 h-5 text-orange-500"}),a[13]||(a[13]=e("p",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"},"Duraci√≥n",-1))]),e("p",Te,r(o.value.duracion_minutos||60)+" minutos",1)])]),d.value?(l(),i("div",Fe,[e("div",Oe,[e("div",Pe,[e("div",Ge,[b(c(le),{class:"w-5 h-5 text-white"})]),a[14]||(a[14]=e("div",null,[e("h3",{class:"font-bold text-emerald-900 text-lg"},"Bono Activo"),e("p",{class:"text-xs text-emerald-700"},"Informaci√≥n del paquete de sesiones")],-1))]),d.value.numero_sesion?(l(),i("div",Re,[e("span",Ze,"Sesi√≥n #"+r(d.value.numero_sesion),1)])):v("",!0)]),e("div",Je,[e("div",Ke,[a[15]||(a[15]=e("p",{class:"text-xs text-emerald-600 mb-1 font-medium"},"Tipo",-1)),e("p",We,r(d.value.tipo||"Individual"),1)]),e("div",Qe,[a[16]||(a[16]=e("p",{class:"text-xs text-emerald-600 mb-1 font-medium"},"Disponibles",-1)),e("p",Xe,r(d.value.sesiones_restantes),1)]),e("div",Ye,[a[17]||(a[17]=e("p",{class:"text-xs text-emerald-600 mb-1 font-medium"},"Total",-1)),e("p",ea,r(d.value.sesiones_totales),1)])]),e("div",aa,[e("div",ta,[a[18]||(a[18]=e("span",{class:"font-semibold"},"Progreso del bono",-1)),e("span",oa,r(Math.round((d.value.sesiones_totales-d.value.sesiones_restantes)/d.value.sesiones_totales*100))+"% ",1)]),e("div",sa,[e("div",{class:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500 rounded-full",style:te({width:`${(d.value.sesiones_totales-d.value.sesiones_restantes)/d.value.sesiones_totales*100}%`})},null,4)])])])):v("",!0),o.value.observaciones?(l(),i("div",ra,[e("div",la,[b(c(ie),{class:"w-5 h-5 text-amber-600"}),a[19]||(a[19]=e("h3",{class:"font-bold text-amber-900"},"Observaciones",-1))]),e("p",ia,r(o.value.observaciones),1)])):v("",!0),e("div",na,[e("p",da,"ID: "+r(o.value.id),1),e("p",null,"Creada: "+r(new Date(o.value.created_at).toLocaleString("es-ES",{dateStyle:"full",timeStyle:"short"})),1),o.value.updated_at?(l(),i("p",ca,"√öltima modificaci√≥n: "+r(new Date(o.value.updated_at).toLocaleString("es-ES",{dateStyle:"full",timeStyle:"short"})),1)):v("",!0)])],64))])):(l(),i("div",fa,[a[29]||(a[29]=e("div",{class:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),a[30]||(a[30]=e("p",{class:"text-gray-600 font-medium"},"No se encontraron datos de la cita",-1)),e("p",ga,"ID: "+r(x.citaId),1),e("div",pa,[a[28]||(a[28]=e("p",{class:"font-mono"},"DEBUG:",-1)),e("p",va,"cargando: "+r(g.value),1),e("p",ba,"cita: "+r(o.value?"existe":"null"),1),e("p",xa,"citaId prop: "+r(x.citaId),1)])])),e("div",ha,[p.value?(l(),i(j,{key:1},[e("button",{onClick:X,type:"button",class:"flex-1 px-5 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-semibold text-sm"}," Cancelar "),e("button",{onClick:N,type:"button",disabled:g.value,class:"flex-1 px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-200"},r(g.value?"Guardando...":"Guardar Cambios"),9,wa)],64)):(l(),i(j,{key:0},[e("button",{onClick:S,class:"px-5 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-semibold text-sm"}," Cerrar "),L.value?(l(),i("button",{key:0,onClick:Q,disabled:y.value,class:"flex-1 px-5 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl hover:from-emerald-600 hover:to-teal-700 transition-all font-semibold text-sm flex items-center justify-center gap-2 shadow-lg shadow-emerald-200 disabled:opacity-50 disabled:cursor-not-allowed"},[y.value?(l(),i("svg",ya,[...a[31]||(a[31]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"},null,-1)])])):(l(),M(c(B),{key:1,class:"w-5 h-5"})),P(" "+r(y.value?"Confirmando...":"Confirmar Cita"),1)],8,_a)):v("",!0),e("button",{onClick:W,class:"flex-1 px-5 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all font-semibold text-sm flex items-center justify-center gap-2 shadow-lg shadow-indigo-200"},[b(c(me),{class:"w-5 h-5"}),a[32]||(a[32]=P(" Editar Cita ",-1))])],64))])])])):v("",!0)]))}}),Ba=Object.assign(ce(ka,[["__scopeId","data-v-dc5d76c4"]]),{__name:"ModalDetallesCita"});export{Ba as M};
