{"version":3,"file":"column-mapper.mjs","sources":["../../../../../../server/utils/column-mapper.ts"],"sourcesContent":null,"names":["FIELD_SYNONYMS","nombre_completo","email","telefono","documento_identidad","fecha_nacimiento","direccion","contacto_emergencia","area_de_acompanamiento","frecuencia","activo","derivacion","medicacion","orientacion_diagnostica","inicio_tratamiento","precio_sesion","descuento","notas","normalizeText","text","toLowerCase","normalize","replace","trim","calculateSimilarityScore","columnName","synonym","normalizedColumn","normalizedSynonym","includes","columnWords","split","synonymWords","commonWords","filter","word","length","avgLength","suggestMapping","threshold","bestField","bestScore","field","synonyms","Object","entries","maxScore","Math","max","map","autoMapColumns","detectedColumns","mappings","usedFields","Set","suggestedField","has","push","sourceColumn","targetField","add","some","m","hasRequiredFieldsMapped","mappedFields","f","hasNombre","hasEmail","hasTelefono","getMissingRequiredFields","missing","getMissingProfileFields","profileFields"],"mappings":"AAcA,MAAMA,EAAkD,CAEtDC,gBAAiB,CACf,SACA,kBACA,oBACA,kBACA,WACA,YACA,OACA,UACA,WAIFC,MAAO,CACL,QACA,SACA,SACA,qBACA,qBACA,OACA,UAIFC,SAAU,CACR,WACA,WACA,MACA,UACA,QACA,QACA,QACA,qBACA,qBACA,YAIFC,oBAAqB,CACnB,YACA,yBACA,MACA,MACA,YACA,iBACA,iBACA,KACA,SACA,SACA,MACA,MAIFC,iBAAkB,CAChB,sBACA,mBACA,aACA,YACA,UACA,aACA,WACA,QAIFC,UAAW,CACT,YACA,YACA,YACA,UACA,SAIFC,oBAAqB,CACnB,sBACA,yBACA,aACA,oBACA,WACA,qBAIFC,uBAAwB,CACtB,OACA,OACA,yBACA,yBACA,SACA,kBACA,qBACA,cACA,cACA,WACA,eAIFC,WAAY,CACV,aACA,eACA,sBACA,aAIFC,OAAQ,CACN,SACA,SACA,SACA,SACA,WAIFC,WAAY,CACV,aACA,aACA,eACA,eACA,YAIFC,WAAY,CACV,aACA,aACA,eACA,aACA,WACA,YAIFC,wBAAyB,CACvB,0BACA,0BACA,cACA,cACA,YACA,YACA,aAIFC,mBAAoB,CAClB,SACA,qBACA,yBACA,eACA,cAIFC,cAAe,CACb,SACA,gBACA,gBACA,SACA,QACA,QACA,QACA,OAIFC,UAAW,CACT,YACA,WACA,UAIFC,MAAO,CACL,QACA,gBACA,cACA,QACA,YAWJ,SAASC,cAAcC,GACrB,OAAOA,EACJC,cACAC,UAAU,OACVC,QAAQ,mBAAoB,IAC5BA,QAAQ,eAAgB,IACxBC,MACL,CAUA,SAASC,yBAAyBC,EAAoBC,GACpD,MAAMC,EAAmBT,cAAcO,GACjCG,EAAoBV,cAAcQ,GAGxC,GAAIC,IAAqBC,EACvB,OAAO,EAIT,GAAID,EAAiBE,SAASD,GAC5B,MAAO,GAIT,GAAIA,EAAkBC,SAASF,GAC7B,MAAO,GAIT,MAAMG,EAAcH,EAAiBI,MAAM,OACrCC,EAAeJ,EAAkBG,MAAM,OACvCE,EAAcH,EAAYI,UAAeF,EAAaH,SAASM,IAErE,GAAIF,EAAYG,OAAS,EAAG,CAE1B,MAAMC,GAAaP,EAAYM,OAASJ,EAAaI,QAAU,EAC/D,OAAQH,EAAYG,OAASC,EAAa,EAC5C,CAEA,OAAO,CACT,CAUO,SAASC,eACdb,EACAc,EAAoB,IAEpB,IAAIC,EAAkC,KAClCC,EAAY,EAGhB,IAAA,MAAYC,EAAOC,KAAaC,OAAOC,QAAQ7C,GAAgD,CAE7F,MAAM8C,EAAWC,KAAKC,OACjBL,EAASM,OAAezB,yBAAyBC,EAAYC,KAI9DoB,EAAWL,IACbA,EAAYK,EACZN,EAAYE,EAEhB,CAGA,OAAOD,GAAaF,EAAYC,EAAY,IAC9C,CAQO,SAASU,eAAeC,GAC7B,MAAMC,EAA4B,GAC5BC,MAAiBC,IAGvB,IAAA,MAAW7B,KAAc0B,EAAiB,CACxC,MAAMI,EAAiBjB,eAAeb,EAAY,IAE9C8B,IAAmBF,EAAWG,IAAID,KACpCH,EAASK,KAAK,CACZC,aAAcjC,EACdkC,YAAaJ,IAEfF,EAAWO,IAAIL,GAEnB,CAGA,IAAA,MAAW9B,KAAc0B,EAAiB,CAExC,GAAIC,EAASS,KAAKC,GAAKA,EAAEJ,eAAiBjC,GACxC,SAGF,MAAM8B,EAAiBjB,eAAeb,EAAY,IAE9C8B,IAAmBF,EAAWG,IAAID,IACpCH,EAASK,KAAK,CACZC,aAAcjC,EACdkC,YAAaJ,IAEfF,EAAWO,IAAIL,IAGfH,EAASK,KAAK,CACZC,aAAcjC,EACdkC,YAAa,IAGnB,CAEA,OAAOP,CACT,CAQO,SAASW,wBAAwBX,GACtC,MAAMY,EAAeZ,EAClBH,IAAIa,GAAKA,EAAEH,aACXzB,OAAO+B,GAAW,KAANA,GAETC,EAAYF,EAAanC,SAAS,mBAClCsC,EAAWH,EAAanC,SAAS,SACjCuC,EAAcJ,EAAanC,SAAS,YAE1C,OAAOqC,IAAcC,GAAYC,EACnC,CAQO,SAASC,yBAAyBjB,GACvC,MAAMY,EAAe,IAAIV,IACvBF,EACGH,IAAIa,GAAKA,EAAEH,aACXzB,OAAO+B,GAAW,KAANA,IAGXK,EAA2B,GAUjC,OARKN,EAAaR,IAAI,oBACpBc,EAAQb,KAAK,mBAGVO,EAAaR,IAAI,UAAaQ,EAAaR,IAAI,aAClDc,EAAQb,KAAK,SAGRa,CACT,CAQO,SAASC,wBAAwBnB,GACtC,MAAMY,EAAe,IAAIV,IACvBF,EACGH,IAAIa,GAAKA,EAAEH,aACXzB,OAAO+B,GAAW,KAANA,IAGXK,EAA2B,GAG3BE,EAAiC,CACrC,kBACA,QACA,WACA,uBAGF,IAAA,MAAW9B,KAAS8B,EACbR,EAAaR,IAAId,IACpB4B,EAAQb,KAAKf,GAIjB,OAAO4B,CACT"}