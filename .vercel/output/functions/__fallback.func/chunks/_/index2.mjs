var e={};Object.defineProperty(e,"__esModule",{value:!0});var t=e.parse=function(e,t){const i=new s,r=e.length;if(r<2)return i;const n=t?.decode||decode;let o=0;do{const t=e.indexOf("=",o);if(-1===t)break;const a=e.indexOf(";",o),s=-1===a?r:a;if(t>s){o=e.lastIndexOf(";",t-1)+1;continue}const d=startIndex(e,o,t),c=endIndex(e,t,d),u=e.slice(d,c);if(void 0===i[u]){let r=startIndex(e,t+1,s),o=endIndex(e,s,r);const a=n(e.slice(r,o));i[u]=a}o=s+1}while(o<r);return i};e.serialize=function(e,t,s){const d=s?.encode||encodeURIComponent;if(!i.test(e))throw new TypeError(`argument name is invalid: ${e}`);const c=d(t);if(!r.test(c))throw new TypeError(`argument val is invalid: ${t}`);let u=e+"="+c;if(!s)return u;if(void 0!==s.maxAge){if(!Number.isInteger(s.maxAge))throw new TypeError(`option maxAge is invalid: ${s.maxAge}`);u+="; Max-Age="+s.maxAge}if(s.domain){if(!n.test(s.domain))throw new TypeError(`option domain is invalid: ${s.domain}`);u+="; Domain="+s.domain}if(s.path){if(!o.test(s.path))throw new TypeError(`option path is invalid: ${s.path}`);u+="; Path="+s.path}if(s.expires){if(!function(e){return"[object Date]"===a.call(e)}(s.expires)||!Number.isFinite(s.expires.valueOf()))throw new TypeError(`option expires is invalid: ${s.expires}`);u+="; Expires="+s.expires.toUTCString()}s.httpOnly&&(u+="; HttpOnly");s.secure&&(u+="; Secure");s.partitioned&&(u+="; Partitioned");if(s.priority){switch("string"==typeof s.priority?s.priority.toLowerCase():void 0){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${s.priority}`)}}if(s.sameSite){switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${s.sameSite}`)}}return u};const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function startIndex(e,t,i){do{const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}while(++t<i);return i}function endIndex(e,t,i){for(;t>i;){const i=e.charCodeAt(--t);if(32!==i&&9!==i)return t+1}return i}function decode(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}export{e as d,t as p};
//# sourceMappingURL=index2.mjs.map
