{"version":3,"file":"crear-terapeuta.post.mjs","sources":["../../../../../../../../node_modules/@nuxtjs/supabase/dist/runtime/server/services/serverSupabaseServiceRole.js","../../../../../../../../server/api/admin/crear-terapeuta.post.ts"],"sourcesContent":null,"names":["crearTerapeuta_post","defineEventHandler","async","event","console","log","getMethod","error","createError","statusCode","statusMessage","body","readBody","bodyError","nombreCompleto","email","password","telefono","trim","length","includes","process","env","SUPABASE_SERVICE_ROLE_KEY","SUPABASE_URL","supabaseAdmin","supabaseClient","config","useRuntimeConfig","secretKey","supabase","serviceKey","url","public","serverKey","Error","context","_supabaseServiceRole","createClient","auth","detectSessionInUrl","persistSession","autoRefreshToken","global","fetch","fetchWithRetry","serverSupabaseServiceRole","adminError","serverSupabaseClient","clientError","data","userData","userError","getUser","user","id","profile","profileError","from","select","eq","single","rol","authData","authError","admin","createUser","toLowerCase","email_confirm","user_metadata","nombre","String","_a","message","_b","_c","profileData","retryCount","maxRetries","retryDelay","Promise","resolve","setTimeout","profileResult","profileCheckError","code","retryError","terapeutaData","terapeutaExistente","checkError","nuevaTerapeuta","terapeutaError","insert","nombre_completo","activo","metadata","auth_user_id","created_by_admin","created_at","Date","toISOString","responseData","success","authUserId","terapeutaId","details"],"mappings":"","x_google_ignoreList":[0]}