{"version":3,"file":"validate-mapping.post.mjs","sources":["../../../../../../../../../server/api/patients/import/validate-mapping.post.ts"],"sourcesContent":null,"names":["validateMapping_post","defineEventHandler","async","event","body","readBody","configId","mappings","createError","statusCode","statusMessage","runtimeConfig","useRuntimeConfig","supabaseUrl","process","env","NUXT_PUBLIC_SUPABASE_URL","SUPABASE_URL","supabaseKey","NUXT_PUBLIC_SUPABASE_ANON_KEY","SUPABASE_KEY","supabaseClient","createServerClient","cookies","get","name","getCookie","set","value","options","setCookie","remove","deleteCookie","data","user","error","userError","auth","getUser","existingConfig","configError","from","select","eq","id","single","mappedFields","Set","map","m","targetField","filter","f","errors","warnings","hasNombre","has","hasEmail","hasTelefono","push","missingRequiredFields","getMissingRequiredFields","missingProfileFields","getMissingProfileFields","validation","isValid","length","requiredFieldsMapped","hasRequiredFieldsMapped","updateError","update","updated_at","Date","toISOString","console","success","message"],"mappings":"2bAuBA,MAAAA,EAAAC,EAAAC,MAAAC,IACA,IAEA,MAAAC,QAAAC,EAAAF,IACAG,SAAAA,EAAAC,SAAAA,GAAAH,EAKA,IAAAE,IAAAC,EACA,MAAAC,EAAA,CACAC,WAAA,IACAC,cAAA,0DAKA,MAAAC,EAAAC,IACAC,EAAAF,EAAAE,aAAAC,QAAAC,IAAAC,0BAAAF,QAAAC,IAAAE,aACAC,EAAAP,EAAAO,aAAAJ,QAAAC,IAAAI,+BAAAL,QAAAC,IAAAK,aAEA,IAAAP,IAAAK,EACA,MAAAV,EAAA,CACAC,WAAA,IACAC,cAAA,gEAIA,MAAAW,QAAAC,EAAAA,mBACAT,EACAK,EACA,CACAK,QAAA,CACAC,IAAAC,GAAAC,EAAAvB,EAAAsB,GACAE,IAAA,CAAAF,EAAAG,EAAAC,IAAAC,EAAA3B,EAAAsB,EAAAG,EAAAC,GACAE,OAAA,CAAAN,EAAAI,IAAAG,EAAA7B,EAAAsB,EAAAI,OAMAI,MAAAC,KAAAA,GAAAC,MAAAC,SAAAf,EAAAgB,KAAAC,UAEA,GAAAF,IAAAF,EACA,MAAA1B,EAAA,CACAC,WAAA,IACAC,cAAA,mBAKA,MAAAuB,KAAAM,EAAAJ,MAAAK,SAAAnB,EACAoB,KAAA,kBACAC,OAAA,KACAC,GAAA,KAAArC,GACAqC,GAAA,UAAAT,EAAAU,IACAC,SAEA,GAAAL,IAAAD,EACA,MAAA/B,EAAA,CACAC,WAAA,IACAC,cAAA,0DAKA,MAAAoC,EAAA,IAAAC,IACAxC,EACAyC,IAAAC,GAAAA,EAAAC,aACAC,OAAAC,GAAA,KAAAA,IAIAC,EAAA,GACAC,EAAA,GAEAC,EAAAT,EAAAU,IAAA,mBACAC,EAAAX,EAAAU,IAAA,SACAE,EAAAZ,EAAAU,IAAA,YAEAD,GACAF,EAAAM,KAAA,gEAGAF,GAAAC,GACAL,EAAAM,KAAA,4EAIAF,GACAH,EAAAK,KACA,mHAIAD,GACAJ,EAAAK,KACA,6FAIAb,EAAAU,IAAA,wBACAF,EAAAK,KACA,gGAKAb,EAAAU,IAAA,2BACAF,EAAAK,KACA,kGAKA,MAAAC,EAAAC,EAAAtD,GACAuD,EAAAC,EAAAxD,GAGAyD,EAAA,CACAC,QAAA,IAAAZ,EAAAa,OACAb,SACAC,WACAa,qBAAAC,EAAA7D,GACAqD,wBACAE,yBAIA3B,MAAAkC,SAAAhD,EACAoB,KAAA,kBACA6B,OAAA,CACA/D,WACAgE,YAAA,IAAAC,MAAAC,gBAEA9B,GAAA,KAAArC,GAQA,OANA+D,GACAK,QAAAvC,MAAA,qCAAAkC,GAKA,CACAM,SAAA,EACAX,aAEA,OAAA7B,GAEA,MADAuC,QAAAvC,MAAA,6BAAAA,GACA3B,EAAA,CACAC,WAAA0B,EAAA1B,YAAA,IACAC,cAAAyB,EAAAzB,eAAAyB,EAAAyC,SAAA,0BAEA"}