{"version":3,"file":"create.post.mjs","sources":["../../../../../../../../server/api/appointments/create.post.ts"],"sourcesContent":null,"names":["create_post","defineEventHandler","async","event","startTime","Date","now","config","useRuntimeConfig","supabaseUrl","public","supabaseKey","createError","statusCode","statusMessage","supabaseClient","createServerClient","cookies","get","name","getCookie","set","value","options","setCookie","remove","deleteCookie","data","user","error","userError","auth","getUser","profile","profileError","from","select","eq","id","single","isTerapeuta","rol","isAdmin","isCoordinadora","body","readBody","paciente_id","fecha_cita","hora_inicio","hora_fin","modalidad","estado","ubicacion","enlace_videollamada","observaciones","bono_id","descontar_de_bono","terapeuta_id","existingAppointments","queryError","neq","console","validation","validateAppointment","valid","warn","formatValidationError","errorCode","details","citaData","length","sesion_descontada","recordatorio_enviado","newAppointment","insertError","insert","message","includes","code","duration","info","citaId","fecha","hora","terapeuta","success"],"mappings":"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"}