import{v as e,s as t}from"./server.mjs";import{_ as a}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"entities/lib/decode.js";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"estree-walker";import"source-map-js";import"node:stream";import"devalue";import"@supabase/ssr";import"@vercel/analytics/nuxt";const s=e.defineComponent({__name:"mensajes",__ssrInlineRender:!0,setup(a){const s=e.ref(!0),r=e.ref([]),o=e.ref(""),n=e.ref(!1),d=e.ref(!1);e.ref(null),e.ref(null);const i=e.ref(""),esMensajeMio=e=>e.autor_id===i.value;return(a,i,l,c)=>{i(`<div${t.ssrRenderAttrs(e.mergeProps({class:"flex flex-col h-[calc(100vh-8rem)] max-w-4xl mx-auto px-4 py-8"},c))} data-v-4f363c8b><header class="mb-6 flex-shrink-0" data-v-4f363c8b><h1 class="text-2xl sm:text-3xl font-[&#39;Lora&#39;] font-medium text-[#5D4A44]" data-v-4f363c8b> Mensajes </h1><p class="text-sm text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;] mt-1" data-v-4f363c8b> Conversación con tu coordinadora </p></header>`),e.unref(s)?i('<div class="flex-1 flex flex-col items-center justify-center" data-v-4f363c8b><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[#D8AFA0]" data-v-4f363c8b></div><p class="mt-4 text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;]" data-v-4f363c8b>Cargando mensajes...</p></div>'):(i('<div class="flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-[#EAD5D3]/30 overflow-hidden" data-v-4f363c8b><div class="flex-1 overflow-y-auto p-6 space-y-4" data-v-4f363c8b>'),0===e.unref(r).length?i('<div class="flex flex-col items-center justify-center h-full text-center py-12" data-v-4f363c8b><div class="w-20 h-20 rounded-full bg-[#EAD5D3]/30 flex items-center justify-center mb-4" data-v-4f363c8b><svg class="w-10 h-10 text-[#D8AFA0]" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-4f363c8b></path></svg></div><h3 class="text-xl font-[&#39;Lora&#39;] font-medium text-[#5D4A44] mb-2" data-v-4f363c8b>No hay mensajes</h3><p class="text-sm text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;] max-w-md" data-v-4f363c8b> Inicia la conversación enviando un mensaje a tu coordinadora. </p></div>'):i("\x3c!----\x3e"),i("\x3c!--[--\x3e"),t.ssrRenderList(e.unref(r),e=>{i(`<div class="${t.ssrRenderClass(["flex",esMensajeMio(e)?"justify-end":"justify-start"])}" data-v-4f363c8b><div class="${t.ssrRenderClass(["max-w-[70%] rounded-2xl px-4 py-3 shadow-sm",esMensajeMio(e)?"bg-[#D8AFA0] text-white rounded-br-sm":"bg-[#F9F7F3] text-[#5D4A44] rounded-bl-sm"])}" data-v-4f363c8b>`),esMensajeMio(e)?i("\x3c!----\x3e"):i(`<p class="text-xs font-[&#39;Lato&#39;] font-medium mb-1 opacity-70" data-v-4f363c8b>${t.ssrInterpolate(e.autor?.nombre_completo||"Coordinadora")}</p>`),i(`<p class="text-sm font-[&#39;Lato&#39;] whitespace-pre-wrap break-words" data-v-4f363c8b>${t.ssrInterpolate(e.contenido)}</p><div class="${t.ssrRenderClass(["flex items-center gap-1 mt-1 text-xs","font-['Lato']",esMensajeMio(e)?"text-white/70":"text-[#5D4A44]/50"])}" data-v-4f363c8b><span data-v-4f363c8b>${t.ssrInterpolate((e=>{if(!e)return"";const t=new Date(e),a=new Date,s=new Date(a);return s.setDate(s.getDate()-1),t.toDateString()===a.toDateString()?t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toDateString()===s.toDateString()?"Ayer "+t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})(e.created_at))}</span>`),esMensajeMio(e)?(i("<span data-v-4f363c8b>"),e.leido?i('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-4f363c8b></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13l4 4L23 7" data-v-4f363c8b></path></svg>'):i('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-4f363c8b></path></svg>'),i("</span>")):i("\x3c!----\x3e"),i("</div></div></div>")}),i("\x3c!--]--\x3e"),e.unref(d)?i(`<div class="flex justify-start" data-v-4f363c8b><div class="bg-[#F9F7F3] rounded-2xl rounded-bl-sm px-4 py-3 shadow-sm" data-v-4f363c8b><div class="flex gap-1" data-v-4f363c8b><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"0ms"})}" data-v-4f363c8b></span><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"150ms"})}" data-v-4f363c8b></span><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"300ms"})}" data-v-4f363c8b></span></div></div></div>`):i("\x3c!----\x3e"),i(`</div><div class="flex-shrink-0 border-t border-[#EAD5D3]/30 p-4 bg-[#F9F7F3]/30" data-v-4f363c8b><form class="flex gap-2" data-v-4f363c8b><textarea placeholder="Escribe tu mensaje..." rows="1" class="flex-1 px-4 py-3 border border-[#EAD5D3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] focus:border-transparent resize-none font-[&#39;Lato&#39;] text-[#5D4A44] placeholder:text-[#5D4A44]/40 bg-white" data-v-4f363c8b>${t.ssrInterpolate(e.unref(o))}</textarea><button type="submit"${t.ssrIncludeBooleanAttr(!e.unref(o).trim()||e.unref(n))?" disabled":""} class="flex-shrink-0 w-12 h-12 bg-[#D8AFA0] hover:bg-[#C89B8A] disabled:bg-[#EAD5D3] disabled:cursor-not-allowed text-white rounded-xl transition-colors flex items-center justify-center" data-v-4f363c8b>`),e.unref(n)?i('<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white" data-v-4f363c8b></div>'):i('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-v-4f363c8b></path></svg>'),i("</button></form></div></div>")),i("</div>")}}}),r=s.setup;s.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/paciente/mensajes.vue"),r?r(t,a):void 0};const o=a(s,[["__scopeId","data-v-4f363c8b"]]);export{o as default};
//# sourceMappingURL=mensajes-CbJCEP3r.mjs.map
