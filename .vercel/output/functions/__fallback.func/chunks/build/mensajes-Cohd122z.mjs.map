{"version":3,"file":"mensajes-Cohd122z.mjs","sources":["../../../../../../node_modules/.cache/nuxt/.nuxt/dist/server/_nuxt/mensajes-Cohd122z.js"],"sourcesContent":null,"names":["_sfc_main$2","vueExports","defineComponent","__name","__ssrInlineRender","props","texto","fecha","remitente","type","Boolean","visto","default","setup","__props","_ctx","_push","_parent","_attrs","serverRenderer_cjs_prodExports","ssrRenderAttrs","mergeProps","class","ssrInterpolate","ssrRenderClass","date","Date","ahora","diferencia","getTime","minutos","Math","floor","horas","dias","toLocaleDateString","day","month","year","getFullYear","formatearFecha","_sfc_setup$2","ctx","ssrContext","useSSRContext","modules","Set","add","__nuxt_component_0","Object","assign","_export_sfc","useMensajes","supabase","useSupabaseClient","user","useSupabaseUser","mensajes2","ref","conversaciones","loading","error","canal","listarConversacionesAlternativo","async","value","data","fetchError","from","select","or","id","order","ascending","conversacionesMap","Map","forEach","m","esRemitente","remitente_id","otroUsuarioId","destinatario_id","otroUsuario","destinatario","has","set","otro_usuario_id","otro_usuario_nombre","nombre","otro_usuario_avatar","avatar_url","ultimo_mensaje","mensaje","ultimo_mensaje_fecha","created_at","mensajes_no_vistos","get","Array","values","e","message","console","mensajes","listarConversacion","participanteId","enviar","destinatarioId","contenido","sesionId","trim","insertError","insert","sesion_id","single","push","marcarVistos","updateError","update","eq","map","listarConversaciones","rpc","usuario_id","warn","contarNoVistos","count","countError","head","suscribirseAConversacion","channel","on","event","schema","table","filter","payload","new","subscribe","desuscribirse","removeChannel","_sfc_main$1","placeholder","emits","emit","__emit","enviando","puedeEnviar","computed","textoLimpio","length","ssrRenderAttr","ssrIncludeBooleanAttr","ssrRenderStyle","_sfc_setup$1","__nuxt_component_1","_sfc_main","getUserId","useSupabase","pacienteSeleccionado","mensajesContainer","esMensajeMio","handleMensajeEnviado","nextTick","scrollTop","scrollHeight","obtenerIniciales","split","n","slice","join","toUpperCase","watch","deep","_component_MensajeCard","_component_MensajeInput","unref","ssrRenderList","conv","ssrRenderComponent","key","onMensajeEnviado","_sfc_setup"],"mappings":"","x_google_ignoreList":[0]}