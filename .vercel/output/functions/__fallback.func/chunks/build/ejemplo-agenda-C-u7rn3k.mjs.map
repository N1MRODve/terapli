{"version":3,"file":"ejemplo-agenda-C-u7rn3k.mjs","sources":["../../../../../../node_modules/.cache/nuxt/.nuxt/dist/server/_nuxt/ejemplo-agenda-C-u7rn3k.js"],"sourcesContent":null,"names":["render$1","_ctx","_cache","vueExports","openBlock","createElementBlock","xmlns","fill","viewBox","stroke","createElementVNode","d","_sfc_main$8","defineComponent","__name","__ssrInlineRender","props","citas","setup","__props","estadisticas","computed","citasConBono","filter","c","bono","bonosUnicos","Map","forEach","set","id","bonos","Array","from","values","totalBonos","length","bonosActivos","b","estado","bonosConPocasSesiones","sesiones_restantes","bonosAgotados","totalSesionesDisponibles","reduce","sum","totalSesionesProgramadas","sesiones_totales","porcentajeUsado","Math","round","hayAlertas","value","_push","_parent","_attrs","serverRenderer_cjs_prodExports","ssrInterpolate","ssrRenderClass","ssrRenderStyle","width","_sfc_setup$8","ctx","ssrContext","useSSRContext","modules","Set","add","__nuxt_component_0","Object","assign","_export_sfc","_sfc_main$7","cita","compact","type","Boolean","emits","emit","__emit","formatearHora","hora","substring","claseEstadoCita","pendiente","confirmada","completada","realizada","cancelada","estadoBono","sesiones","color","icono","alerta","mensajeAlerta","clase","puedeCompletar","ssrRenderAttrs","mergeProps","class","paciente","nombre_completo","unref","toUpperCase","hora_inicio","hora_fin","modalidad","telefono","observaciones","_sfc_setup$7","__nuxt_component_1","useAgenda","supabase","useSupabaseClient","user","useSupabaseUser","ref","loading","error","realtimeChannel","filtros","citasDelDia","hoy","Date","toISOString","split","fecha_cita","citasPendientes","citasCompletadas","citasConBonoProximoAgotar","getCitasDelTerapeuta","async","opciones","Error","query","select","eq","fechaInicio","gte","fechaFin","lte","incluirCompletadas","in","order","ascending","data","fetchError","console","log","err","message","citasPendientesSync","detectarInconsistencias","error2","not","or","warn","resincronizarBono","citaId","rpc","p_cita_id","resultado","success","warning","mostrarNotificacion","mensaje_alerta","setTimeout","Promise","all","suscribirCitasRealtime","removeChannel","channel","on","event","schema","table","payload","eventType","subscribe","status","tipo","mensaje","emoji","info","mostrarAlerta","tipoNotificacion","tipo_alerta","watchEffect","citasFiltradas","toLowerCase","includes","busqueda","busq","area_terapeutica","tipo_sesion","fecha_desde","fecha_hasta","calcularCargaDiaria","fecha","terapeutaId","citasDelDia2","coincideFecha","coincideTerapeuta","terapeuta_id","esActiva","total","confirmadas","pendientes","completarCita","rpcError","index","findIndex","sesion_descontada","consumo_registrado","sesiones_despues","bono_completado","errorMsg","code","obtenerHistorialBono","bonoId","p_bono_id","verificarBonoCitas","resincronizarTodos","exitosos","fallidos","yaDescontados","resolve","mensajes","push","join","aplicarFiltros","nuevosFiltros","limpiarFiltros","reprogramarCita","nuevaFecha","nuevaHoraInicio","nuevaHoraFin","update","updated_at","single","e","actualizarNotasRapidas","notas","enlace","notas_rapidas","enlace_videollamada","obtenerDisponibilidad","disponibilidad","calcularHuecosLibres","diaSemana","getDay","disponibleDia","dia_semana","disponible","huecos","slot","inicio","fin","some","programarRecordatorios","find","fechaCita","ahora","getTime","recordatorio_24h_enviado","insert","usuario_id","paciente_id","titulo","metadata","cita_id","tipo_recordatorio","recordatorio_4h_enviado","obtenerResumenSemanal","resumen","i","setDate","getDate","fechaStr","carga","dia","toLocaleDateString","weekday","obtenerResumenMensual","year","month","ultimoDia","desuscribirCitasRealtime","render","_sfc_main$6","estadosActivos","default","estadosSeleccionados","estadosDisponibles","key","label","bgInactive","textInactive","borderInactive","bgActive","textActive","borderActive","ringColor","totalCitas","citasVisibles","size","has","hayFiltrosActivos","todosSeleccionados","estaActivo","ssrRenderComponent","render$2","ssrRenderList","getChipClasses","ssrRenderAttr","contarPorEstado","_sfc_setup$6","AgendaStatusFilters","formatearMesAnio","obtenerTituloAgenda","vista","day","formatearFecha","date","inicioAnio","getFullYear","diferencia","ceil","obtenerNumeroSemana","_sfc_main$5","mergeModels","rolActivo","mostrarRol","vistaModifiers","fechaActual","fechaActualModifiers","darkMode","darkModeModifiers","useModel","vistas","shortcut","v","_sfc_setup$5","AgendaHeader","_sfc_main$4","lastUpdateTime","fechaFormateada","fechaCapitalizada","charAt","slice","ssrIncludeBooleanAttr","_sfc_setup$4","AgendaViewControls","_sfc_main$3","modoCoordinadora","numeroSemana","diasTranscurridos","floor","rangoSemana","diff","formatoCorto","mes","getMonth","fechaDia","tituloTemporal","f","textoNavegacion","anterior","siguiente","active","render$3","render$4","render$5","_sfc_setup$3","AgendaUnifiedHeader","_sfc_main$2","terapeutas","terapeutaSeleccionado","busquedaLocal","watch","val","estados","bgLight","totalFiltradas","render$6","render$7","render$8","t","nombre","render$9","backgroundColor","_sfc_setup$2","AgendaFilterBar","_sfc_main$1","mostrarFiltroTerapeuta","refreshAppointments","useAgendaEnhanced","toast","alert","filtroActivo","fechaSeleccionada","mostrarModalHistorial","bonoSeleccionado","historialBono","verificacionBono","cargandoModal","terapeutasDisponibles","estadosFiltro","citasFiltradasPorTerapeuta","terapeuta","citasFiltradasPorEstado","citasFiltradasPorBusqueda","trim","termino","nombrePaciente","paciente_nombre","nombreTerapeuta","terapeuta_nombre","citasBase","celdaObjetivo","mostrarModalNuevaCita","fechaPreseleccionada","horaPreseleccionada","horaFinPreseleccionada","mostrarModalDetalles","citaIdSeleccionada","citaConfirmandoId","rangoSeleccion","horasDelDia","diasSemana","dias","nombreDia","numeroDia","base","formatearFechaCompleta","getBadgeEstado","esHoy","cambiarFecha","direccion","nueva","irHoy","citasPorHora","startsWith","getClasesCita","getEstadoLabel","citasPorDiaHora","handleCitaCreated","handleModalCerrar","handleCerrarDetallesCita","handleCitaActualizada","citaCancelandoId","citaReprogramandoId","citaMarcandoRealizadaId","mostrarModalReprogramar","citaParaReprogramar","reprogramarNuevaFecha","reprogramarNuevaHoraInicio","reprogramarNuevaHoraFin","horasFinDisponibles","indexInicio","indexOf","esCeldaEnRango","horaInicio","horaFin","indexHoraActual","indexHoraInicio","indexHoraFin","min","max","esCeldaObjetivo","handleCompletarCita","confirm","abrirHistorial","historial","verificacion","recargarCitas","handleFiltrarPorEstado","agendaLogger","debug","_component_TarjetaCita","_component_ModalNuevaCitaEnhanced","__nuxt_component_0$1","_component_ModalDetallesCita","ModalDetallesCita","onCambiarVista","onNavegarFecha","onIrHoy","onActualizar","onNuevaCita","$event","onNuevaTarea","onFiltrarEstados","subtitulo","onFiltrar","height","bono_sesiones_restantes","bono_sesiones_totales","bono_id","count","filtro","onCompletar","onVerHistorial","ssrRenderTeleport","_push2","sesiones_usadas","mov","tipo_movimiento","toLocaleString","motivo","sesiones_antes","sesiones_modificadas","abs","onCreated","onClose","onCitaActualizada","onActualizado","isArray","ssrLooseContain","ssrLooseEqual","_sfc_setup$1","__nuxt_component_2","_sfc_main","_component_EstadisticasBonos","_component_AgendaTerapeuta","_sfc_setup"],"mappings":"","x_google_ignoreList":[0]}