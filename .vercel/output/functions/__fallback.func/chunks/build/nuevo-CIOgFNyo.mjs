import{ref as e,computed as a,mergeProps as o,unref as r,useSSRContext as t}from"vue";import{ssrRenderAttrs as n,ssrRenderAttr as i,ssrInterpolate as s,ssrIncludeBooleanAttr as c,ssrLooseContain as l,ssrLooseEqual as d}from"vue/server-renderer";import{u as p}from"./useSupabaseClient-DykwVqLQ.mjs";import{a as m}from"./server.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"vue-router";import"@supabase/ssr";import"@vercel/analytics/nuxt";const u={__name:"nuevo",__ssrInlineRender:!0,setup(t){p(),m();const u=e({nombre_completo:"",email:"",telefono:"",area_de_acompanamiento:"",frecuencia:"",notas_iniciales:"",activo:!0}),f=e(!1),b=e(""),_=a(()=>""!==u.value.nombre_completo.trim()&&""!==u.value.email.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value.email));return(e,a,t,p)=>{a(`<div${n(o({class:"max-w-3xl mx-auto pb-20"},p))}><button class="mb-6 flex items-center gap-2 text-cafe hover:text-terracota transition-colors"><span>←</span><span>Volver a lista de pacientes</span></button><div class="mb-8"><h1 class="text-3xl font-serif font-bold text-cafe mb-2"> Nuevo Paciente </h1><p class="text-cafe/60"> Completa la información del nuevo paciente </p></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6"><form class="space-y-6"><div><label class="block text-sm font-medium text-cafe mb-2"> Nombre Completo <span class="text-red-500">*</span></label><input${i("value",r(u).nombre_completo)} type="text" required placeholder="Ej: María García López" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"></div><div><label class="block text-sm font-medium text-cafe mb-2"> Email <span class="text-red-500">*</span></label><input${i("value",r(u).email)} type="email" required placeholder="ejemplo@correo.com" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"></div><div><label class="block text-sm font-medium text-cafe mb-2"> Teléfono </label><input${i("value",r(u).telefono)} type="tel" placeholder="+34 600 000 000" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><p class="text-xs text-gray-500 mt-1"> Incluye el código de país para WhatsApp </p></div><div><label class="block text-sm font-medium text-cafe mb-2"> Área de Acompañamiento </label><select class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><option value=""${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,""):d(r(u).area_de_acompanamiento,""))?" selected":""}>Selecciona un área</option><option value="Ansiedad"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Ansiedad"):d(r(u).area_de_acompanamiento,"Ansiedad"))?" selected":""}>Ansiedad</option><option value="Depresión"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Depresión"):d(r(u).area_de_acompanamiento,"Depresión"))?" selected":""}>Depresión</option><option value="Duelo"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Duelo"):d(r(u).area_de_acompanamiento,"Duelo"))?" selected":""}>Duelo</option><option value="Autoestima"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Autoestima"):d(r(u).area_de_acompanamiento,"Autoestima"))?" selected":""}>Autoestima</option><option value="Relaciones"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Relaciones"):d(r(u).area_de_acompanamiento,"Relaciones"))?" selected":""}>Relaciones</option><option value="Familia"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Familia"):d(r(u).area_de_acompanamiento,"Familia"))?" selected":""}>Familia</option><option value="Trauma"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Trauma"):d(r(u).area_de_acompanamiento,"Trauma"))?" selected":""}>Trauma</option><option value="Estrés"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Estrés"):d(r(u).area_de_acompanamiento,"Estrés"))?" selected":""}>Estrés</option><option value="Desarrollo Personal"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Desarrollo Personal"):d(r(u).area_de_acompanamiento,"Desarrollo Personal"))?" selected":""}>Desarrollo Personal</option><option value="Otro"${c(Array.isArray(r(u).area_de_acompanamiento)?l(r(u).area_de_acompanamiento,"Otro"):d(r(u).area_de_acompanamiento,"Otro"))?" selected":""}>Otro</option></select></div><div><label class="block text-sm font-medium text-cafe mb-2"> Frecuencia de Sesiones </label><select class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><option value=""${c(Array.isArray(r(u).frecuencia)?l(r(u).frecuencia,""):d(r(u).frecuencia,""))?" selected":""}>Selecciona una frecuencia</option><option value="semanal"${c(Array.isArray(r(u).frecuencia)?l(r(u).frecuencia,"semanal"):d(r(u).frecuencia,"semanal"))?" selected":""}>Semanal</option><option value="quincenal"${c(Array.isArray(r(u).frecuencia)?l(r(u).frecuencia,"quincenal"):d(r(u).frecuencia,"quincenal"))?" selected":""}>Quincenal</option><option value="mensual"${c(Array.isArray(r(u).frecuencia)?l(r(u).frecuencia,"mensual"):d(r(u).frecuencia,"mensual"))?" selected":""}>Mensual</option><option value="ocasional"${c(Array.isArray(r(u).frecuencia)?l(r(u).frecuencia,"ocasional"):d(r(u).frecuencia,"ocasional"))?" selected":""}>Ocasional</option></select></div><div><label class="block text-sm font-medium text-cafe mb-2"> Notas Iniciales </label><textarea rows="4" placeholder="Información relevante sobre el paciente..." class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent resize-none">${s(r(u).notas_iniciales)}</textarea></div><div class="flex items-center gap-3"><input${c(Array.isArray(r(u).activo)?l(r(u).activo,null):r(u).activo)?" checked":""} type="checkbox" id="activo" class="w-5 h-5 text-terracota border-gray-300 rounded focus:ring-2 focus:ring-terracota"><label for="activo" class="text-sm font-medium text-cafe cursor-pointer"> Paciente activo </label></div>`),r(b)?a(`<div class="p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"><span class="text-red-500 text-lg">⚠️</span><div class="flex-1"><p class="text-sm font-medium text-red-800">Error al guardar</p><p class="text-sm text-red-600 mt-1">${s(r(b))}</p></div></div>`):a("\x3c!----\x3e"),a(`<div class="flex gap-3 pt-4"><button type="button"${c(r(f))?" disabled":""} class="flex-1 px-6 py-3 border border-gray-300 text-cafe rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"> Cancelar </button><button type="submit"${c(r(f)||!r(_))?" disabled":""} class="flex-1 px-6 py-3 bg-terracota text-white rounded-lg hover:bg-terracota/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">`),r(f)?a('<span class="animate-spin">⏳</span>'):a("\x3c!----\x3e"),a(`<span>${s(r(f)?"Guardando...":"Guardar Paciente")}</span></button></div></form></div></div>`)}}},f=u.setup;u.setup=(e,a)=>{const o=t();return(o.modules||(o.modules=new Set)).add("pages/coordinadora/pacientes/nuevo.vue"),f?f(e,a):void 0};export{u as default};
//# sourceMappingURL=nuevo-CIOgFNyo.mjs.map
