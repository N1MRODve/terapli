import{_ as e}from"./nuxt-link-C_f1d2Rj.mjs";import{v as t,a,e as r,s as o}from"./server.mjs";import{M as s,u as n}from"./ModalDetallesCita-LTSdOklK.mjs";import{_ as i}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import{u as d}from"./useSupabaseClient-DykwVqLQ.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index2.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";import"./useSupabase-DfFg84CY.mjs";import"./PaymentMethodSelector-B6WAV7CR.mjs";import"./useToast-CW-71pJZ.mjs";import"./ModalNuevoBono-Mje0VtwW.mjs";import"./useBonos-B2-LOzOF.mjs";import"./XMarkIcon-DCLwyE-W.mjs";import"./CheckCircleIcon-CT9fzVFs.mjs";import"./PencilIcon-BKWXEWgS.mjs";import"./PhoneIcon-acGzPaDV.mjs";import"./CalendarDaysIcon-f8DhK37e.mjs";import"./ClockIcon-BxdFtPqx.mjs";import"./TicketIcon-zZdrc71S.mjs";import"./ChevronDownIcon-CvdhRGll.mjs";import"./ExclamationTriangleIcon-DQdM2y0F.mjs";import"./PlusIcon-CHLzv-V9.mjs";const l=t.defineComponent({__name:"SessionCard",__ssrInlineRender:!0,props:{id:{},fecha:{},hora:{},pacienteNombre:{},modalidad:{},estado:{},isNext:{type:Boolean}},emits:["click","confirmar"],setup(e,{emit:a}){const r=e,s=t.computed(()=>{if(!r.fecha)return"";const e=new Date;e.setHours(0,0,0,0);const t=new Date(e);t.setDate(t.getDate()+1);const a=new Date(r.fecha+"T00:00:00");if(a.setHours(0,0,0,0),a.getTime()===e.getTime())return"Hoy";if(a.getTime()===t.getTime())return"Ma√±ana";return`${["Dom","Lun","Mar","Mi√©","Jue","Vie","S√°b"][a.getDay()]} ${a.getDate()} ${["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"][a.getMonth()]}`}),n=t.computed(()=>{if(!r.fecha)return!1;const e=(new Date).toISOString().split("T")[0];return r.fecha===e}),i={presencial:{label:"Presencial",type:"location"},online:{label:"Online",type:"video"},virtual:{label:"Online",type:"video"},telefonica:{label:"Telefono",type:"phone"}},d=t.computed(()=>i[r.modalidad]||i.presencial);return(a,i,l,c)=>{i(`<div${o.ssrRenderAttrs(t.mergeProps({class:["relative flex items-center gap-4 p-4 bg-white rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md group",e.isNext?"border-gray-200 shadow-sm":"border-gray-200"]},c))}><div class="flex-shrink-0 w-20 text-center"><p class="${o.ssrRenderClass([t.unref(n)?"text-violet-600":"text-gray-500","text-xs font-semibold uppercase tracking-wide mb-0.5"])}">${o.ssrInterpolate(t.unref(s))}</p><p class="text-xl font-bold text-gray-900">${o.ssrInterpolate(e.hora)}</p></div><div class="w-px h-12 bg-gray-200"></div><div class="flex-1 min-w-0"><p class="text-base font-semibold text-gray-900 truncate">${o.ssrInterpolate(e.pacienteNombre)}</p><div class="flex items-center gap-3 mt-1.5 text-sm text-gray-500"><span class="inline-flex items-center gap-1.5">`),"location"===t.unref(d).type?i('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'):"video"===t.unref(d).type?i('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'):"phone"===t.unref(d).type?i('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>'):i("\x3c!----\x3e"),i(` ${o.ssrInterpolate(t.unref(d).label)}</span><span class="text-gray-300">|</span><span class="${o.ssrRenderClass("confirmada"===r.estado?"text-emerald-600":"text-gray-500")}">`),"confirmada"===r.estado?i('<svg class="w-4 h-4 inline mr-0.5 -mt-0.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'):i("\x3c!----\x3e"),i(` ${o.ssrInterpolate("pendiente"===r.estado?"Pendiente":"confirmada"===r.estado?"Confirmada":"realizada"===r.estado?"Realizada":"Cancelada")}</span></div></div><div class="flex items-center gap-2">`),"pendiente"===r.estado?i('<button class="px-3 py-1.5 text-xs font-semibold border border-violet-600 text-violet-600 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-violet-50 transition-all" title="Confirmar cita"> Confirmar </button>'):i("\x3c!----\x3e"),i('<button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors" title="Ver detalles"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div></div>')}}}),c=l.setup;l.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("components/dashboard/SessionCard.vue"),c?c(e,a):void 0};const p=Object.assign(l,{__name:"DashboardSessionCard"}),v=t.defineComponent({__name:"PatientCard",__ssrInlineRender:!0,props:{id:{},nombre:{},ultimaSesion:{},proximaCita:{},sesionesUsadas:{},sesionesTotales:{},estadoBono:{}},emits:["click"],setup(e,{emit:a}){const r=e,s=t.computed(()=>{if(!r.nombre)return"?";const e=r.nombre.split(" ").filter(Boolean);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():e[0]?.substring(0,2).toUpperCase()||"?"}),n=t.computed(()=>r.sesionesTotales&&0!==r.sesionesTotales?Math.round((r.sesionesUsadas||0)/r.sesionesTotales*100):0),i=t.computed(()=>{if(!r.ultimaSesion)return"Sin sesiones";const e=new Date(r.ultimaSesion),t=new Date,a=Math.floor((t.getTime()-e.getTime())/864e5);return 0===a?"Hoy":1===a?"Ayer":a<7?`Hace ${a} dias`:e.toLocaleDateString("es-ES",{day:"numeric",month:"short"})});return(a,r,d,l)=>{r(`<div${o.ssrRenderAttrs(t.mergeProps({class:"flex items-center gap-4 p-4 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200 hover:shadow-md hover:bg-gray-50 group"},l))}><div class="flex-shrink-0 w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-semibold text-sm">${o.ssrInterpolate(t.unref(s))}</div><div class="flex-1 min-w-0"><p class="font-semibold text-gray-900 truncate">${o.ssrInterpolate(e.nombre)}</p><div class="flex items-center gap-3 mt-1 text-sm text-gray-500"><span class="flex items-center gap-1"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> ${o.ssrInterpolate(t.unref(i))}</span>`),e.estadoBono?r(`<span class="text-gray-400">${o.ssrInterpolate("activo"===e.estadoBono?"Bono activo":"por_agotar"===e.estadoBono?"Por agotar":"sin_bono"===e.estadoBono?"Sin bono":"Agotado")}</span>`):r("\x3c!----\x3e"),r("</div>"),e.sesionesTotales&&e.sesionesTotales>0?r(`<div class="mt-2"><div class="flex items-center justify-between text-xs text-gray-500 mb-1"><span>Sesiones</span><span class="font-medium text-gray-700">${o.ssrInterpolate(e.sesionesUsadas||0)}/${o.ssrInterpolate(e.sesionesTotales)}</span></div><div class="h-1.5 bg-gray-100 rounded-full overflow-hidden"><div class="h-full rounded-full transition-all duration-500 bg-gray-400" style="${o.ssrRenderStyle({width:`${Math.min(t.unref(n),100)}%`})}"></div></div></div>`):r("\x3c!----\x3e"),r('</div><button class="flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors" title="Ver perfil"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>')}}}),u=v.setup;v.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("components/dashboard/PatientCard.vue"),u?u(e,a):void 0};const m=Object.assign(v,{__name:"DashboardPatientCard"}),f=t.defineComponent({__name:"PaymentsTodayCard",__ssrInlineRender:!0,emits:["abrirCita"],setup(e,{expose:a,emit:r}){const{getPaymentsOfDay:s,loading:i,resumenDia:d}=n(),l=t.ref(!1),c=t.computed(()=>{const e=d.value.pagos;return l.value?e:e.slice(0,3)}),p=t.computed(()=>d.value.pendientes.slice(0,2)),v=t.computed(()=>(new Date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),u=t.computed(()=>{const e=d.value.porMetodo;return Object.entries(e).filter(([e,t])=>t.cantidad>0).map(([e,t])=>({metodo:e,...t}))});return a({refrescar:async function(){await s()}}),(e,a,r,s)=>{a(`<div${o.ssrRenderAttrs(t.mergeProps({class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},s))}><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"><svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h2 class="text-lg font-semibold text-gray-900">Pagos Hoy</h2><p class="text-xs text-gray-500 capitalize">${o.ssrInterpolate(t.unref(v))}</p></div></div><button${o.ssrIncludeBooleanAttr(t.unref(i))?" disabled":""} class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50" title="Actualizar"><svg class="${o.ssrRenderClass(["w-5 h-5",t.unref(i)&&"animate-spin"])}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div><div class="p-4 sm:p-6">`),t.unref(i)?a('<div class="flex flex-col items-center justify-center py-8"><div class="w-8 h-8 border-2 border-gray-200 border-t-emerald-600 rounded-full animate-spin mb-2"></div><p class="text-sm text-gray-500">Cargando pagos...</p></div>'):(a(`\x3c!--[--\x3e<div class="text-center mb-6"><p class="text-4xl font-bold text-emerald-600">${o.ssrInterpolate(t.unref(d).total.toFixed(2))}‚Ç¨ </p><p class="text-sm text-gray-500 mt-1">${o.ssrInterpolate(t.unref(d).cantidadPagos)} ${o.ssrInterpolate(1===t.unref(d).cantidadPagos?"pago":"pagos")} registrados hoy </p></div>`),t.unref(u).length>0?(a('<div class="mb-6"><h3 class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-3"> Desglose por m√©todo </h3><div class="grid grid-cols-2 sm:grid-cols-3 gap-2">\x3c!--[--\x3e'),o.ssrRenderList(t.unref(u),e=>{a(`<div class="flex items-center gap-2 px-3 py-2 bg-gray-50 rounded-lg"><span class="text-lg">${o.ssrInterpolate("efectivo"===e.metodo?"üíµ":"transferencia"===e.metodo?"üè¶":"bizum"===e.metodo?"üì±":"tarjeta"===e.metodo?"üí≥":"‚ö°")}</span><div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 truncate capitalize">${o.ssrInterpolate(e.metodo)}</p><p class="text-xs text-gray-500">${o.ssrInterpolate(e.total.toFixed(2))}‚Ç¨ ¬∑ ${o.ssrInterpolate(e.cantidad)}</p></div></div>`)}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),t.unref(d).pagos.length>0?(a('<div class="mb-4"><h3 class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-3"> Pagos registrados </h3><div class="space-y-2">\x3c!--[--\x3e'),o.ssrRenderList(t.unref(c),e=>{a(`<button class="w-full flex items-center justify-between px-3 py-2.5 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors text-left"><div class="flex items-center gap-3"><span class="text-emerald-600">‚úì</span><div><p class="text-sm font-medium text-gray-900">${o.ssrInterpolate(e.paciente_nombre)}</p><p class="text-xs text-gray-500">${o.ssrInterpolate(e.hora_inicio)}</p></div></div><div class="text-right"><p class="text-sm font-semibold text-emerald-700">${o.ssrInterpolate((e.precio_sesion||0).toFixed(2))}‚Ç¨</p><p class="text-xs text-gray-500 capitalize">${o.ssrInterpolate(e.metodo_pago)}</p></div></button>`)}),a("\x3c!--]--\x3e"),t.unref(d).pagos.length>3&&!t.unref(l)?a(`<button class="w-full py-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors"> Ver ${o.ssrInterpolate(t.unref(d).pagos.length-3)} m√°s </button>`):a("\x3c!----\x3e"),a("</div></div>")):a("\x3c!----\x3e"),t.unref(d).pendientes.length>0?(a('<div><h3 class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-3"> Pendientes de cobro </h3><div class="space-y-2">\x3c!--[--\x3e'),o.ssrRenderList(t.unref(p),e=>{a(`<button class="w-full flex items-center justify-between px-3 py-2.5 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors text-left"><div class="flex items-center gap-3"><span class="text-amber-600">‚è≥</span><div><p class="text-sm font-medium text-gray-900">${o.ssrInterpolate(e.paciente_nombre)}</p><p class="text-xs text-gray-500">${o.ssrInterpolate(e.hora_inicio)}</p></div></div><div class="text-right"><p class="text-sm font-semibold text-amber-700">${o.ssrInterpolate((e.precio_sesion||50).toFixed(2))}‚Ç¨</p><p class="text-xs text-amber-600">Cobrar</p></div></button>`)}),a("\x3c!--]--\x3e"),t.unref(d).pendientes.length>2?a(`<p class="text-xs text-gray-500 text-center"> +${o.ssrInterpolate(t.unref(d).pendientes.length-2)} pendientes m√°s </p>`):a("\x3c!----\x3e"),a("</div></div>")):a("\x3c!----\x3e"),0===t.unref(d).pagos.length&&0===t.unref(d).pendientes.length?a('<div class="text-center py-6"><div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-3"><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><p class="text-gray-600 font-medium">Sin pagos hoy</p><p class="text-sm text-gray-400 mt-1">Los cobros aparecer√°n aqu√≠</p></div>'):a("\x3c!----\x3e"),a("\x3c!--]--\x3e")),a("</div></div>")}}}),g=f.setup;f.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("components/dashboard/PaymentsTodayCard.vue"),g?g(e,a):void 0};const h=Object.assign(f,{__name:"DashboardPaymentsTodayCard"}),x=t.defineComponent({__name:"ReminderCard",__ssrInlineRender:!0,props:{id:{},tipo:{},mensaje:{},paciente:{},fecha:{},hora:{},urgente:{type:Boolean},accion:{}},emits:["accion"],setup(e,{emit:a}){const r={confirmacion:"Confirmar",pago:"Ver pago",clinico:"Ver",bono:"Ver bono",general:"Ver"};return(a,s,n,i)=>{s(`<div${o.ssrRenderAttrs(t.mergeProps({class:["flex items-center gap-3 p-4 bg-white rounded-lg border border-gray-200 transition-all duration-200 hover:shadow-sm cursor-pointer group",e.urgente?"border-l-[3px] border-l-red-500":""]},i))} data-v-6fd1e938><div class="${o.ssrRenderClass([e.urgente?"bg-red-50":"bg-gray-100","relative flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center"])}" data-v-6fd1e938>`),e.urgente?s('<svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20" data-v-6fd1e938><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-6fd1e938></path></svg>'):"confirmacion"===e.tipo?s('<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-6fd1e938></path></svg>'):"pago"===e.tipo?s('<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-6fd1e938></path></svg>'):"clinico"===e.tipo?s('<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-6fd1e938></path></svg>'):"bono"===e.tipo?s('<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" data-v-6fd1e938></path></svg>'):s('<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" data-v-6fd1e938></path></svg>'),s('</div><div class="flex-1 min-w-0" data-v-6fd1e938>'),e.paciente&&(e.fecha||e.hora)?(s(`\x3c!--[--\x3e<div class="flex items-center gap-2" data-v-6fd1e938><p class="font-medium text-gray-900 truncate" data-v-6fd1e938>${o.ssrInterpolate(e.paciente)}</p>`),e.urgente?s('<span class="flex-shrink-0 text-[11px] font-semibold uppercase tracking-wider text-red-500" data-v-6fd1e938> URGENTE </span>'):s("\x3c!----\x3e"),s('</div><p class="text-sm flex items-center gap-2 mt-0.5 text-gray-500" data-v-6fd1e938>'),"confirmacion"===e.tipo?s("<span data-v-6fd1e938>Confirmar cita</span>"):"pago"===e.tipo?s("<span data-v-6fd1e938>Pago pendiente</span>"):"bono"===e.tipo?s("<span data-v-6fd1e938>Bono por agotar</span>"):s(`<span data-v-6fd1e938>${o.ssrInterpolate(e.mensaje)}</span>`),e.fecha||e.hora?s('<span class="text-gray-300" data-v-6fd1e938>|</span>'):s("\x3c!----\x3e"),e.fecha||e.hora?s(`<span class="font-medium text-gray-700" data-v-6fd1e938>${o.ssrInterpolate(e.fecha)} ${o.ssrInterpolate(e.hora)}</span>`):s("\x3c!----\x3e"),s("</p>\x3c!--]--\x3e")):s(`<p class="text-sm leading-relaxed text-gray-700" data-v-6fd1e938>${o.ssrInterpolate(e.mensaje)}</p>`),s("</div>"),e.accion?s(`<button class="${o.ssrRenderClass([e.urgente?"border border-red-500 text-red-500 hover:bg-red-50 opacity-100":"border border-gray-300 text-gray-600 hover:bg-gray-50 opacity-0 group-hover:opacity-100","flex-shrink-0 px-3 py-1.5 text-xs font-semibold rounded-lg transition-all"])}" data-v-6fd1e938>${o.ssrInterpolate(r[e.tipo]||"Ver")}</button>`):s("\x3c!----\x3e"),s('<svg class="w-4 h-4 flex-shrink-0 text-gray-400 opacity-50 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-6fd1e938><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-6fd1e938></path></svg></div>')}}}),y=x.setup;x.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("components/dashboard/ReminderCard.vue"),y?y(e,a):void 0};const b=Object.assign(i(x,[["__scopeId","data-v-6fd1e938"]]),{__name:"DashboardReminderCard"}),w=t.defineComponent({__name:"MetricCard",__ssrInlineRender:!0,props:{value:{},label:{},sublabel:{},iconType:{},highlight:{type:Boolean},to:{}},setup:e=>(a,r,s,n)=>{o.ssrRenderVNode(r,t.createVNode(t.resolveDynamicComponent(e.to?"NuxtLink":"div"),t.mergeProps({to:e.to,class:["relative p-6 bg-white rounded-lg border border-gray-200 transition-all duration-200",e.to?"hover:shadow-md hover:border-gray-300 cursor-pointer group":""]},n),{default:t.withCtx((a,r,s,n)=>{if(!r)return[t.createVNode("div",{class:["w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center mb-4 transition-transform",e.to?"group-hover:scale-105":""]},["users"===e.iconType?(t.openBlock(),t.createBlock("svg",{key:0,class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])):"calendar"===e.iconType?(t.openBlock(),t.createBlock("svg",{key:1,class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])):"check"===e.iconType?(t.openBlock(),t.createBlock("svg",{key:2,class:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])):"euro"===e.iconType?(t.openBlock(),t.createBlock("svg",{key:3,class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 10.5h4m-4 3h4m9-1.5a9 9 0 11-18 0 9 9 0 0118 0z"})])):t.createCommentVNode("",!0)],2),t.createVNode("p",{class:["text-3xl font-bold tracking-tight",e.highlight?"text-violet-600":"text-gray-900"]},t.toDisplayString(e.value),3),t.createVNode("p",{class:"text-sm font-medium mt-1 text-gray-500"},t.toDisplayString(e.label),1),e.sublabel?(t.openBlock(),t.createBlock("p",{key:0,class:"text-xs mt-0.5 text-gray-400"},t.toDisplayString(e.sublabel),1)):t.createCommentVNode("",!0),e.to?(t.openBlock(),t.createBlock("div",{key:1,class:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity"},[(t.openBlock(),t.createBlock("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))])):t.createCommentVNode("",!0)];r(`<div class="${o.ssrRenderClass([e.to?"group-hover:scale-105":"","w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center mb-4 transition-transform"])}"${n}>`),"users"===e.iconType?r(`<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"${n}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"${n}></path></svg>`):"calendar"===e.iconType?r(`<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"${n}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"${n}></path></svg>`):"check"===e.iconType?r(`<svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"${n}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"${n}></path></svg>`):"euro"===e.iconType?r(`<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"${n}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 10.5h4m-4 3h4m9-1.5a9 9 0 11-18 0 9 9 0 0118 0z"${n}></path></svg>`):r("\x3c!----\x3e"),r(`</div><p class="${o.ssrRenderClass([e.highlight?"text-violet-600":"text-gray-900","text-3xl font-bold tracking-tight"])}"${n}>${o.ssrInterpolate(e.value)}</p><p class="text-sm font-medium mt-1 text-gray-500"${n}>${o.ssrInterpolate(e.label)}</p>`),e.sublabel?r(`<p class="text-xs mt-0.5 text-gray-400"${n}>${o.ssrInterpolate(e.sublabel)}</p>`):r("\x3c!----\x3e"),e.to?r(`<div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity"${n}><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"${n}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"${n}></path></svg></div>`):r("\x3c!----\x3e")}),_:1}),s)}}),k=w.setup;w.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("components/dashboard/MetricCard.vue"),k?k(e,a):void 0};const C=Object.assign(w,{__name:"DashboardMetricCard"}),j=t.defineComponent({__name:"dashboard",__ssrInlineRender:!0,setup(n){const i=d(),l=a();r();const c=t.ref(null),v=t.ref(!0),u=t.ref(!0),f=t.ref([]),g=t.ref([]),x=t.ref(0),y=t.ref(0),w=t.ref(0),k=t.ref(!1),j=t.ref(null),_=t.ref(!1),M=t.ref(!1),$=t.ref(null),B=t.ref(0),S=t.ref(0),V=t.ref([]),I=t.ref(!0),D=t.computed(()=>(new Date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})),R=t.computed(()=>_.value?f.value:f.value.slice(0,5));function isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function getRelativeDateTime(e,t){const a=new Date,r=new Date(`${e}T${t}:00`),o=(r.getTime()-a.getTime())/36e5;if(isSameDay(r,a))return`Hoy ${t}`;if(function(e,t){const a=new Date(t);return a.setDate(a.getDate()+1),isSameDay(e,a)}(r,a))return`Ma√±ana ${t}`;if(o>0&&o<168){const e=r.toLocaleDateString("es-ES",{weekday:"long"});return`${e.charAt(0).toUpperCase()+e.slice(1)} ${t}`}return`${function(e){return e.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}(r)} ${t}`}const z=t.computed(()=>V.value.map(e=>{let t=e.fechaCita&&e.horaCita?getRelativeDateTime(e.fechaCita,e.horaCita):void 0,a="confirmacion"===e.tipo&&function(e,t){if(!e||!t)return!1;const a=new Date,r=(new Date(`${e}T${t}:00`).getTime()-a.getTime())/36e5;return r>0&&r<24}(e.fechaCita,e.horaCita),r="",o="";if(t){const e=t.split(" ");o=e.pop()||"",r=e.join(" ")}return{id:e.id,tipo:e.tipo,mensaje:e.mensaje,paciente:e.paciente,fecha:r,hora:o,urgente:a,accion:e.accion}})),T=t.computed(()=>[...z.value].sort((e,t)=>{if(e.urgente&&!t.urgente)return-1;if(!e.urgente&&t.urgente)return 1;const a=e.fecha||e.hora,r=t.fecha||t.hora;return a&&!r?-1:!a&&r?1:0})),H=t.computed(()=>M.value?T.value:T.value.slice(0,4)),navegarAPaciente=e=>{l.push(`/terapeuta/pacientes/${e}`)},abrirDetalles=e=>{j.value=e,k.value=!0},cerrarModalDetalles=()=>{k.value=!1,j.value=null,cargarSesiones()},confirmarCitaRapido=async e=>{try{const{error:t}=await i.from("citas").update({estado:"confirmada",updated_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;const a=f.value.findIndex(t=>t.id===e);-1!==a&&(f.value[a].estado="confirmada"),await generarRecordatorios()}catch(e){console.error("Error al confirmar cita:",e),alert("Error al confirmar la cita")}};async function cargarSesiones(){v.value=!0;try{const e=new Date;e.setHours(0,0,0,0);const t=new Date(e);t.setDate(t.getDate()+7);const{data:a,error:r}=await i.from("citas").select("\n        id,\n        paciente_id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        observaciones,\n        pacientes (\n          id,\n          nombre_completo,\n          email\n        )\n      ").in("estado",["pendiente","confirmada"]).gte("fecha_cita",e.toISOString().split("T")[0]).lte("fecha_cita",t.toISOString().split("T")[0]).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});if(r)throw r;f.value=(a||[]).map(e=>({id:e.id,fecha_cita:e.fecha_cita,hora_inicio:e.hora_inicio?e.hora_inicio.substring(0,5):"--:--",paciente_nombre:e.pacientes?.nombre_completo||e.pacientes?.email||"Paciente",modalidad:e.modalidad||"presencial",estado:e.estado||"pendiente",observaciones:e.observaciones}))}catch(e){console.error("Error al cargar sesiones:",e),f.value=[]}finally{v.value=!1}}async function generarRecordatorios(){I.value=!0;const e=[];try{const t=new Date,a=new Date(t);a.setHours(0,0,0,0);const r=a.toISOString().split("T")[0],o=new Date(a);o.setDate(a.getDate()+3);const s=o.toISOString().split("T")[0],{data:n}=await i.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        pacientes (\n          nombre_completo\n        )\n      ").eq("estado","pendiente").gte("fecha_cita",r).lte("fecha_cita",s).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});n?.forEach(a=>{const o=a.hora_inicio?.substring(0,5)||"00:00",s=a.fecha_cita;if(s===r){const[e,a]=o.split(":").map(Number),r=new Date(t);if(r.setHours(e,a,0,0),r<t)return}e.push({id:a.id,tipo:"confirmacion",mensaje:`Confirmar cita de ${a.pacientes?.nombre_completo||"paciente"}`,paciente:a.pacientes?.nombre_completo||"Paciente",fechaCita:s,horaCita:o,accion:"confirmar"})});const{data:d}=await i.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        pacientes (\n          nombre_completo\n        )\n      ").lt("fecha_cita",r).neq("estado","completada").neq("estado","cancelada").neq("estado","realizada").order("fecha_cita",{ascending:!1}).limit(3);d?.forEach(t=>{const a=new Date(t.fecha_cita).toLocaleDateString("es-ES",{day:"numeric",month:"short"});e.push({id:t.id,tipo:"clinico",mensaje:`Revisa la sesi√≥n pendiente de ${t.pacientes?.nombre_completo||"paciente"} del ${a}`,paciente:t.pacientes?.nombre_completo||"Paciente",accion:"ver"})});const{data:l}=await i.from("bonos").select("\n        id,\n        sesiones_restantes,\n        pacientes (\n          nombre_completo\n        )\n      ").eq("estado","activo").lte("sesiones_restantes",2).gt("sesiones_restantes",0).limit(3);l?.forEach(t=>{e.push({id:t.id,tipo:"bono",mensaje:`El bono est√° por agotarse (quedan ${t.sesiones_restantes} sesiones)`,paciente:t.pacientes?.nombre_completo||"Paciente",accion:"ver"})}),V.value=e.slice(0,8)}catch(e){console.error("Error al generar recordatorios:",e),V.value=[]}finally{I.value=!1}}const handleRecordatorioAccion=async e=>{"confirmacion"===e.tipo&&"confirmar"===e.accion&&e.id?(await confirmarCitaRapido(e.id),await generarRecordatorios()):"clinico"===e.tipo&&e.id&&abrirDetalles(e.id)};return(a,r,n,i)=>{const d=e,l=p,V=m,z=h,P=b,N=C,L=s;var A;r(`<div${o.ssrRenderAttrs(t.mergeProps({class:"dashboard-terapeuta min-h-screen bg-gray-50"},i))} data-v-9f0d3e46><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" data-v-9f0d3e46><header class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8" data-v-9f0d3e46><div data-v-9f0d3e46><h1 class="text-3xl font-bold text-gray-900 tracking-tight" data-v-9f0d3e46> Dashboard </h1><p class="text-gray-500 mt-1" data-v-9f0d3e46> Bienvenida de nuevo, <span class="font-medium text-gray-700" data-v-9f0d3e46>${o.ssrInterpolate(t.unref(c)?.nombre||"Karem")}</span></p></div><div class="flex items-center gap-3" data-v-9f0d3e46><button class="inline-flex items-center gap-2 px-5 py-2.5 bg-violet-600 text-white rounded-lg font-medium hover:bg-violet-700 transition-colors" data-v-9f0d3e46><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-9f0d3e46></path></svg> Nueva Cita </button><button class="inline-flex items-center gap-2 px-5 py-2.5 bg-white text-gray-600 rounded-lg font-medium border border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-colors" data-v-9f0d3e46><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" data-v-9f0d3e46></path></svg> Nuevo Paciente </button></div></header><div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8" data-v-9f0d3e46><section class="lg:col-span-2 bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-9f0d3e46><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-9f0d3e46><div class="flex items-center gap-3" data-v-9f0d3e46><div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center" data-v-9f0d3e46><svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-9f0d3e46></path></svg></div><div data-v-9f0d3e46><h2 class="text-lg font-semibold text-gray-900" data-v-9f0d3e46>Proximas Sesiones</h2><p class="text-sm text-gray-500" data-v-9f0d3e46>${o.ssrInterpolate(t.unref(D))}</p></div></div>`),r(o.ssrRenderComponent(d,{to:"/terapeuta/agenda",class:"inline-flex items-center gap-1 text-sm font-medium text-violet-600 hover:text-violet-700 transition-colors"},{default:t.withCtx((e,a,r,o)=>{if(!a)return[t.createTextVNode(" Ver agenda "),(t.openBlock(),t.createBlock("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))];a(` Ver agenda <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-9f0d3e46${o}></path></svg>`)}),_:1},n)),r('</div><div class="p-4" data-v-9f0d3e46>'),t.unref(v)?r('<div class="flex flex-col items-center justify-center py-12" data-v-9f0d3e46><div class="w-8 h-8 border-2 border-gray-200 border-t-gray-600 rounded-full animate-spin mb-3" data-v-9f0d3e46></div><p class="text-sm text-gray-500" data-v-9f0d3e46>Cargando sesiones...</p></div>'):0===t.unref(f).length?r('<div class="flex flex-col items-center justify-center py-12 text-center" data-v-9f0d3e46><div class="w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4" data-v-9f0d3e46><svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-9f0d3e46></path></svg></div><p class="text-gray-600 font-medium" data-v-9f0d3e46>No hay sesiones programadas</p><p class="text-sm text-gray-400 mt-1" data-v-9f0d3e46>Las pr√≥ximas citas aparecer√°n aqu√≠</p><button class="mt-4 px-4 py-2 text-sm font-medium text-violet-600 hover:text-violet-700 hover:bg-violet-50 rounded-lg transition-colors" data-v-9f0d3e46> + Agendar una cita </button></div>'):(r('<div class="space-y-3" data-v-9f0d3e46>\x3c!--[--\x3e'),o.ssrRenderList(t.unref(R),(e,t)=>{r(o.ssrRenderComponent(l,{key:e.id,id:e.id,fecha:e.fecha_cita,hora:e.hora_inicio,"paciente-nombre":e.paciente_nombre,modalidad:e.modalidad,estado:e.estado,"is-next":0===t,onClick:abrirDetalles,onConfirmar:confirmarCitaRapido},null,n))}),r("\x3c!--]--\x3e"),t.unref(f).length>5&&!t.unref(_)?r(`<button class="w-full py-3 text-sm font-medium text-violet-600 hover:text-violet-700 hover:bg-violet-50 rounded-xl transition-colors flex items-center justify-center gap-2" data-v-9f0d3e46><span data-v-9f0d3e46>Ver ${o.ssrInterpolate(t.unref(f).length-5)} sesiones m√°s</span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" data-v-9f0d3e46></path></svg></button>`):r("\x3c!----\x3e"),t.unref(_)&&t.unref(f).length>5?r('<button class="w-full py-3 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-xl transition-colors flex items-center justify-center gap-2" data-v-9f0d3e46><span data-v-9f0d3e46>Mostrar menos</span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" data-v-9f0d3e46></path></svg></button>'):r("\x3c!----\x3e"),r("</div>")),r('</div></section><section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-9f0d3e46><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-9f0d3e46><div class="flex items-center gap-3" data-v-9f0d3e46><div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center" data-v-9f0d3e46><svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-9f0d3e46></path></svg></div><h2 class="text-lg font-semibold text-gray-900" data-v-9f0d3e46>Pacientes</h2></div>'),r(o.ssrRenderComponent(d,{to:"/terapeuta/pacientes",class:"inline-flex items-center gap-1 text-sm font-medium text-violet-600 hover:text-violet-700 transition-colors"},{default:t.withCtx((e,a,r,o)=>{if(!a)return[t.createTextVNode(" Ver todos "),(t.openBlock(),t.createBlock("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))];a(` Ver todos <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-9f0d3e46${o}></path></svg>`)}),_:1},n)),r('</div><div class="p-4" data-v-9f0d3e46>'),t.unref(u)?r('<div class="flex flex-col items-center justify-center py-8" data-v-9f0d3e46><div class="w-8 h-8 border-2 border-gray-200 border-t-gray-600 rounded-full animate-spin mb-2" data-v-9f0d3e46></div><p class="text-sm text-gray-500" data-v-9f0d3e46>Cargando...</p></div>'):0===t.unref(g).length?r('<div class="flex flex-col items-center justify-center py-8 text-center" data-v-9f0d3e46><div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3" data-v-9f0d3e46><svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-9f0d3e46></path></svg></div><p class="text-gray-500 text-sm" data-v-9f0d3e46>Sin pacientes activos</p></div>'):(r('<div class="space-y-3" data-v-9f0d3e46>\x3c!--[--\x3e'),o.ssrRenderList(t.unref(g),e=>{r(o.ssrRenderComponent(V,{key:e.id,id:e.id,nombre:e.nombre_completo,"ultima-sesion":e.ultima_sesion,"sesiones-usadas":e.sesiones_usadas,"sesiones-totales":e.sesiones_totales,"estado-bono":e.estado_bono,onClick:navegarAPaciente},null,n))}),r("\x3c!--]--\x3e</div>")),r('</div></section></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mt-8" data-v-9f0d3e46>'),r(o.ssrRenderComponent(z,{ref_key:"paymentsTodayCardRef",ref:$,onAbrirCita:abrirDetalles},null,n)),r('<section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-9f0d3e46><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-9f0d3e46><div class="flex items-center gap-3" data-v-9f0d3e46><div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center" data-v-9f0d3e46><svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" data-v-9f0d3e46></path></svg></div><h2 class="text-lg font-semibold text-gray-900" data-v-9f0d3e46>Recordatorios</h2></div>'),t.unref(I)?r("\x3c!----\x3e"):r('<button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" title="Actualizar recordatorios" data-v-9f0d3e46><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" data-v-9f0d3e46></path></svg></button>'),r('</div><div class="p-4" data-v-9f0d3e46>'),t.unref(I)?r('<div class="flex flex-col items-center justify-center py-8" data-v-9f0d3e46><div class="w-8 h-8 border-2 border-gray-200 border-t-gray-600 rounded-full animate-spin mb-2" data-v-9f0d3e46></div><p class="text-sm text-gray-500" data-v-9f0d3e46>Cargando...</p></div>'):0===t.unref(T).length?r('<div class="flex flex-col items-center justify-center py-8 text-center" data-v-9f0d3e46><div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3" data-v-9f0d3e46><svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-9f0d3e46></path></svg></div><p class="text-gray-600 font-medium" data-v-9f0d3e46>Todo al d√≠a</p><p class="text-sm text-gray-400 mt-1" data-v-9f0d3e46>No hay recordatorios pendientes</p></div>'):(r('<div class="space-y-2" data-v-9f0d3e46>\x3c!--[--\x3e'),o.ssrRenderList(t.unref(H),(e,t)=>{r(o.ssrRenderComponent(P,{key:e.id||t,id:e.id,tipo:e.tipo,mensaje:e.mensaje,paciente:e.paciente,fecha:e.fecha,hora:e.hora,urgente:e.urgente,accion:e.accion,onAccion:handleRecordatorioAccion},null,n))}),r("\x3c!--]--\x3e"),t.unref(T).length>4?r(`<button class="w-full py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors" data-v-9f0d3e46>${o.ssrInterpolate(t.unref(M)?"Mostrar menos":`Ver ${t.unref(T).length-4} m√°s`)}</button>`):r("\x3c!----\x3e"),r("</div>")),r('</div></section></div><div class="mt-8" data-v-9f0d3e46><section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-9f0d3e46><div class="flex items-center gap-3 px-6 py-4 border-b border-gray-200" data-v-9f0d3e46><div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center" data-v-9f0d3e46><svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-9f0d3e46><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-9f0d3e46></path></svg></div><h2 class="text-lg font-semibold text-gray-900" data-v-9f0d3e46>Anal√≠tica del Profesional</h2></div><div class="p-6" data-v-9f0d3e46><div class="grid grid-cols-2 lg:grid-cols-4 gap-4" data-v-9f0d3e46>'),r(o.ssrRenderComponent(N,{value:t.unref(x),label:"Pacientes activos","icon-type":"users"},null,n)),r(o.ssrRenderComponent(N,{value:t.unref(y),label:"Sesiones este mes","icon-type":"calendar"},null,n)),r(o.ssrRenderComponent(N,{value:`${t.unref(w)}%`,label:"Asistencia promedio","icon-type":"check"},null,n)),r(o.ssrRenderComponent(N,{value:`${A=t.unref(B),A.toFixed(2)}‚Ç¨`,label:"Ingresos este mes",sublabel:`${t.unref(S)} ${1===t.unref(S)?"pago":"pagos"}`,"icon-type":"euro",highlight:!0,to:"/terapeuta/sesiones"},null,n)),r("</div></div></section></div></div>"),r(o.ssrRenderComponent(L,{"is-open":t.unref(k),"cita-id":t.unref(j),onClose:cerrarModalDetalles,onCitaActualizada:cargarSesiones,onActualizado:cargarSesiones},null,n)),r("</div>")}}}),_=j.setup;j.setup=(e,a)=>{const r=t.useSSRContext();return(r.modules||(r.modules=new Set)).add("pages/terapeuta/dashboard.vue"),_?_(e,a):void 0};const M=i(j,[["__scopeId","data-v-9f0d3e46"]]);export{M as default};
//# sourceMappingURL=dashboard-DryQO2zh.mjs.map
