import{v as e,s as t}from"./server.mjs";import{u as s}from"./usePacientes-Cr4i6x1S.mjs";import{_ as a}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index2.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";const r=e.defineComponent({__name:"mensajes",__ssrInlineRender:!0,setup(a){s();const r=e.ref(!0),n=e.ref([]),o=e.ref(""),d=e.ref(!1),i=e.ref(!1);e.ref(null),e.ref(null);const l=e.ref(""),esMensajeMio=e=>e.autor_id===l.value;return(s,a,l,c)=>{a(`<div${t.ssrRenderAttrs(e.mergeProps({class:"flex flex-col h-[calc(100vh-8rem)] max-w-4xl mx-auto px-4 py-8"},c))} data-v-43787c8e><header class="mb-6 flex-shrink-0" data-v-43787c8e><h1 class="text-2xl sm:text-3xl font-serif font-medium text-[#2D3748]" data-v-43787c8e> Mensajes </h1><p class="text-sm text-[#2D3748] opacity-70 font-sans mt-1" data-v-43787c8e> Conversación con tu coordinadora </p></header>`),e.unref(r)?a('<div class="flex-1 flex flex-col items-center justify-center" data-v-43787c8e><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[#5550F2]" data-v-43787c8e></div><p class="mt-4 text-[#2D3748] opacity-70 font-sans" data-v-43787c8e>Cargando mensajes...</p></div>'):(a('<div class="flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-[#E2E8F0]/30 overflow-hidden" data-v-43787c8e><div class="flex-1 overflow-y-auto p-6 space-y-4" data-v-43787c8e>'),0===e.unref(n).length?a('<div class="flex flex-col items-center justify-center h-full text-center py-12" data-v-43787c8e><div class="w-20 h-20 rounded-full bg-[#E2E8F0]/30 flex items-center justify-center mb-4" data-v-43787c8e><svg class="w-10 h-10 text-[#5550F2]" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-43787c8e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-43787c8e></path></svg></div><h3 class="text-xl font-serif font-medium text-[#2D3748] mb-2" data-v-43787c8e>No hay mensajes</h3><p class="text-sm text-[#2D3748] opacity-70 font-sans max-w-md" data-v-43787c8e> Inicia la conversación enviando un mensaje a tu coordinadora. </p></div>'):a("\x3c!----\x3e"),a("\x3c!--[--\x3e"),t.ssrRenderList(e.unref(n),e=>{a(`<div class="${t.ssrRenderClass(["flex",esMensajeMio(e)?"justify-end":"justify-start"])}" data-v-43787c8e><div class="${t.ssrRenderClass(["max-w-[70%] rounded-2xl px-4 py-3 shadow-sm",esMensajeMio(e)?"bg-[#5550F2] text-white rounded-br-sm":"bg-[#F2F2F2] text-[#2D3748] rounded-bl-sm"])}" data-v-43787c8e>`),esMensajeMio(e)?a("\x3c!----\x3e"):a(`<p class="text-xs font-sans font-medium mb-1 opacity-70" data-v-43787c8e>${t.ssrInterpolate(e.autor?.nombre_completo||"Coordinadora")}</p>`),a(`<p class="text-sm font-sans whitespace-pre-wrap break-words" data-v-43787c8e>${t.ssrInterpolate(e.contenido)}</p><div class="${t.ssrRenderClass(["flex items-center gap-1 mt-1 text-xs","font-['Lato']",esMensajeMio(e)?"text-white/70":"text-[#2D3748]/50"])}" data-v-43787c8e><span data-v-43787c8e>${t.ssrInterpolate((e=>{if(!e)return"";const t=new Date(e),s=new Date,a=new Date(s);return a.setDate(a.getDate()-1),t.toDateString()===s.toDateString()?t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toDateString()===a.toDateString()?"Ayer "+t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})(e.created_at))}</span>`),esMensajeMio(e)?(a("<span data-v-43787c8e>"),e.leido?a('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-43787c8e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-43787c8e></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13l4 4L23 7" data-v-43787c8e></path></svg>'):a('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-43787c8e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-43787c8e></path></svg>'),a("</span>")):a("\x3c!----\x3e"),a("</div></div></div>")}),a("\x3c!--]--\x3e"),e.unref(i)?a(`<div class="flex justify-start" data-v-43787c8e><div class="bg-[#F2F2F2] rounded-2xl rounded-bl-sm px-4 py-3 shadow-sm" data-v-43787c8e><div class="flex gap-1" data-v-43787c8e><span class="w-2 h-2 bg-[#5550F2] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"0ms"})}" data-v-43787c8e></span><span class="w-2 h-2 bg-[#5550F2] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"150ms"})}" data-v-43787c8e></span><span class="w-2 h-2 bg-[#5550F2] rounded-full animate-bounce" style="${t.ssrRenderStyle({"animation-delay":"300ms"})}" data-v-43787c8e></span></div></div></div>`):a("\x3c!----\x3e"),a(`</div><div class="flex-shrink-0 border-t border-[#E2E8F0]/30 p-4 bg-[#F2F2F2]/30" data-v-43787c8e><form class="flex gap-2" data-v-43787c8e><textarea placeholder="Escribe tu mensaje..." rows="1" class="flex-1 px-4 py-3 border border-[#E2E8F0] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#5550F2] focus:border-transparent resize-none font-sans text-[#2D3748] placeholder:text-[#2D3748]/40 bg-white" data-v-43787c8e>${t.ssrInterpolate(e.unref(o))}</textarea><button type="submit"${t.ssrIncludeBooleanAttr(!e.unref(o).trim()||e.unref(d))?" disabled":""} class="flex-shrink-0 w-12 h-12 bg-[#5550F2] hover:bg-[#C89B8A] disabled:bg-[#E2E8F0] disabled:cursor-not-allowed text-white rounded-xl transition-colors flex items-center justify-center" data-v-43787c8e>`),e.unref(d)?a('<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white" data-v-43787c8e></div>'):a('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-43787c8e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-v-43787c8e></path></svg>'),a("</button></form></div></div>")),a("</div>")}}}),n=r.setup;r.setup=(t,s)=>{const a=e.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/paciente/mensajes.vue"),n?n(t,s):void 0};const o=a(r,[["__scopeId","data-v-43787c8e"]]);export{o as default};
//# sourceMappingURL=mensajes-CRHIuWba.mjs.map
