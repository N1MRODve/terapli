{"version":3,"file":"ModalDetallesCita-BQfwiaUH.mjs","sources":["../../../../../../node_modules/.cache/nuxt/.nuxt/dist/server/_nuxt/ModalDetallesCita-BQfwiaUH.js"],"sourcesContent":null,"names":["render$3","_ctx","_cache","vueExports","openBlock","createElementBlock","xmlns","fill","viewBox","stroke","createElementVNode","d","render$2","render$1","render","usePayments","supabase","useSupabaseClient","userProfile","useSupabase","pagosDia","ref","loading","error","resumenDia","computed","hoy","Date","toISOString","split","pagados","value","filter","p","estado_pago","pendientes","porMetodo","efectivo","total","cantidad","transferencia","bizum","tarjeta","stripe","forEach","pago","metodo_pago","precio_sesion","fecha","reduce","sum","cantidadPagos","length","pagos","async","getPaymentsOfDay","terapeutaId","terapeuta_id","id","console","warn","fechaConsulta","data","fetchError","from","select","eq","in","order","ascending","Error","message","map","cita","paciente_id","paciente","paciente_nombre","nombre_completo","fecha_cita","hora_inicio","hora_fin","fecha_pago","bono_id","estado","err","refreshPaymentsForToday","createPayment","citaId","metodo","monto","notas","rpcData","rpcError","rpc","p_cita_id","p_metodo_pago","p_monto","p_notas","success","updateData","updated_at","notas_pago","updateError","update","updatePaymentMethod","nuevoMetodo","undoPayment","getPaymentSummary","formatPaymentMethod","formatPaymentDate","fechaPago","ayer","setDate","getDate","fechaStr","toLocaleDateString","day","month","horaStr","toLocaleTimeString","hour","minute","toDateString","_sfc_main$2","defineComponent","__name","__ssrInlineRender","props","estadoPago","metodoPago","default","showActions","type","Boolean","compact","emits","setup","__props","emit","__emit","estadoConfig","label","icon","bgColor","textColor","borderColor","iconBg","isPagado","isPendiente","isBonificado","metodoPagoFormateado","fechaPagoFormateada","cantidadFormateada","toFixed","_push","_parent","_attrs","serverRenderer_cjs_prodExports","ssrRenderAttrs","mergeProps","class","unref","ssrRenderClass","ssrInterpolate","_sfc_setup$2","ctx","ssrContext","useSSRContext","modules","Set","add","__nuxt_component_0","Object","assign","_sfc_main$1","pacienteNombre","tipoTransaccion","bonoInfo","horaInicio","metodoPagoActual","modoEdicion","selectedMethod","procesando","descripcionTransaccion","numeroSesion","sesionesTotales","sesionesRestantes","nombre","tituloModal","handleSelectMethod","method","_component_PaymentMethodSelector","__nuxt_component_0$1","ssrRenderTeleport","_push2","ssrRenderAttr","ssrRenderComponent","disabled","size","onSelect","ssrIncludeBooleanAttr","_sfc_setup$1","__nuxt_component_1","_sfc_main","confirmando","marcandoRealizada","mostrarModalPago","modoEdicionPago","mostrarModalNuevoBono","bonoParaEditar","seccionBonoAbierta","seccionObservacionesAbierta","cargando","mostrarConfirmacionDeshacer","deshaciendoPago","consumiendoSesion","asignandoBono","bono","bonoActivoPaciente","useRouter","toastSuccess","toastError","useToast","formEdicion","modalidad","observaciones","watch","val","localStorage","setItem","String","cargarCita","citaData","citaError","single","bonoData","bonoError","citasAnteriores","indice","findIndex","c","numero_sesion","bonoActivo","gt","limit","maybeSingle","substring","newId","immediate","fechaCorta","manana","weekday","horarioFormateado","duracionMinutos","hi","mi","Number","hf","mf","modalidadFormateada","presencial","virtual","telefonica","estadoCita","claseEstadoBadge","pendiente","confirmada","realizada","cancelada","estadoLabel","puedeConfirmar","puedeRegistrarPago","estadoCitaVal","estadoPagoVal","puedeMarcarRealizada","puedeConsumirSesion","sesion_descontada","sesiones_restantes","puedeAsignarBono","bonoMostrar","sesionesUsadas","sesiones_totales","fechaVencimientoBono","fecha_fin","bonoProximoVencer","diasRestantes","Math","floor","getTime","bonoVencido","tipoBonoFormateado","tipo","semanal","quincenal","mensual","otro","precioSesion","precio_por_sesion","monto_total","round","infoBono","sesionesUsadasCalc","numeroSesionActual","montoTotal","precioPorSesion","pagado","fechaInicio","fecha_inicio","fechaFin","esAsignado","sesionDescontada","inicialesPaciente","partes","toUpperCase","bonoInfoParaPago","handleBonoCreado","nuevoBono","precioSesion2","errorAsignar","descontar_de_bono","handleBonoActualizado","bonoActualizado","abrirModalPago","abrirCambiarMetodo","handlePagoConfirmado","cancelarModalPago","newHora","hours","minutes","totalMinutes","endHours","endMinutes","padStart","_component_PaymentStatusBadge","_component_PaymentQuickModal","_component_ModalNuevoBono","__nuxt_component_2","render$4","Array","isArray","ssrLooseContain","ssrLooseEqual","render$5","render$6","telefono","render$7","render$8","render$9","ssrRenderVNode","createVNode","resolveDynamicComponent","onRegistrar","onCambiar","onDeshacer","$event","onConfirm","onCancel","render$a","render$b","ssrRenderList","i","render$c","render$d","mostrar","onClose","onCreated","onUpdated","_sfc_setup","ModalDetallesCita","_export_sfc"],"mappings":"","x_google_ignoreList":[0]}