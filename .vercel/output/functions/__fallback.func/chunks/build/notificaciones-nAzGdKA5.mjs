import{v as a,s as e}from"./server.mjs";import{u as t}from"./useNotificaciones-Bmi2DWpA.mjs";import{_ as s}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";import"./useSupabaseClient-DykwVqLQ.mjs";import"./useSupabase-CA5R4uuJ.mjs";const r=a.defineComponent({__name:"notificaciones",__ssrInlineRender:!0,setup(s){const{notificaciones:r,totalNoVistas:d,noLeidas:o,urgentes:l}=t(),n=a.ref(!1),i=a.ref("no-leidas"),c=a.computed(()=>"no-leidas"===i.value?o.value:"urgentes"===i.value?l.value:r.value);return(t,s,o,v)=>{s(`<div${e.ssrRenderAttrs(a.mergeProps({class:"min-h-screen bg-gray-50 py-8"},v))} data-v-7459c3a8><div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8" data-v-7459c3a8><div class="mb-8" data-v-7459c3a8><div class="flex items-center justify-between" data-v-7459c3a8><div data-v-7459c3a8><h1 class="text-3xl font-bold text-gray-900" data-v-7459c3a8>ğŸ”” Notificaciones</h1><p class="mt-2 text-sm text-gray-600" data-v-7459c3a8> Mantente al dÃ­a con las alertas del sistema </p></div><div class="flex gap-2" data-v-7459c3a8>`),a.unref(d)>0?s('<button class="px-4 py-2 text-sm font-medium text-purple-700 bg-purple-100 hover:bg-purple-200 rounded-lg transition-colors" type="button" data-v-7459c3a8> âœ“ Marcar todas como leÃ­das </button>'):s("\x3c!----\x3e"),s(`<button class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors" type="button" data-v-7459c3a8> ğŸ—‘ï¸ Eliminar leÃ­das </button></div></div><div class="mt-6 grid grid-cols-3 gap-4" data-v-7459c3a8><div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm" data-v-7459c3a8><div class="flex items-center gap-3" data-v-7459c3a8><div class="p-3 bg-purple-100 rounded-full" data-v-7459c3a8><svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 20 20" data-v-7459c3a8><path d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" data-v-7459c3a8></path></svg></div><div data-v-7459c3a8><p class="text-sm text-gray-600" data-v-7459c3a8>Total</p><p class="text-2xl font-bold text-gray-900" data-v-7459c3a8>${e.ssrInterpolate(a.unref(r).length)}</p></div></div></div><div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm" data-v-7459c3a8><div class="flex items-center gap-3" data-v-7459c3a8><div class="p-3 bg-blue-100 rounded-full" data-v-7459c3a8><svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20" data-v-7459c3a8><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-7459c3a8></path></svg></div><div data-v-7459c3a8><p class="text-sm text-gray-600" data-v-7459c3a8>No leÃ­das</p><p class="text-2xl font-bold text-blue-600" data-v-7459c3a8>${e.ssrInterpolate(a.unref(d))}</p></div></div></div><div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm" data-v-7459c3a8><div class="flex items-center gap-3" data-v-7459c3a8><div class="p-3 bg-red-100 rounded-full" data-v-7459c3a8><svg class="w-6 h-6 text-red-600" fill="currentColor" viewBox="0 0 20 20" data-v-7459c3a8><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" data-v-7459c3a8></path></svg></div><div data-v-7459c3a8><p class="text-sm text-gray-600" data-v-7459c3a8>Urgentes</p><p class="text-2xl font-bold text-red-600" data-v-7459c3a8>${e.ssrInterpolate(a.unref(l).length)}</p></div></div></div></div></div><div class="mb-6 flex gap-2" data-v-7459c3a8><button class="${e.ssrRenderClass(["no-leidas"===i.value?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200","px-4 py-2 text-sm font-medium rounded-lg transition-colors"])}" type="button" data-v-7459c3a8> No leÃ­das (${e.ssrInterpolate(a.unref(d))}) </button><button class="${e.ssrRenderClass(["urgentes"===i.value?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200","px-4 py-2 text-sm font-medium rounded-lg transition-colors"])}" type="button" data-v-7459c3a8> Urgentes (${e.ssrInterpolate(a.unref(l).length)}) </button><button class="${e.ssrRenderClass(["todas"===i.value?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200","px-4 py-2 text-sm font-medium rounded-lg transition-colors"])}" type="button" data-v-7459c3a8> Todas (${e.ssrInterpolate(a.unref(r).length)}) </button></div>`),n.value?s('<div class="flex items-center justify-center py-12" data-v-7459c3a8><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600" data-v-7459c3a8></div></div>'):c.value.length>0?(s('<div class="space-y-3" data-v-7459c3a8>\x3c!--[--\x3e'),e.ssrRenderList(c.value,a=>{var t,r,d;s(`<div class="${e.ssrRenderClass([[a.leido?"border-l-gray-300":"border-l-purple-500 bg-purple-50/30",(d=a.metadata?.urgencia,"alta"===d?"bg-red-100 border-l-red-500 text-red-900":"media"===d?"bg-orange-100 border-l-orange-500 text-orange-900":"bg-blue-100 border-l-blue-500 text-blue-900")],"bg-white rounded-lg border-l-4 shadow-sm overflow-hidden transition-all hover:shadow-md"])}" data-v-7459c3a8><div class="p-5" data-v-7459c3a8><div class="flex items-start gap-4" data-v-7459c3a8><div class="flex-shrink-0 text-3xl mt-1" data-v-7459c3a8>${e.ssrInterpolate((r=a.tipo,{bono:"ğŸ’³",cita:"ğŸ“…",pago:"ğŸ’°",sistema:"âš™ï¸",alerta:"âš ï¸"}[r]||"ğŸ””"))}</div><div class="flex-1 min-w-0" data-v-7459c3a8><div class="flex items-start justify-between gap-4" data-v-7459c3a8><div class="flex-1" data-v-7459c3a8><h3 class="text-lg font-semibold text-gray-900" data-v-7459c3a8>${e.ssrInterpolate(a.titulo)}</h3><p class="mt-2 text-sm text-gray-700 leading-relaxed" data-v-7459c3a8>${e.ssrInterpolate(a.mensaje)}</p><div class="mt-3 flex flex-wrap items-center gap-2" data-v-7459c3a8><span class="text-xs text-gray-500" data-v-7459c3a8>${e.ssrInterpolate((t=a.created_at,new Date(t).toLocaleString("es-ES",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})))}</span><span class="text-xs px-2 py-1 bg-gray-100 text-gray-700 rounded-full font-medium" data-v-7459c3a8>${e.ssrInterpolate(a.tipo.toUpperCase())}</span>`),a.metadata?.urgencia?s(`<span class="${e.ssrRenderClass([{"bg-red-100 text-red-700":"alta"===a.metadata.urgencia,"bg-orange-100 text-orange-700":"media"===a.metadata.urgencia,"bg-blue-100 text-blue-700":"baja"===a.metadata.urgencia},"text-xs px-2 py-1 rounded-full font-medium"])}" data-v-7459c3a8>${e.ssrInterpolate(a.metadata.urgencia.toUpperCase())}</span>`):s("\x3c!----\x3e"),"bono"===a.tipo&&void 0!==a.metadata?.sesiones_restantes?s(`<span class="text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded-full font-medium" data-v-7459c3a8>${e.ssrInterpolate(a.metadata.sesiones_restantes)}/${e.ssrInterpolate(a.metadata.sesiones_totales)} sesiones </span>`):s("\x3c!----\x3e"),a.leido?s('<span class="text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full font-medium" data-v-7459c3a8> âœ“ LeÃ­da </span>'):s("\x3c!----\x3e"),s('</div></div><div class="flex-shrink-0 flex gap-2" data-v-7459c3a8>'),a.leido?s("\x3c!----\x3e"):s('<button class="p-2 text-purple-600 hover:bg-purple-100 rounded-lg transition-colors" type="button" title="Marcar como leÃ­da" data-v-7459c3a8><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-7459c3a8><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-7459c3a8></path></svg></button>'),s('<button class="p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors" type="button" title="Eliminar" data-v-7459c3a8><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" data-v-7459c3a8><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" data-v-7459c3a8></path></svg></button></div></div></div></div></div></div>')}),s("\x3c!--]--\x3e</div>")):s(`<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center" data-v-7459c3a8><svg class="mx-auto h-16 w-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-7459c3a8><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-7459c3a8></path></svg><h3 class="mt-4 text-lg font-medium text-gray-900" data-v-7459c3a8>No hay notificaciones</h3><p class="mt-2 text-sm text-gray-600" data-v-7459c3a8>${e.ssrInterpolate("todas"===i.value?"No tienes ninguna notificaciÃ³n":"urgentes"===i.value?"No hay notificaciones urgentes":"Todas tus notificaciones estÃ¡n leÃ­das")}</p></div>`),s("</div></div>")}}}),d=r.setup;r.setup=(e,t)=>{const s=a.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/coordinadora/notificaciones.vue"),d?d(e,t):void 0};const o=s(r,[["__scopeId","data-v-7459c3a8"]]);export{o as default};
//# sourceMappingURL=notificaciones-nAzGdKA5.mjs.map
