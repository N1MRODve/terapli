import{v as a,f as e,h as t,a as s,s as r}from"./server.mjs";import{_ as d}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import{_ as n}from"./ModalNuevaCita-DelZWFw6.mjs";import{M as o}from"./ModalDetallesCita-BQfwiaUH.mjs";import{u as l}from"./useCitas-DyEZH6RI.mjs";import{u as i}from"./useSupabaseClient-DykwVqLQ.mjs";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index2.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";import"./useSupabase-COsu_foS.mjs";import"./CheckCircleIcon-CT9fzVFs.mjs";import"./CalendarIcon-BrsGHJBC.mjs";import"./TicketIcon-zZdrc71S.mjs";import"./MagnifyingGlassIcon-GsbNDyPZ.mjs";import"./XCircleIcon-Cr4IlpzV.mjs";import"./UserIcon-CrHYaeI9.mjs";import"./ExclamationTriangleIcon-DQdM2y0F.mjs";import"./UserGroupIcon-BhthmHUw.mjs";import"./ClockIcon-BxdFtPqx.mjs";import"./DocumentTextIcon-O51EkPyw.mjs";import"./PhoneIcon-acGzPaDV.mjs";import"./CheckBadgeIcon-DjhxLc-3.mjs";import"./PaymentMethodSelector-B6WAV7CR.mjs";import"./useToast-CW-71pJZ.mjs";import"./ModalNuevoBono-C-simKwt.mjs";import"./useBonos-I7-Zi1mD.mjs";import"./XMarkIcon-DCLwyE-W.mjs";import"./PencilIcon-BKWXEWgS.mjs";import"./CalendarDaysIcon-f8DhK37e.mjs";import"./ChevronDownIcon-CvdhRGll.mjs";import"./PlusIcon-CHLzv-V9.mjs";const f={__name:"NotasPrivadas",__ssrInlineRender:!0,props:{pacienteId:{type:String,required:!0},contenido:{type:String,default:""},ultimaActualizacion:{type:String,default:null}},emits:["guardar","actualizar"],setup(e,{emit:t}){const s=e,d=a.ref(!1),n=a.ref(!1),o=a.ref(s.contenido),l=a.ref(s.contenido);a.ref(null),a.watch(()=>s.contenido,a=>{d.value||(o.value=a,l.value=a)});const formatearFecha=a=>{if(!a)return"";return new Date(a).toLocaleString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})};return(t,s,l,i)=>{s(`<div${r.ssrRenderAttrs(a.mergeProps({class:"bg-white rounded-xl shadow-sm border border-[#E2E8F0]/40 p-6"},i))} data-v-b66842cb><div class="flex items-center justify-between mb-4" data-v-b66842cb><h3 class="font-serif text-lg font-semibold text-cafe flex items-center gap-2" data-v-b66842cb><span class="text-xl" data-v-b66842cb>ğŸ“</span> Notas ClÃ­nicas Privadas </h3>`),a.unref(d)?s("\x3c!----\x3e"):s('<button class="px-3 py-1.5 text-sm bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors" data-v-b66842cb> âœï¸ Editar </button>'),s('</div><div class="mb-4 p-3 bg-rosa/20 border border-rosa rounded-lg" data-v-b66842cb><p class="text-xs text-cafe/70 flex items-start gap-2" data-v-b66842cb><span class="text-purple-600" data-v-b66842cb>ğŸ”’</span><span data-v-b66842cb> Esta informaciÃ³n es estrictamente confidencial y solo visible para ti como terapeuta. Cumple con los estÃ¡ndares de protecciÃ³n de datos clÃ­nicos. </span></p></div>'),a.unref(d)?(s(`<div data-v-b66842cb><textarea placeholder="Anota observaciones, reflexiones o aspectos a seguir trabajando...\n\nâ€¢ Progreso observado en la sesiÃ³n\nâ€¢ Temas pendientes de abordar\nâ€¢ Estrategias que funcionan\nâ€¢ Aspectos que requieren atenciÃ³n" class="w-full min-h-[300px] px-4 py-3 bg-base-bg rounded-lg border border-purple-600/30 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-300/20 transition-all text-cafe resize-y" data-v-b66842cb>${r.ssrInterpolate(a.unref(o))}</textarea><div class="mt-2 flex items-center justify-between text-xs text-cafe/60" data-v-b66842cb><span data-v-b66842cb> ğŸ’¡ Presiona Cmd/Ctrl + Enter para guardar rÃ¡pidamente </span>`),e.ultimaActualizacion?s(`<span data-v-b66842cb> Ãšltima actualizaciÃ³n: ${r.ssrInterpolate(formatearFecha(e.ultimaActualizacion))}</span>`):s("\x3c!----\x3e"),s(`</div><div class="mt-4 flex items-center gap-3" data-v-b66842cb><button${r.ssrIncludeBooleanAttr(a.unref(n))?" disabled":""} class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2" data-v-b66842cb>`),a.unref(n)?s("<span data-v-b66842cb>â³</span>"):s("<span data-v-b66842cb>ğŸ’¾</span>"),s(`<span data-v-b66842cb>${r.ssrInterpolate(a.unref(n)?"Guardando...":"Guardar cambios")}</span></button><button${r.ssrIncludeBooleanAttr(a.unref(n))?" disabled":""} class="px-4 py-2 bg-white border border-cafe/20 text-cafe rounded-lg hover:bg-gray-50 transition-colors" data-v-b66842cb> Cancelar </button></div></div>`)):(s('<div class="min-h-[200px]" data-v-b66842cb>'),a.unref(o)?s(`<div class="prose prose-sm max-w-none text-cafe/80 whitespace-pre-wrap" data-v-b66842cb>${r.ssrInterpolate(a.unref(o))}</div>`):s('<div class="text-center py-8" data-v-b66842cb><span class="text-5xl mb-3 block opacity-40" data-v-b66842cb>ğŸ“‹</span><p class="text-cafe/50 italic" data-v-b66842cb> AÃºn no hay notas registradas para este paciente </p><button class="mt-4 px-4 py-2 text-sm bg-purple-600/10 text-purple-600 rounded-lg hover:bg-purple-600/20 transition-colors" data-v-b66842cb> AÃ±adir primera nota </button></div>'),s("</div>")),!a.unref(d)&&e.ultimaActualizacion?s(`<div class="mt-4 pt-4 border-t border-gray-100" data-v-b66842cb><p class="text-xs text-cafe/50" data-v-b66842cb> Ãšltima modificaciÃ³n: ${r.ssrInterpolate(formatearFecha(e.ultimaActualizacion))}</p></div>`):s("\x3c!----\x3e"),s("</div>")}}},c=f.setup;f.setup=(e,t)=>{const s=a.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/NotasPrivadas.vue"),c?c(e,t):void 0};const p=d(f,[["__scopeId","data-v-b66842cb"]]),v=a.defineComponent({__name:"[id]",__ssrInlineRender:!0,setup(d){const f=i(),c=e(),{getCitas:v}=l(),b=t();s();const u=a.computed(()=>b.params.id||""),x=a.ref(!0),m=a.ref(null),g=a.ref(null),h=a.ref(null),w=a.ref([]),y=a.ref(""),$=a.ref(null),I=a.ref([]),_=(new Date).getFullYear(),C=a.ref(_),j=a.ref(_),D=a.ref(""),S=a.ref(""),R=a.computed(()=>{const a=[];for(let e=_;e>=_-4;e--)a.push(e);return a}),P=a.ref("proximas"),A=a.ref(!1),E=a.ref(null),z=a.ref(!1),B=a.ref(null),T=a.computed(()=>[{id:"proximas",nombre:"PrÃ³ximas Sesiones",icono:"ğŸ“…",badge:M.value.proximas||null},{id:"completadas",nombre:"Completadas",icono:"âœ…",badge:M.value.completadas||null},{id:"pendientes",nombre:"Pendientes",icono:"â³",badge:M.value.pendientes||null},{id:"anteriores",nombre:"Historial",icono:"ğŸ“š",badge:null}]),cargarDatosPaciente=async()=>{x.value=!0,m.value=null;try{if(!c.value)return void(m.value="Usuario no autenticado");const{data:a,error:e}=await f.from("pacientes").select("*").eq("id",u.value).single();if(e)throw e;const t=a.nombre_completo||a.email||"Sin nombre";g.value={...a,nombre_completo:t,email:a.email||"",telefono:a.telefono||""};const s=await v();w.value=s.filter(a=>a.paciente_id===u.value),await cargarBonoActivo(),await cargarPagos(),await cargarNotas()}catch(a){console.error("Error al cargar paciente:",a),m.value=a.message||"Error desconocido"}finally{x.value=!1}},cargarBonoActivo=async()=>{try{const{data:a,error:e}=await f.from("bonos").select("*").eq("paciente_id",u.value).in("estado",["activo","pendiente"]).gt("sesiones_restantes",0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(e)return void console.warn("[Bonos] Error en consulta:",e.message);if(a){const e=a.sesiones_totales||0,t=a.sesiones_restantes||0,s=e-t;h.value={...a,sesiones_usadas:s,sesiones_disponibles:t,porcentaje_uso:e>0?Math.round(s/e*100):0},console.info(`[Bonos] Bono activo cargado para paciente: ${a.tipo} (${t}/${e} disponibles)`)}else h.value=null,console.info("[Bonos] No se encontrÃ³ bono activo para este paciente")}catch(a){console.warn("[Bonos] Error inesperado:",a)}},cargarPagos=async()=>{try{const{data:a,error:e}=await f.from("pagos").select("*").eq("paciente_id",u.value).order("created_at",{ascending:!1});if(e)return void console.warn("[Pagos] Error al cargar:",e.message);I.value=a||[],console.info(`[Pagos] Cargados ${I.value.length} pagos para el paciente`)}catch(a){console.warn("[Pagos] Error inesperado:",a)}},cargarNotas=async()=>{try{const{data:a}=await f.from("notas_terapeuticas").select("contenido, updated_at").eq("paciente_id",u.value).eq("terapeuta_id",c.value?.id).order("updated_at",{ascending:!1}).limit(1).maybeSingle();a&&(y.value=a.contenido||"",$.value=a.updated_at)}catch(a){console.error("Error al cargar notas:",a)}},guardarNotas=async({pacienteId:a,contenido:e})=>{try{const{data:t}=await f.from("notas_terapeuticas").select("id").eq("paciente_id",a).eq("terapeuta_id",c.value?.id).maybeSingle();t?await f.from("notas_terapeuticas").update({contenido:e,updated_at:(new Date).toISOString()}).eq("id",t.id):await f.from("notas_terapeuticas").insert({paciente_id:a,terapeuta_id:c.value?.id,contenido:e}),y.value=e,$.value=(new Date).toISOString()}catch(a){throw console.error("Error al guardar notas:",a),a}},k=a.computed(()=>{const a=new Date;return w.value.filter(e=>["pendiente","confirmada"].includes(e.estado)&&new Date(e.fecha_cita)>=a).sort((a,e)=>new Date(a.fecha_cita).getTime()-new Date(e.fecha_cita).getTime())}),L=a.computed(()=>w.value.filter(a=>"realizada"===a.estado).sort((a,e)=>new Date(e.fecha_cita).getTime()-new Date(a.fecha_cita).getTime())),N=a.computed(()=>w.value.filter(a=>"pendiente"===a.estado).sort((a,e)=>new Date(a.fecha_cita).getTime()-new Date(e.fecha_cita).getTime())),q=a.computed(()=>w.value.sort((a,e)=>new Date(e.fecha_cita).getTime()-new Date(a.fecha_cita).getTime())),M=a.computed(()=>({total:w.value.length,completadas:L.value.length,pendientes:N.value.length,proximas:k.value.length})),F=a.computed(()=>{const a=C.value,e=w.value.filter(e=>new Date(e.fecha_cita).getFullYear()===a);return{total:e.length,realizadas:e.filter(a=>"realizada"===a.estado).length,canceladas:e.filter(a=>"cancelada"===a.estado).length,programadas:e.filter(a=>["pendiente","confirmada"].includes(a.estado)).length}}),H=a.computed(()=>{const a=j.value,e=I.value.filter(e=>new Date(e.created_at||e.fecha).getFullYear()===a&&"pendiente"===e.estado),t=w.value.filter(e=>new Date(e.fecha_cita).getFullYear()===a&&"realizada"===e.estado&&!e.pagado),s=e.reduce((a,e)=>a+(e.monto||0),0),r=t.reduce((a,e)=>a+(e.precio_sesion||0),0);return{totalPendiente:s+r,cantidadPendientes:e.length+t.length,haDeuda:s+r>0}}),G=a.computed(()=>{let a=[...w.value];if(D.value){const e=new Date(D.value);a=a.filter(a=>new Date(a.fecha_cita)>=e)}if(S.value){const e=new Date(S.value);a=a.filter(a=>new Date(a.fecha_cita)<=e)}return a.sort((a,e)=>new Date(e.fecha_cita).getTime()-new Date(a.fecha_cita).getTime())}),V=a.computed(()=>{const a=L.value;return a.length>0?a[a.length-1].fecha_cita:null}),U=a.computed(()=>{const a=L.value;return a.length>0?a[0].fecha_cita:null}),W=a.computed(()=>k.value.length>0?k.value[0]:null),Z=a.computed(()=>g.value?.nombre_completo||"Sin nombre"),Y=a.computed(()=>{if(!Z.value)return"?";const a=Z.value.split(" ");return a.length>=2&&a[0]&&a[1]?`${a[0][0]}${a[1][0]}`.toUpperCase():Z.value.substring(0,2).toUpperCase()}),O=a.computed(()=>{const a=["#D8AFA0","#C89B8A","#B7C6B0","#A8C5B5","#D4A5A5","#C4B5A0"];return a[u.value.charCodeAt(0)%a.length]}),Q=a.computed(()=>g.value?g.value.activo?g.value.metadata?.en_pausa?"En pausa":"En proceso":"Finalizado":""),X=a.computed(()=>g.value?g.value.activo?g.value.metadata?.en_pausa?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700":"bg-gray-100 text-gray-600":""),K=a.computed(()=>{if(!g.value?.tipo_bono)return"";return{a_demanda:"A Demanda (1 sesiÃ³n)",quincenal:"Quincenal (2 sesiones/mes)",semanal:"Semanal (4 sesiones/mes)"}[g.value.tipo_bono]||g.value.tipo_bono}),formatearFecha=a=>{if(!a)return"";try{return new Date(a+"T00:00:00").toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}catch{return a}},formatearPrecio=a=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(a||0),obtenerIconoModalidad=a=>({presencial:"ğŸ¥",online:"ğŸ’»",telefonica:"ğŸ“"}[a]||"ğŸ“‹"),obtenerEstiloModalidad=a=>({presencial:"bg-green-100 text-green-700",online:"bg-purple-600/20 text-purple-600",telefonica:"bg-blue-100 text-blue-700"}[a]||"bg-gray-100 text-gray-700"),obtenerEstiloEstado=a=>({pendiente:"bg-yellow-100 text-yellow-700",confirmada:"bg-green-100 text-green-700",realizada:"bg-blue-100 text-blue-700",cancelada:"bg-red-100 text-red-700"}[a]||"bg-gray-100 text-gray-700"),cerrarModalCita=()=>{A.value=!1,E.value=null},onCitaCreada=()=>{cargarDatosPaciente()},cerrarModalDetalles=()=>{z.value=!1,B.value=null};return a.watch(()=>b.params.id,()=>{b.params.id&&cargarDatosPaciente()}),(e,t,s,d)=>{const l=p,i=n,f=o;t(`<div${r.ssrRenderAttrs(a.mergeProps({class:"pb-20"},d))} data-v-b6f0a7f2><button class="mb-6 flex items-center gap-2 text-cafe hover:text-purple-600 transition-colors" data-v-b6f0a7f2><span data-v-b6f0a7f2>â†</span><span data-v-b6f0a7f2>Volver a lista de pacientes</span></button>`),a.unref(x)?t('<div class="text-center py-12" data-v-b6f0a7f2><div class="animate-spin w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full mx-auto mb-4" data-v-b6f0a7f2></div><p class="text-cafe/60" data-v-b6f0a7f2>Cargando informaciÃ³n del paciente...</p></div>'):a.unref(m)?t(`<div class="text-center py-12" data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><span class="text-6xl mb-4 block" data-v-b6f0a7f2>âŒ</span><h3 class="text-xl font-serif font-semibold text-cafe mb-2" data-v-b6f0a7f2> No se pudo cargar la informaciÃ³n </h3><p class="text-cafe/60 mb-4" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(m))}</p><button class="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors" data-v-b6f0a7f2> Volver a la lista </button></div></div>`):a.unref(g)?(t(`<div data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6" data-v-b6f0a7f2><div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6" data-v-b6f0a7f2><div class="flex items-start gap-4" data-v-b6f0a7f2><div class="w-20 h-20 rounded-full flex items-center justify-center text-white font-bold text-2xl flex-shrink-0" style="${r.ssrRenderStyle({backgroundColor:a.unref(O)})}" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(Y))}</div><div data-v-b6f0a7f2><h1 class="text-3xl font-serif font-bold text-cafe mb-2" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(Z))}</h1><div class="flex flex-wrap items-center gap-3 mb-3" data-v-b6f0a7f2><span class="${r.ssrRenderClass([a.unref(X),"px-3 py-1 text-sm font-medium rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(Q))}</span><span class="text-cafe/60 text-sm flex items-center gap-1" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ“§</span><span data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(g).email)}</span></span></div><div class="space-y-1 text-sm" data-v-b6f0a7f2>`),a.unref(g).telefono?t(`<div class="text-cafe/70 flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ“±</span><span data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(g).telefono)}</span></div>`):t("\x3c!----\x3e"),a.unref(g).area_de_acompanamiento?t(`<div class="text-cafe/70 flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ¯</span><span data-v-b6f0a7f2><strong data-v-b6f0a7f2>Ãrea:</strong> ${r.ssrInterpolate(a.unref(g).area_de_acompanamiento)}</span></div>`):t("\x3c!----\x3e"),a.unref(g).tipo_bono?t(`<div class="text-cafe/70 flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ«</span><span data-v-b6f0a7f2><strong data-v-b6f0a7f2>Tipo de Bono:</strong> ${r.ssrInterpolate(a.unref(K))}</span></div>`):t("\x3c!----\x3e"),t(`</div></div></div><div class="flex flex-wrap gap-2" data-v-b6f0a7f2><button class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ«</span><span data-v-b6f0a7f2>Gestionar Bonos</span></button><button class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ’¬</span><span data-v-b6f0a7f2>WhatsApp</span></button><button class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors text-sm flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ“…</span><span data-v-b6f0a7f2>Agendar sesiÃ³n</span></button><button class="px-4 py-2 bg-white border border-purple-600/30 text-purple-600 rounded-lg hover:bg-purple-600/5 transition-colors text-sm flex items-center gap-2" data-v-b6f0a7f2><span data-v-b6f0a7f2>âœï¸</span><span data-v-b6f0a7f2>Editar</span></button></div></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6" data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2 mb-4" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ“Š</span> Resumen </h2><div class="space-y-3" data-v-b6f0a7f2><div class="flex items-center justify-between p-3 bg-base-bg rounded-lg" data-v-b6f0a7f2><span class="text-sm text-cafe/70" data-v-b6f0a7f2>Total sesiones</span><span class="font-bold text-cafe text-lg" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(M).total)}</span></div><div class="flex items-center justify-between p-3 bg-green-50 rounded-lg" data-v-b6f0a7f2><span class="text-sm text-cafe/70" data-v-b6f0a7f2>Completadas</span><span class="font-bold text-green-600 text-lg" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(M).completadas)}</span></div><div class="flex items-center justify-between p-3 bg-yellow-50 rounded-lg" data-v-b6f0a7f2><span class="text-sm text-cafe/70" data-v-b6f0a7f2>Pendientes</span><span class="font-bold text-yellow-600 text-lg" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(M).pendientes)}</span></div><div class="flex items-center justify-between p-3 bg-blue-50 rounded-lg" data-v-b6f0a7f2><span class="text-sm text-cafe/70" data-v-b6f0a7f2>PrÃ³ximas</span><span class="font-bold text-blue-600 text-lg" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(M).proximas)}</span></div></div></div><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2 mb-4" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ«</span> Bono Contratado </h2>`),a.unref(h)?t(`<div class="space-y-4" data-v-b6f0a7f2><div class="p-3 bg-gradient-to-r from-purple-100 to-purple-50 border border-purple-200 rounded-lg" data-v-b6f0a7f2><div class="text-xs text-purple-700 font-medium mb-1" data-v-b6f0a7f2>Tipo de Bono</div><div class="text-sm font-bold text-purple-900" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(K))}</div></div><div class="text-center p-4 bg-gradient-to-br from-purple-600/10 to-rosa/20 rounded-xl" data-v-b6f0a7f2><div class="text-4xl font-bold text-purple-600 mb-1" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(h).sesiones_disponibles)}</div><div class="text-sm text-cafe/70" data-v-b6f0a7f2> de ${r.ssrInterpolate(a.unref(h).sesiones_totales)} sesiones disponibles </div></div><div class="space-y-2" data-v-b6f0a7f2><div class="flex justify-between text-sm" data-v-b6f0a7f2><span class="text-cafe/70" data-v-b6f0a7f2>Progreso</span><span class="font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(h).porcentaje_uso)}%</span></div><div class="w-full bg-gray-200 rounded-full h-2.5" data-v-b6f0a7f2><div class="h-2.5 rounded-full bg-gradient-to-r from-purple-600 to-rosa transition-all" style="${r.ssrRenderStyle({width:`${a.unref(h).porcentaje_uso}%`})}" data-v-b6f0a7f2></div></div></div><div class="pt-3 border-t space-y-2 text-sm" data-v-b6f0a7f2><div class="flex justify-between" data-v-b6f0a7f2><span class="text-cafe/70" data-v-b6f0a7f2>Sesiones usadas:</span><span class="font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(h).sesiones_usadas)}</span></div><div class="flex justify-between" data-v-b6f0a7f2><span class="text-cafe/70" data-v-b6f0a7f2>Monto total:</span><span class="font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearPrecio(a.unref(h).monto_total||a.unref(h).precio))}</span></div><div class="flex justify-between" data-v-b6f0a7f2><span class="text-cafe/70" data-v-b6f0a7f2>Precio por sesiÃ³n:</span><span class="font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearPrecio(a.unref(h).precio_por_sesion||(a.unref(h).monto_total||a.unref(h).precio)/a.unref(h).sesiones_totales))}</span></div><div class="flex justify-between" data-v-b6f0a7f2><span class="text-cafe/70" data-v-b6f0a7f2>Estado:</span><span class="${r.ssrRenderClass([{"text-green-600":"activo"===a.unref(h).estado,"text-yellow-600":"pendiente"===a.unref(h).estado,"text-gray-600":"vencido"===a.unref(h).estado},"font-medium capitalize"])}" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(h).estado)}</span></div></div></div>`):t(`<div class="text-center py-8" data-v-b6f0a7f2><span class="text-5xl mb-3 block opacity-40" data-v-b6f0a7f2>ğŸ«</span><p class="text-sm text-cafe/50 mb-2" data-v-b6f0a7f2>No hay bono activo</p><p class="text-xs text-cafe/40 mb-4" data-v-b6f0a7f2> Tipo de bono del paciente: <strong data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(K)||"No definido")}</strong></p><button class="mt-2 text-sm text-purple-600 hover:text-cafe transition-colors font-medium" data-v-b6f0a7f2> Gestionar bonos â†’ </button></div>`),t(`</div><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2 mb-4" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ“‹</span> Datos del Proceso </h2><div class="space-y-3" data-v-b6f0a7f2><div class="p-3 bg-base-bg rounded-lg" data-v-b6f0a7f2><div class="text-xs text-cafe/60 mb-1" data-v-b6f0a7f2>Primera sesiÃ³n</div><div class="text-sm font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.unref(V))||"Sin registro")}</div></div><div class="p-3 bg-base-bg rounded-lg" data-v-b6f0a7f2><div class="text-xs text-cafe/60 mb-1" data-v-b6f0a7f2>Ãšltima sesiÃ³n</div><div class="text-sm font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.unref(U))||"Sin registro")}</div></div>`),a.unref(W)?(t(`<div class="p-4 bg-gradient-to-br from-purple-600/20 to-rosa/20 border-2 border-purple-600/40 rounded-lg" data-v-b6f0a7f2><div class="text-xs font-medium text-purple-600 mb-2 flex items-center gap-1" data-v-b6f0a7f2><span data-v-b6f0a7f2>ğŸ“…</span><span data-v-b6f0a7f2>PrÃ³xima sesiÃ³n agendada</span></div><div class="text-base font-bold text-cafe mb-3" data-v-b6f0a7f2>${r.ssrInterpolate(((a,e)=>{if(!a)return"";try{return new Date(a+"T"+(e||"00:00:00")).toLocaleString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return a}})(a.unref(W).fecha_cita,a.unref(W).hora_inicio))}</div><div class="flex items-center gap-2 flex-wrap" data-v-b6f0a7f2><span class="text-xs px-3 py-1.5 bg-white border border-purple-600/30 rounded-full font-medium flex items-center gap-1" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(a.unref(W).modalidad))} ${r.ssrInterpolate(a.unref(W).modalidad)}</span><span class="${r.ssrRenderClass([{"text-green-600 border-green-300":"confirmada"===a.unref(W).estado,"text-yellow-600 border-yellow-300":"pendiente"===a.unref(W).estado,"text-blue-600 border-blue-300":"programada"===a.unref(W).estado},"text-xs px-3 py-1.5 bg-white border border-purple-600/30 rounded-full capitalize font-medium"])}" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(W).estado)}</span></div>`),a.unref(W).notas?t(`<div class="mt-3 pt-3 border-t border-purple-600/20" data-v-b6f0a7f2><div class="text-xs text-cafe/70 mb-1" data-v-b6f0a7f2>Notas:</div><div class="text-xs text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(W).notas)}</div></div>`):t("\x3c!----\x3e"),t("</div>")):t('<div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg" data-v-b6f0a7f2><div class="text-center" data-v-b6f0a7f2><span class="text-3xl mb-2 block" data-v-b6f0a7f2>â°</span><div class="text-sm font-medium text-yellow-800 mb-1" data-v-b6f0a7f2>No hay sesiÃ³n agendada</div><div class="text-xs text-yellow-700" data-v-b6f0a7f2>Recuerda agendar la prÃ³xima sesiÃ³n</div><button class="mt-3 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors text-xs font-medium" data-v-b6f0a7f2> Agendar ahora </button></div></div>'),t(`<div class="p-3 bg-base-bg rounded-lg" data-v-b6f0a7f2><div class="text-xs text-cafe/60 mb-1" data-v-b6f0a7f2>En proceso desde</div><div class="text-sm font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate((a=>{if(!a)return"";const e=new Date(a),t=new Date,s=Math.floor((t.getTime()-e.getTime())/864e5);return s<30?`${s} dÃ­as`:s<365?`${Math.floor(s/30)} meses`:`${Math.floor(s/365)} aÃ±os`})(a.unref(g).created_at))}</div></div></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6" data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><div class="flex items-center justify-between mb-4" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ“Š</span> Sesiones </h2><select class="px-3 py-1.5 text-sm border border-purple-200 rounded-lg bg-white text-cafe focus:ring-2 focus:ring-purple-500 focus:border-purple-500" data-v-b6f0a7f2>\x3c!--[--\x3e`),r.ssrRenderList(a.unref(R),e=>{t(`<option${r.ssrRenderAttr("value",e)} data-v-b6f0a7f2${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(C))?r.ssrLooseContain(a.unref(C),e):r.ssrLooseEqual(a.unref(C),e))?" selected":""}>${r.ssrInterpolate(e)}</option>`)}),t(`\x3c!--]--\x3e</select></div><div class="grid grid-cols-2 gap-3" data-v-b6f0a7f2><div class="p-3 bg-gradient-to-br from-purple-50 to-rosa/20 rounded-lg text-center" data-v-b6f0a7f2><div class="text-3xl font-bold text-purple-600" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(F).total)}</div><div class="text-xs text-cafe/70" data-v-b6f0a7f2>Total</div></div><div class="p-3 bg-red-50 rounded-lg text-center" data-v-b6f0a7f2><div class="text-3xl font-bold text-red-500" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(F).canceladas)}</div><div class="text-xs text-cafe/70" data-v-b6f0a7f2>Cancelaciones</div></div><div class="p-3 bg-yellow-50 rounded-lg text-center" data-v-b6f0a7f2><div class="text-2xl font-bold text-yellow-600" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(F).programadas)}</div><div class="text-xs text-cafe/70" data-v-b6f0a7f2>Programadas</div></div><div class="p-3 bg-green-50 rounded-lg text-center" data-v-b6f0a7f2><div class="text-2xl font-bold text-green-600" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(F).realizadas)}</div><div class="text-xs text-cafe/70" data-v-b6f0a7f2>Realizadas</div></div></div></div><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><div class="flex items-center justify-between mb-4" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ’³</span> Deuda </h2><select class="px-3 py-1.5 text-sm border border-purple-200 rounded-lg bg-white text-cafe focus:ring-2 focus:ring-purple-500 focus:border-purple-500" data-v-b6f0a7f2>\x3c!--[--\x3e`),r.ssrRenderList(a.unref(R),e=>{t(`<option${r.ssrRenderAttr("value",e)} data-v-b6f0a7f2${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(j))?r.ssrLooseContain(a.unref(j),e):r.ssrLooseEqual(a.unref(j),e))?" selected":""}>${r.ssrInterpolate(e)}</option>`)}),t(`\x3c!--]--\x3e</select></div><div class="${r.ssrRenderClass([a.unref(H).haDeuda?"bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-200":"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200","p-6 rounded-xl text-center"])}" data-v-b6f0a7f2>`),a.unref(H).haDeuda?t(`<div data-v-b6f0a7f2><div class="text-4xl font-bold text-red-600 mb-2" data-v-b6f0a7f2>${r.ssrInterpolate(formatearPrecio(a.unref(H).totalPendiente))}</div><div class="text-sm text-red-700" data-v-b6f0a7f2>Pendiente de cobro</div><div class="text-xs text-red-500 mt-1" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(H).cantidadPendientes)} sesiÃ³n(es) sin cobrar</div></div>`):t('<div data-v-b6f0a7f2><div class="text-4xl mb-2" data-v-b6f0a7f2>âœ…</div><div class="text-lg font-semibold text-green-700" data-v-b6f0a7f2>Sin deuda</div><div class="text-sm text-green-600" data-v-b6f0a7f2>Todos los pagos al dÃ­a</div></div>'),t(`</div></div></div><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300 mb-6" data-v-b6f0a7f2><div class="flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-4" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ“‹</span> Historial de Sesiones </h2><div class="flex items-center gap-3 flex-wrap" data-v-b6f0a7f2><div class="flex items-center gap-2" data-v-b6f0a7f2><label class="text-sm text-cafe/70" data-v-b6f0a7f2>Desde:</label><input${r.ssrRenderAttr("value",a.unref(D))} type="date" class="px-3 py-1.5 text-sm border border-purple-200 rounded-lg bg-white text-cafe focus:ring-2 focus:ring-purple-500" data-v-b6f0a7f2></div><div class="flex items-center gap-2" data-v-b6f0a7f2><label class="text-sm text-cafe/70" data-v-b6f0a7f2>Hasta:</label><input${r.ssrRenderAttr("value",a.unref(S))} type="date" class="px-3 py-1.5 text-sm border border-purple-200 rounded-lg bg-white text-cafe focus:ring-2 focus:ring-purple-500" data-v-b6f0a7f2></div>`),a.unref(D)||a.unref(S)?t('<button class="px-3 py-1.5 text-sm text-purple-600 hover:text-purple-800 transition-colors" data-v-b6f0a7f2> Limpiar filtros </button>'):t("\x3c!----\x3e"),t("</div></div>"),a.unref(G).length>0?(t('<div class="overflow-x-auto" data-v-b6f0a7f2><table class="w-full text-sm" data-v-b6f0a7f2><thead data-v-b6f0a7f2><tr class="bg-gradient-to-r from-purple-50 to-rosa/20 text-cafe" data-v-b6f0a7f2><th class="px-4 py-3 text-left font-semibold rounded-tl-lg" data-v-b6f0a7f2>#</th><th class="px-4 py-3 text-left font-semibold" data-v-b6f0a7f2>Fecha</th><th class="px-4 py-3 text-left font-semibold" data-v-b6f0a7f2>Modalidad</th><th class="px-4 py-3 text-left font-semibold" data-v-b6f0a7f2>Estado</th><th class="px-4 py-3 text-right font-semibold" data-v-b6f0a7f2>Precio</th><th class="px-4 py-3 text-left font-semibold rounded-tr-lg" data-v-b6f0a7f2>Pago</th></tr></thead><tbody data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(G),(e,s)=>{t(`<tr class="border-b border-gray-100 hover:bg-rosa/10 transition-colors" data-v-b6f0a7f2><td class="px-4 py-3 text-cafe/60" data-v-b6f0a7f2>${r.ssrInterpolate(a.unref(G).length-s)}</td><td class="px-4 py-3" data-v-b6f0a7f2><div class="font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(e.fecha_cita))}</div><div class="text-xs text-cafe/60" data-v-b6f0a7f2>${r.ssrInterpolate(e.hora_inicio)} - ${r.ssrInterpolate(e.hora_fin)}</div></td><td class="px-4 py-3" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloModalidad(e.modalidad),"inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(e.modalidad))} ${r.ssrInterpolate(e.modalidad)}</span></td><td class="px-4 py-3" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloEstado(e.estado),"px-2 py-1 text-xs rounded-full capitalize"])}" data-v-b6f0a7f2>${r.ssrInterpolate(e.estado)}</span></td><td class="px-4 py-3 text-right font-medium text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearPrecio(e.precio_sesion||0))}</td><td class="px-4 py-3" data-v-b6f0a7f2>`),e.pagado?t('<span class="inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-green-100 text-green-700" data-v-b6f0a7f2> âœ“ Pagado </span>'):"realizada"===e.estado?t('<span class="inline-flex items-center gap-1 px-2 py-1 text-xs rounded-full bg-red-100 text-red-700" data-v-b6f0a7f2> â³ Pendiente </span>'):t('<span class="text-xs text-cafe/50" data-v-b6f0a7f2> - </span>'),t("</td></tr>")}),t("\x3c!--]--\x3e</tbody></table></div>")):t('<div class="text-center py-12" data-v-b6f0a7f2><span class="text-5xl mb-3 block opacity-40" data-v-b6f0a7f2>ğŸ“‹</span><p class="text-cafe/60" data-v-b6f0a7f2>No hay sesiones en el perÃ­odo seleccionado</p></div>'),t('</div><div class="mb-6" data-v-b6f0a7f2><div class="border-b border-gray-200" data-v-b6f0a7f2><nav class="-mb-px flex space-x-8 overflow-x-auto" data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(T),e=>{t(`<button class="${r.ssrRenderClass([a.unref(P)===e.id?"border-purple-600 text-purple-600":"border-transparent text-cafe/60 hover:text-cafe hover:border-gray-300","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors"])}" data-v-b6f0a7f2><span class="mr-2" data-v-b6f0a7f2>${r.ssrInterpolate(e.icono)}</span><span data-v-b6f0a7f2>${r.ssrInterpolate(e.nombre)}</span>`),e.badge?t(`<span class="ml-2 px-2 py-0.5 text-xs rounded-full bg-purple-600 text-white" data-v-b6f0a7f2>${r.ssrInterpolate(e.badge)}</span>`):t("\x3c!----\x3e"),t("</button>")}),t('\x3c!--]--\x3e</nav></div></div><div class="space-y-6" data-v-b6f0a7f2>'),"proximas"===a.unref(P)?(t('<div data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><div class="flex items-center justify-between mb-4" data-v-b6f0a7f2><h3 class="text-lg font-serif font-semibold text-cafe" data-v-b6f0a7f2>PrÃ³ximas Sesiones Agendadas</h3><button class="text-sm text-purple-600 hover:text-cafe transition-colors" data-v-b6f0a7f2> + Nueva sesiÃ³n </button></div>'),a.unref(k).length>0?(t('<div class="space-y-3" data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(k),a=>{t(`<div class="p-4 bg-base-bg rounded-lg hover:bg-rosa/20 transition-colors" data-v-b6f0a7f2><div class="flex items-start justify-between gap-4" data-v-b6f0a7f2><div class="flex-1" data-v-b6f0a7f2><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="text-lg font-semibold text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.fecha_cita))}</span><span class="text-base font-medium text-purple-600" data-v-b6f0a7f2>${r.ssrInterpolate(a.hora_inicio)} - ${r.ssrInterpolate(a.hora_fin)}</span></div><div class="flex flex-wrap items-center gap-2 mb-2" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloModalidad(a.modalidad),"px-2 py-0.5 text-xs rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(a.modalidad))} ${r.ssrInterpolate(a.modalidad)}</span><span class="${r.ssrRenderClass([obtenerEstiloEstado(a.estado),"px-2 py-0.5 text-xs rounded-full capitalize"])}" data-v-b6f0a7f2>${r.ssrInterpolate(a.estado)}</span></div>`),a.observaciones?t(`<p class="text-sm text-cafe/60 mt-2" data-v-b6f0a7f2>${r.ssrInterpolate(a.observaciones)}</p>`):t("\x3c!----\x3e"),t('</div><button class="px-3 py-1.5 text-sm bg-white border border-purple-600/30 text-purple-600 hover:bg-purple-600 hover:text-white rounded-lg transition-colors" data-v-b6f0a7f2> Ver detalles </button></div></div>')}),t("\x3c!--]--\x3e</div>")):t('<div class="text-center py-12" data-v-b6f0a7f2><span class="text-6xl mb-3 block opacity-40" data-v-b6f0a7f2>ğŸ“…</span><p class="text-cafe/60 mb-4" data-v-b6f0a7f2>No hay sesiones prÃ³ximas agendadas</p><button class="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-600/90 transition-colors" data-v-b6f0a7f2> Agendar primera sesiÃ³n </button></div>'),t("</div></div>")):t("\x3c!----\x3e"),"completadas"===a.unref(P)?(t('<div data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h3 class="text-lg font-serif font-semibold text-cafe mb-4" data-v-b6f0a7f2>Historial de Sesiones Completadas</h3>'),a.unref(L).length>0?(t('<div class="space-y-3" data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(L),a=>{t(`<div class="p-4 bg-base-bg rounded-lg hover:bg-rosa/20 transition-colors" data-v-b6f0a7f2><div class="flex items-start justify-between gap-4" data-v-b6f0a7f2><div class="flex-1" data-v-b6f0a7f2><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="text-base font-semibold text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.fecha_cita))}</span><span class="text-sm text-cafe/60" data-v-b6f0a7f2>${r.ssrInterpolate(a.hora_inicio)} - ${r.ssrInterpolate(a.hora_fin)}</span><span class="px-2 py-0.5 text-xs rounded-full bg-blue-100 text-blue-700" data-v-b6f0a7f2> âœ“ Realizada </span></div><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloModalidad(a.modalidad),"px-2 py-0.5 text-xs rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(a.modalidad))} ${r.ssrInterpolate(a.modalidad)}</span></div>`),a.notas_terapeuta?t(`<p class="text-sm text-cafe/70 mt-2 bg-white p-3 rounded-lg border border-gray-100" data-v-b6f0a7f2><strong class="text-cafe" data-v-b6f0a7f2>Notas:</strong> ${r.ssrInterpolate(a.notas_terapeuta)}</p>`):a.observaciones?t(`<p class="text-sm text-cafe/60 mt-2" data-v-b6f0a7f2>${r.ssrInterpolate(a.observaciones)}</p>`):t("\x3c!----\x3e"),t("</div></div></div>")}),t("\x3c!--]--\x3e</div>")):t('<div class="text-center py-12" data-v-b6f0a7f2><span class="text-6xl mb-3 block opacity-40" data-v-b6f0a7f2>ğŸ“</span><p class="text-cafe/60" data-v-b6f0a7f2>AÃºn no hay sesiones completadas</p></div>'),t("</div></div>")):t("\x3c!----\x3e"),"pendientes"===a.unref(P)?(t('<div data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h3 class="text-lg font-serif font-semibold text-cafe mb-4" data-v-b6f0a7f2>Sesiones Pendientes de ConfirmaciÃ³n</h3>'),a.unref(N).length>0?(t('<div class="space-y-3" data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(N),a=>{t(`<div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg" data-v-b6f0a7f2><div class="flex items-start justify-between gap-4" data-v-b6f0a7f2><div class="flex-1" data-v-b6f0a7f2><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="text-lg" data-v-b6f0a7f2>â³</span><span class="text-base font-semibold text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.fecha_cita))}</span><span class="text-base font-medium text-purple-600" data-v-b6f0a7f2>${r.ssrInterpolate(a.hora_inicio)} - ${r.ssrInterpolate(a.hora_fin)}</span></div><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloModalidad(a.modalidad),"px-2 py-0.5 text-xs rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(a.modalidad))} ${r.ssrInterpolate(a.modalidad)}</span><span class="px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-700" data-v-b6f0a7f2> Pendiente de confirmar </span></div>`),a.observaciones?t(`<p class="text-sm text-cafe/60 mt-2" data-v-b6f0a7f2>${r.ssrInterpolate(a.observaciones)}</p>`):t("\x3c!----\x3e"),t('</div><div class="flex gap-2" data-v-b6f0a7f2><button class="px-3 py-1.5 text-sm bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors" data-v-b6f0a7f2> âœ“ Confirmar </button><button class="px-3 py-1.5 text-sm bg-white border border-purple-600/30 text-purple-600 hover:bg-purple-600 hover:text-white rounded-lg transition-colors" data-v-b6f0a7f2> Ver </button></div></div></div>')}),t("\x3c!--]--\x3e</div>")):t('<div class="text-center py-12" data-v-b6f0a7f2><span class="text-6xl mb-3 block opacity-40" data-v-b6f0a7f2>âœ…</span><p class="text-cafe/60" data-v-b6f0a7f2>No hay sesiones pendientes de confirmaciÃ³n</p></div>'),t("</div></div>")):t("\x3c!----\x3e"),"anteriores"===a.unref(P)?(t('<div data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h3 class="text-lg font-serif font-semibold text-cafe mb-4" data-v-b6f0a7f2> Historial Completo de Sesiones </h3>'),a.unref(q).length>0?(t('<div class="space-y-3" data-v-b6f0a7f2>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(q),a=>{t(`<div class="p-4 bg-base-bg rounded-lg hover:bg-rosa/20 transition-colors" data-v-b6f0a7f2><div class="flex items-start justify-between gap-4" data-v-b6f0a7f2><div class="flex-1" data-v-b6f0a7f2><div class="flex items-center gap-2 mb-2" data-v-b6f0a7f2><span class="text-base font-semibold text-cafe" data-v-b6f0a7f2>${r.ssrInterpolate(formatearFecha(a.fecha_cita))}</span><span class="text-sm text-cafe/60" data-v-b6f0a7f2>${r.ssrInterpolate(a.hora_inicio)} - ${r.ssrInterpolate(a.hora_fin)}</span></div><div class="flex flex-wrap items-center gap-2" data-v-b6f0a7f2><span class="${r.ssrRenderClass([obtenerEstiloModalidad(a.modalidad),"px-2 py-0.5 text-xs rounded-full"])}" data-v-b6f0a7f2>${r.ssrInterpolate(obtenerIconoModalidad(a.modalidad))} ${r.ssrInterpolate(a.modalidad)}</span><span class="${r.ssrRenderClass([obtenerEstiloEstado(a.estado),"px-2 py-0.5 text-xs rounded-full capitalize"])}" data-v-b6f0a7f2>${r.ssrInterpolate(a.estado)}</span></div></div></div></div>`)}),t("\x3c!--]--\x3e</div>")):t('<div class="text-center py-12" data-v-b6f0a7f2><span class="text-6xl mb-3 block opacity-40" data-v-b6f0a7f2>ğŸ“š</span><p class="text-cafe/60" data-v-b6f0a7f2>No hay sesiones registradas</p></div>'),t("</div></div>")):t("\x3c!----\x3e"),t('</div><div class="mt-6" data-v-b6f0a7f2><div class="bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300" data-v-b6f0a7f2><h2 class="font-serif text-xl font-semibold text-cafe flex items-center gap-2 mb-4" data-v-b6f0a7f2><span class="text-2xl" data-v-b6f0a7f2>ğŸ“</span> Notas ClÃ­nicas Privadas </h2>'),t(r.ssrRenderComponent(l,{"paciente-id":a.unref(u),contenido:a.unref(y),"ultima-actualizacion":a.unref($)||void 0,onGuardar:guardarNotas},null,s)),t("</div></div></div>")):t("\x3c!----\x3e"),t(r.ssrRenderComponent(i,{mostrar:a.unref(A),"paciente-preseleccionado":a.unref(E),onCerrar:cerrarModalCita,onCitaCreada:onCitaCreada},null,s)),t(r.ssrRenderComponent(f,{"is-open":a.unref(z),"cita-id":a.unref(B),onClose:cerrarModalDetalles},null,s)),t("</div>")}}}),b=v.setup;v.setup=(e,t)=>{const s=a.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/terapeuta/pacientes/[id].vue"),b?b(e,t):void 0};const u=d(v,[["__scopeId","data-v-b6f0a7f2"]]);export{u as default};
//# sourceMappingURL=_id_-LROQNAnc.mjs.map
