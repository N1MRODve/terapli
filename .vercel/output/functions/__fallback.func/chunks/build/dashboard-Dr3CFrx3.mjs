import{v as e,a as t,f as a,s,n as r}from"./server.mjs";import{u as o}from"./useSupabaseClient-DykwVqLQ.mjs";import{_ as n}from"./nuxt-link-C_f1d2Rj.mjs";import{M as i,u as d}from"./ModalDetallesCita-BQfwiaUH.mjs";import{_ as l}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index2.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";import"./useSupabase-COsu_foS.mjs";import"./PaymentMethodSelector-B6WAV7CR.mjs";import"./useToast-CW-71pJZ.mjs";import"./ModalNuevoBono-C-simKwt.mjs";import"./useBonos-I7-Zi1mD.mjs";import"./XMarkIcon-DCLwyE-W.mjs";import"./CheckCircleIcon-CT9fzVFs.mjs";import"./PencilIcon-BKWXEWgS.mjs";import"./PhoneIcon-acGzPaDV.mjs";import"./CalendarDaysIcon-f8DhK37e.mjs";import"./ClockIcon-BxdFtPqx.mjs";import"./TicketIcon-zZdrc71S.mjs";import"./ChevronDownIcon-CvdhRGll.mjs";import"./ExclamationTriangleIcon-DQdM2y0F.mjs";import"./PlusIcon-CHLzv-V9.mjs";const c=e.defineComponent({__name:"SearchBar",__ssrInlineRender:!0,emits:["abrir-cita"],setup(a,{emit:r}){o(),t();const n=e.ref(""),i=e.ref(!1),d=e.ref(!1);e.ref(null);const l=e.ref({pacientes:[],sesionesProximas:[],sesionesPasadas:[],bonos:[],pagos:[]}),c=e.computed(()=>l.value.pacientes.length+l.value.sesionesProximas.length+l.value.sesionesPasadas.length+l.value.bonos.length+l.value.pagos.length),p=e.computed(()=>c.value>0),formatearFecha=e=>new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"short"});return(t,a,r,o)=>{a(`<div${s.ssrRenderAttrs(e.mergeProps({class:"search-container relative w-full max-w-xl"},o))}><div class="relative"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="${s.ssrRenderClass(["w-5 h-5 transition-colors",e.unref(d)?"text-violet-500 animate-pulse":"text-gray-400"])}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input${s.ssrRenderAttr("value",e.unref(n))} type="text" placeholder="Buscar paciente, sesión o bono..." class="w-full pl-10 pr-4 py-2.5 text-sm bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent placeholder-gray-400 transition-all">`),e.unref(d)?a('<div class="absolute inset-y-0 right-0 pr-3 flex items-center"><div class="w-4 h-4 border-2 border-gray-200 border-t-violet-500 rounded-full animate-spin"></div></div>'):a("\x3c!----\x3e"),a("</div>"),e.unref(i)&&e.unref(n).length>=2?(a('<div class="absolute z-50 mt-2 w-full bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden max-h-[70vh] overflow-y-auto">'),e.unref(d)||e.unref(p)?(a("<div>"),e.unref(l).pacientes.length>0?(a('<div class="border-b border-gray-100"><div class="px-4 py-2 bg-gray-50"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Pacientes</span></div>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(l).pacientes,e=>{a(`<button class="w-full flex items-center gap-3 px-4 py-3 hover:bg-violet-50 transition-colors text-left"><div class="w-8 h-8 rounded-full bg-violet-100 flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-violet-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 truncate">${s.ssrInterpolate(e.nombre)}</p>`),e.email?a(`<p class="text-xs text-gray-500 truncate">${s.ssrInterpolate(e.email)}</p>`):a("\x3c!----\x3e"),a('</div><span class="text-xs text-violet-600 font-medium">Ver ficha</span></button>')}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),e.unref(l).sesionesProximas.length>0?(a('<div class="border-b border-gray-100"><div class="px-4 py-2 bg-gray-50"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Sesiones próximas</span></div>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(l).sesionesProximas,e=>{a(`<button class="w-full flex items-center gap-3 px-4 py-3 hover:bg-violet-50 transition-colors text-left"><div class="w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 truncate">${s.ssrInterpolate(e.paciente)}</p><p class="text-xs text-gray-500">${s.ssrInterpolate(formatearFecha(e.fecha))} · ${s.ssrInterpolate(e.hora)}</p></div><span class="text-xs text-emerald-600 font-medium">Ver cita</span></button>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),e.unref(l).sesionesPasadas.length>0?(a('<div class="border-b border-gray-100"><div class="px-4 py-2 bg-gray-50"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Sesiones pasadas</span></div>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(l).sesionesPasadas,e=>{a(`<button class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left"><div class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 truncate">${s.ssrInterpolate(e.paciente)}</p><p class="text-xs text-gray-500">${s.ssrInterpolate(formatearFecha(e.fecha))} · ${s.ssrInterpolate(e.hora)}</p></div><span class="text-xs text-gray-500 font-medium">Ver historial</span></button>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),e.unref(l).bonos.length>0?(a('<div><div class="px-4 py-2 bg-gray-50"><span class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Bonos</span></div>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(l).bonos,e=>{a(`<button class="w-full flex items-center gap-3 px-4 py-3 hover:bg-amber-50 transition-colors text-left"><div class="w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"></path></svg></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 truncate">${s.ssrInterpolate(e.paciente)}</p><p class="text-xs text-gray-500">${s.ssrInterpolate(e.tipo)} · ${s.ssrInterpolate(e.sesionesRestantes)} sesiones restantes</p></div><span class="text-xs text-amber-600 font-medium">Ver bono</span></button>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),a("</div>")):a(`<div class="p-4 text-center text-gray-500"><svg class="w-8 h-8 mx-auto text-gray-300 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class="text-sm">No se encontraron resultados para &quot;${s.ssrInterpolate(e.unref(n))}&quot;</p></div>`),a(`<div class="px-4 py-2 bg-gray-50 border-t border-gray-100 flex items-center justify-between"><span class="text-xs text-gray-400">${s.ssrInterpolate(e.unref(c))} resultado${s.ssrInterpolate(1!==e.unref(c)?"s":"")}</span><span class="text-xs text-gray-400">ESC para cerrar</span></div></div>`)):a("\x3c!----\x3e"),a("</div>")}}}),p=c.setup;c.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/dashboard/SearchBar.vue"),p?p(t,a):void 0};const u=Object.assign(c,{__name:"DashboardSearchBar"}),v=e.defineComponent({__name:"SessionCard",__ssrInlineRender:!0,props:{id:{},fecha:{},hora:{},pacienteNombre:{},modalidad:{},estado:{},isNext:{type:Boolean}},emits:["click","confirmar","registrar-pago"],setup(t,{emit:a}){const r=t,o=e.computed(()=>{if(!r.fecha)return!1;const e=(new Date).toISOString().split("T")[0];return r.fecha===e}),n=e.computed(()=>{if(!r.fecha||!r.hora)return!1;const e=new Date;return new Date(`${r.fecha}T${r.hora}:00`)<e}),i=e.computed(()=>n.value||"realizada"===r.estado||"completada"===r.estado),d={presencial:{label:"Presencial",icon:"location"},online:{label:"Online",icon:"video"},virtual:{label:"Online",icon:"video"},telefonica:{label:"Teléfono",icon:"phone"}},l=e.computed(()=>d[r.modalidad]||d.presencial),c=e.computed(()=>{switch(r.estado){case"confirmada":return{label:"Confirmada",color:"text-emerald-600",bg:"bg-emerald-50"};case"pendiente":return{label:"Pendiente",color:"text-amber-600",bg:"bg-amber-50"};case"realizada":case"completada":return{label:"Realizada",color:"text-blue-600",bg:"bg-blue-50"};case"cancelada":return{label:"Cancelada",color:"text-gray-400",bg:"bg-gray-50"};default:return{label:r.estado,color:"text-gray-500",bg:"bg-gray-50"}}});return(a,r,n,d)=>{r(`<div${s.ssrRenderAttrs(e.mergeProps({class:["relative flex items-stretch gap-0 bg-white rounded-xl border cursor-pointer transition-all duration-200 hover:shadow-md group overflow-hidden",[t.isNext?"border-violet-200 ring-1 ring-violet-100":"border-gray-200","cancelada"===t.estado?"opacity-60":""]]},d))}><div class="${s.ssrRenderClass([e.unref(o)?"bg-violet-50":"bg-gray-50","flex-shrink-0 w-24 flex flex-col items-center justify-center py-4 px-3"])}"><span class="${s.ssrRenderClass([e.unref(o)?"text-violet-700":"text-gray-800","text-2xl font-bold tracking-tight"])}">${s.ssrInterpolate(t.hora)}</span>`),e.unref(o)?r('<span class="text-[10px] font-semibold uppercase tracking-wider text-violet-500 mt-0.5"> Hoy </span>'):r("\x3c!----\x3e"),r(`</div><div class="flex-1 flex items-center justify-between py-3 px-4 min-w-0"><div class="min-w-0"><p class="text-base font-semibold text-gray-900 truncate mb-1">${s.ssrInterpolate(t.pacienteNombre)}</p><div class="flex items-center gap-2 text-sm"><span class="inline-flex items-center gap-1 text-gray-500">`),"location"===e.unref(l).icon?r('<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>'):"video"===e.unref(l).icon?r('<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg>'):"phone"===e.unref(l).icon?r('<svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>'):r("\x3c!----\x3e"),r(`<span>${s.ssrInterpolate(e.unref(l).label)}</span></span><span class="text-gray-300">·</span><span class="${s.ssrRenderClass([[e.unref(c).color,e.unref(c).bg],"inline-flex items-center gap-1 text-xs font-medium px-1.5 py-0.5 rounded"])}">`),"confirmada"===t.estado?r('<svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>'):r("\x3c!----\x3e"),r(` ${s.ssrInterpolate(e.unref(c).label)}</span></div></div><div class="flex items-center gap-2 ml-3">`),"pendiente"===t.estado?r('<button class="px-3 py-1.5 text-xs font-semibold bg-violet-600 text-white rounded-lg hover:bg-violet-700 transition-colors" title="Confirmar cita"> Confirmar </button>'):r("\x3c!----\x3e"),e.unref(i)&&"cancelada"!==t.estado?r('<button class="px-3 py-1.5 text-xs font-semibold border border-emerald-500 text-emerald-600 rounded-lg hover:bg-emerald-50 transition-colors" title="Registrar pago"> Registrar pago </button>'):r("\x3c!----\x3e"),r('<button class="px-3 py-1.5 text-xs font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors" title="Ver detalles"> Ver detalles </button></div></div>'),t.isNext?r('<div class="absolute top-0 left-0 w-1 h-full bg-violet-500"></div>'):r("\x3c!----\x3e"),r("</div>")}}}),m=v.setup;v.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/dashboard/SessionCard.vue"),m?m(t,a):void 0};const x=Object.assign(v,{__name:"DashboardSessionCard"}),g=e.defineComponent({__name:"PaymentsTodayCard",__ssrInlineRender:!0,emits:["abrirCita","cobrar"],setup(t,{expose:a,emit:r}){const{getPaymentsOfDay:o,loading:n,resumenDia:i}=d(),l=e.ref(!1),c=e.ref(!1),p=e.computed(()=>{const e=i.value.pagos;return l.value?e:e.slice(0,3)}),u=e.computed(()=>c.value?i.value.pendientes:i.value.pendientes.slice(0,4));return e.computed(()=>(new Date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),e.computed(()=>{const e=i.value.porMetodo;return Object.entries(e).filter(([e,t])=>t.cantidad>0).map(([e,t])=>({metodo:e,...t}))}),a({refrescar:async function(){await o()}}),(t,a,r,o)=>{a(`<div${s.ssrRenderAttrs(e.mergeProps({class:"bg-white rounded-lg border border-gray-200 overflow-hidden"},o))}><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center"><svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><h2 class="text-lg font-semibold text-gray-900">Pagos de hoy</h2><p class="text-sm text-gray-500">${s.ssrInterpolate(e.unref(i).cantidadPagos)} ${s.ssrInterpolate(1===e.unref(i).cantidadPagos?"pago registrado":"pagos registrados")} hoy </p></div></div><button${s.ssrIncludeBooleanAttr(e.unref(n))?" disabled":""} class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors disabled:opacity-50" title="Actualizar"><svg class="${s.ssrRenderClass(["w-4 h-4",e.unref(n)&&"animate-spin"])}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div><div class="p-4">`),e.unref(n)?a('<div class="flex flex-col items-center justify-center py-8"><div class="w-8 h-8 border-2 border-gray-200 border-t-emerald-600 rounded-full animate-spin mb-2"></div><p class="text-sm text-gray-500">Cargando pagos...</p></div>'):(a("\x3c!--[--\x3e"),e.unref(i).pendientes.length>0?(a(`<div class="mb-5"><div class="flex items-center gap-2 mb-3"><div class="w-2 h-2 rounded-full bg-amber-500"></div><h3 class="text-base font-semibold text-gray-900"> Pendientes de cobro (${s.ssrInterpolate(e.unref(i).pendientes.length)}) </h3></div><div class="space-y-2">\x3c!--[--\x3e`),s.ssrRenderList(e.unref(u),e=>{a(`<div class="bg-amber-50 border border-amber-200 rounded-xl p-3"><div class="flex items-center justify-between mb-2"><p class="text-sm font-medium text-gray-900">${s.ssrInterpolate(e.paciente_nombre)} <span class="text-gray-400 font-normal">·</span> ${s.ssrInterpolate(e.hora_inicio?.substring(0,5)||"--:--")}</p></div><div class="flex items-center justify-between"><p class="text-2xl font-bold text-amber-700">${s.ssrInterpolate((e.precio_sesion||50).toFixed(2).replace(".",","))}€ </p><div class="flex items-center gap-2"><button class="text-sm text-gray-500 hover:text-gray-700 underline underline-offset-2 transition-colors"> Ver sesión </button><button class="px-4 py-1.5 bg-amber-600 hover:bg-amber-700 text-white text-sm font-semibold rounded-lg transition-colors"> Cobrar </button></div></div></div>`)}),a("\x3c!--]--\x3e"),e.unref(i).pendientes.length>4&&!e.unref(c)?a(`<button class="w-full py-2 text-sm font-medium text-amber-600 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors"> Ver ${s.ssrInterpolate(e.unref(i).pendientes.length-4)} más </button>`):a("\x3c!----\x3e"),a("</div></div>")):a('<div class="mb-5 p-4 bg-emerald-50 border border-emerald-200 rounded-xl text-center"><div class="flex items-center justify-center gap-2 text-emerald-700"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><p class="font-semibold">Al día</p></div><p class="text-sm text-emerald-600 mt-1">No tienes cobros pendientes hoy</p></div>'),e.unref(i).pagos.length>0?(a(`<div><div class="flex items-center justify-between mb-3"><h3 class="text-sm font-medium text-gray-500">Pagos registrados</h3><span class="text-sm font-semibold text-emerald-600">${s.ssrInterpolate(e.unref(i).total.toFixed(2).replace(".",","))}€</span></div><div class="space-y-1.5">\x3c!--[--\x3e`),s.ssrRenderList(e.unref(p),e=>{a(`<button class="w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-left"><div class="flex items-center gap-2"><svg class="w-4 h-4 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg><span class="text-sm text-gray-700">${s.ssrInterpolate(e.paciente_nombre)}</span><span class="text-xs text-gray-400">${s.ssrInterpolate(e.hora_inicio?.substring(0,5)||"")}</span></div><span class="text-sm font-medium text-gray-900">${s.ssrInterpolate((e.precio_sesion||0).toFixed(2).replace(".",","))}€</span></button>`)}),a("\x3c!--]--\x3e"),e.unref(i).pagos.length>3&&!e.unref(l)?a(`<button class="w-full py-2 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors"> Ver ${s.ssrInterpolate(e.unref(i).pagos.length-3)} más </button>`):a("\x3c!----\x3e"),a("</div></div>")):a("\x3c!----\x3e"),0===e.unref(i).pagos.length&&0===e.unref(i).pendientes.length?a('<div class="text-center py-6"><div class="w-14 h-14 rounded-full bg-emerald-50 flex items-center justify-center mx-auto mb-3"><svg class="w-7 h-7 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><p class="text-gray-700 font-medium mb-1">Sin movimientos hoy</p><p class="text-sm text-gray-400 max-w-[220px] mx-auto">Los cobros aparecerán aquí automáticamente cuando registres pagos en tus sesiones</p></div>'):a("\x3c!----\x3e"),a("\x3c!--]--\x3e")),a("</div></div>")}}}),f=g.setup;g.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/dashboard/PaymentsTodayCard.vue"),f?f(t,a):void 0};const h=Object.assign(g,{__name:"DashboardPaymentsTodayCard"}),b=e.defineComponent({__name:"PatientCard",__ssrInlineRender:!0,props:{id:{},nombre:{},ultimaSesion:{},proximaCita:{},sesionesUsadas:{},sesionesTotales:{},estadoBono:{}},emits:["click"],setup(t,{emit:a}){const r=t,o=e.computed(()=>{if(!r.nombre)return"?";const e=r.nombre.split(" ").filter(Boolean);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():e[0]?.substring(0,2).toUpperCase()||"?"}),n=e.computed(()=>r.sesionesTotales?r.sesionesTotales-(r.sesionesUsadas||0):0),i=e.computed(()=>r.sesionesTotales&&0!==r.sesionesTotales?Math.round((r.sesionesUsadas||0)/r.sesionesTotales*100):0),d=e.computed(()=>{if(!r.ultimaSesion)return"Sin actividad";const e=new Date(r.ultimaSesion),t=(new Date).getTime()-e.getTime(),a=Math.floor(t/864e5);return 0===a?"Hoy":1===a?"Ayer":a<7?`Hace ${a} días`:a<14?"Hace 1 semana":a<30?`Hace ${Math.floor(a/7)} semanas`:a<60?"Hace 1 mes":`Hace ${Math.floor(a/30)} meses`}),l=e.computed(()=>{if(!r.ultimaSesion)return"";return new Date(r.ultimaSesion).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),c=e.computed(()=>r.estadoBono&&"sin_bono"!==r.estadoBono?"agotado"===r.estadoBono?{texto:"Bono agotado",color:"text-red-500"}:"por_agotar"===r.estadoBono?{texto:`Bono activo · ${n.value}/${r.sesionesTotales}`,color:"text-amber-600"}:{texto:`Bono activo · ${n.value}/${r.sesionesTotales}`,color:"text-emerald-600"}:{texto:"Sin bono",color:"text-gray-400"}),p=e.computed(()=>"por_agotar"===r.estadoBono?"bg-amber-500":"agotado"===r.estadoBono?"bg-red-400":"activo"===r.estadoBono?"bg-emerald-500":"bg-gray-300");return(a,r,n,u)=>{r(`<div${s.ssrRenderAttrs(e.mergeProps({class:"flex items-center gap-3 p-3 bg-white rounded-xl border border-gray-100 cursor-pointer transition-all duration-200 hover:shadow-md hover:border-gray-200 group"},u))}><div class="flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-medium text-sm">${s.ssrInterpolate(e.unref(o))}</div><div class="flex-1 min-w-0"><p class="font-semibold text-gray-900 truncate text-sm">${s.ssrInterpolate(t.nombre)}</p><div class="flex items-center gap-2 mt-0.5"><span class="text-xs text-gray-500 flex items-center gap-1"${s.ssrRenderAttr("title",e.unref(l))}><svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> ${s.ssrInterpolate(e.unref(d))}</span></div><div class="flex items-center gap-2 mt-1.5"><span class="${s.ssrRenderClass([e.unref(c).color,"text-xs font-medium"])}">${s.ssrInterpolate(e.unref(c).texto)}</span>`),t.sesionesTotales&&t.sesionesTotales>0&&"sin_bono"!==t.estadoBono?r(`<div class="flex-1 max-w-16 h-1 bg-gray-100 rounded-full overflow-hidden"><div class="${s.ssrRenderClass([e.unref(p),"h-full rounded-full transition-all duration-300"])}" style="${s.ssrRenderStyle({width:`${Math.min(e.unref(i),100)}%`})}"></div></div>`):r("\x3c!----\x3e"),r('</div></div><button class="flex-shrink-0 px-3 py-1.5 text-xs font-medium text-gray-600 hover:text-violet-700 hover:bg-violet-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100"> Ver ficha </button><svg class="w-4 h-4 text-gray-300 group-hover:text-gray-400 transition-colors flex-shrink-0 lg:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div>')}}}),y=b.setup;b.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/dashboard/PatientCard.vue"),y?y(t,a):void 0};const w=Object.assign(b,{__name:"DashboardPatientCard"}),k=e.defineComponent({__name:"BonoCard",__ssrInlineRender:!0,props:{id:{},pacienteId:{},pacienteNombre:{},tipoBono:{},sesionesRestantes:{},sesionesTotales:{},ultimaSesion:{}},emits:["ver-bono","programar-cita"],setup(t,{emit:a}){const r=t,o=e.computed(()=>{if(!r.ultimaSesion)return"Sin sesiones recientes";const e=new Date(r.ultimaSesion),t=(new Date).getTime()-e.getTime(),a=Math.floor(t/864e5);return 0===a?"Última sesión: hoy":1===a?"Última sesión: ayer":a<7?`Última sesión: hace ${a} días`:a<14?"Última sesión: hace 1 semana":a<30?`Última sesión: hace ${Math.floor(a/7)} semanas`:`Última sesión: hace ${Math.floor(a/30)} meses`}),n=e.computed(()=>r.sesionesRestantes<=1?"border-l-red-500 bg-red-50/50":r.sesionesRestantes<=2?"border-l-amber-500 bg-amber-50/50":"border-l-gray-300 bg-white"),i=e.computed(()=>1===r.sesionesRestantes?"Queda 1 sesión":`Quedan ${r.sesionesRestantes} sesiones`);return(a,r,d,l)=>{r(`<div${s.ssrRenderAttrs(e.mergeProps({class:["p-3 rounded-xl border border-gray-200 border-l-[3px] transition-all duration-200 hover:shadow-sm",e.unref(n)]},l))}><div class="flex items-center justify-between mb-1.5"><p class="font-semibold text-gray-900 text-sm">${s.ssrInterpolate(t.pacienteNombre)} <span class="text-gray-400 font-normal">·</span><span class="text-gray-600 font-medium">${s.ssrInterpolate(t.tipoBono)}</span></p></div><div class="flex items-center gap-2 text-xs"><span class="${s.ssrRenderClass([t.sesionesRestantes<=1?"text-red-600":t.sesionesRestantes<=2?"text-amber-600":"text-gray-600","font-semibold"])}">${s.ssrInterpolate(e.unref(i))}</span><span class="text-gray-300">·</span><span class="text-gray-500">${s.ssrInterpolate(e.unref(o))}</span></div><div class="flex items-center gap-2 mt-3"><button class="px-3 py-1.5 text-xs font-medium text-gray-600 hover:text-violet-700 hover:bg-violet-50 border border-gray-200 hover:border-violet-200 rounded-lg transition-colors"> Ver bono </button><button class="px-3 py-1.5 text-xs font-medium text-violet-600 hover:text-violet-700 hover:bg-violet-50 border border-violet-200 hover:border-violet-300 rounded-lg transition-colors"> Programar cita </button></div></div>`)}}}),C=k.setup;k.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("components/dashboard/BonoCard.vue"),C?C(t,a):void 0};const $=Object.assign(k,{__name:"DashboardBonoCard"}),_=e.defineComponent({__name:"dashboard",__ssrInlineRender:!0,setup(d){const l=o(),c=t();a(),e.ref(null);const p=e.ref(!0),v=e.ref(!0),m=e.ref([]),g=e.ref([]),f=e.ref(0),b=e.ref(0),y=e.ref(0),k=e.ref(0),C=e.ref(!1),_=e.ref(null),j=e.ref(!1),S=e.ref(!1),M=e.ref(!1),I=e.ref(5),D=e.ref([]),B=e.ref(!0),R=e.ref("mes"),V=[{valor:"mes",etiqueta:"Mes"},{valor:"3meses",etiqueta:"3 meses"},{valor:"anio",etiqueta:"Año"}],P=e.ref({horasDisponibles:0,horasOcupadas:0,cancelaciones:0,totalCitas:0}),z=e.ref(0);e.ref(0);const T=e.ref(null),H=e.ref(0),N=e.ref(0),L=e.ref([]),A=e.ref(!0);e.computed(()=>(new Date).toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})),e.computed(()=>j.value?m.value:m.value.slice(0,5));const E=e.computed(()=>{const e=new Date,t=e.toLocaleDateString("es-ES",{weekday:"long"}),a=e.getDate(),s=e.toLocaleDateString("es-ES",{month:"long"});return`Hoy, ${(t.charAt(0).toUpperCase()+t.slice(1)).toLowerCase()} ${a} de ${s}`}),O=e.computed(()=>{const e=(new Date).toISOString().split("T")[0];return m.value.filter(t=>t.fecha_cita===e).length}),q=e.computed(()=>{const e=new Date,t=e.toLocaleDateString("es-ES",{weekday:"long"}),a=e.getDate(),s=e.toLocaleDateString("es-ES",{month:"long"});return`${t.charAt(0).toUpperCase()}${t.slice(1)}, ${a} de ${s}`}),F=e.computed(()=>{const e=(new Date).getDay();return 0===e||6===e}),U=e.computed(()=>{const e=(new Date).toISOString().split("T")[0];return m.value.filter(t=>t.fecha_cita===e)}),Q=e.computed(()=>U.value),W=e.computed(()=>{const e=(new Date).toISOString().split("T")[0];return m.value.filter(t=>t.fecha_cita>e)}),K=e.computed(()=>j.value?W.value:W.value.slice(0,3)),X=e.ref(0);function isSameDay(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function getRelativeDateTime(e,t){const a=new Date,s=new Date(`${e}T${t}:00`),r=(s.getTime()-a.getTime())/36e5;if(isSameDay(s,a))return`Hoy ${t}`;if(function(e,t){const a=new Date(t);return a.setDate(a.getDate()+1),isSameDay(e,a)}(s,a))return`Mañana ${t}`;if(r>0&&r<168){const e=s.toLocaleDateString("es-ES",{weekday:"long"});return`${e.charAt(0).toUpperCase()+e.slice(1)} ${t}`}return`${function(e){return e.toLocaleDateString("es-ES",{day:"numeric",month:"short"})}(s)} ${t}`}const Y=e.computed(()=>L.value.map(e=>{let t=e.fechaCita&&e.horaCita?getRelativeDateTime(e.fechaCita,e.horaCita):void 0,a="confirmacion"===e.tipo&&function(e,t){if(!e||!t)return!1;const a=new Date,s=(new Date(`${e}T${t}:00`).getTime()-a.getTime())/36e5;return s>0&&s<24}(e.fechaCita,e.horaCita),s="",r="";if(t){const e=t.split(" ");r=e.pop()||"",s=e.join(" ")}return{id:e.id,tipo:e.tipo,mensaje:e.mensaje,paciente:e.paciente,fecha:s,hora:r,urgente:a,accion:e.accion}})),Z=e.computed(()=>[...Y.value].sort((e,t)=>{if(e.urgente&&!t.urgente)return-1;if(!e.urgente&&t.urgente)return 1;const a=e.fecha||e.hora,s=t.fecha||t.hora;return a&&!s?-1:!a&&s?1:0}));e.computed(()=>S.value?Z.value:Z.value.slice(0,4));const G=e.computed(()=>M.value?D.value:D.value.slice(0,4)),J=e.computed(()=>{const e=new Date,t=e.toLocaleDateString("es-ES",{month:"long"}),a=e.getFullYear();if("mes"===R.value)return`Datos de ${t} ${a}`;if("3meses"===R.value){const t=new Date(e);t.setMonth(t.getMonth()-2);return`Últimos 3 meses (${t.toLocaleDateString("es-ES",{month:"short"})} - ${e.toLocaleDateString("es-ES",{month:"short"})} ${a})`}return`Año ${a}`}),navegarAPaciente=e=>{e?(console.log("[Dashboard] Navegando a ficha de paciente:",e),r(`/terapeuta/pacientes/${e}`)):console.error("[Dashboard] ERROR: ID de paciente no válido")},navegarABono=e=>{const t=D.value.find(t=>t.id===e);t&&t.paciente_id&&(console.log("[Dashboard] Navegando a ficha desde bono:",t.paciente_id),r(`/terapeuta/pacientes/${t.paciente_id}`))},programarCitaPaciente=e=>{c.push(`/terapeuta/agenda?paciente=${e}`)},abrirDetalles=e=>{_.value=e,C.value=!0},cerrarModalDetalles=()=>{C.value=!1,_.value=null,cargarSesiones()},confirmarCitaRapido=async e=>{try{const{error:t}=await l.from("citas").update({estado:"confirmada",updated_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;const a=m.value.findIndex(t=>t.id===e);-1!==a&&(m.value[a].estado="confirmada"),await async function(){A.value=!0;const e=[];try{const t=new Date,a=new Date(t);a.setHours(0,0,0,0);const s=a.toISOString().split("T")[0],r=new Date(a);r.setDate(a.getDate()+3);const o=r.toISOString().split("T")[0],{data:n}=await l.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        pacientes (\n          nombre_completo\n        )\n      ").eq("estado","pendiente").gte("fecha_cita",s).lte("fecha_cita",o).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});n?.forEach(a=>{const r=a.hora_inicio?.substring(0,5)||"00:00",o=a.fecha_cita;if(o===s){const[e,a]=r.split(":").map(Number),s=new Date(t);if(s.setHours(e,a,0,0),s<t)return}e.push({id:a.id,tipo:"confirmacion",mensaje:`Confirmar cita de ${a.pacientes?.nombre_completo||"paciente"}`,paciente:a.pacientes?.nombre_completo||"Paciente",fechaCita:o,horaCita:r,accion:"confirmar"})});const{data:i}=await l.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        pacientes (\n          nombre_completo\n        )\n      ").lt("fecha_cita",s).neq("estado","completada").neq("estado","cancelada").neq("estado","realizada").order("fecha_cita",{ascending:!1}).limit(3);i?.forEach(t=>{const a=new Date(t.fecha_cita).toLocaleDateString("es-ES",{day:"numeric",month:"short"});e.push({id:t.id,tipo:"clinico",mensaje:`Revisa la sesión pendiente de ${t.pacientes?.nombre_completo||"paciente"} del ${a}`,paciente:t.pacientes?.nombre_completo||"Paciente",accion:"ver"})});const{data:d}=await l.from("bonos").select("\n        id,\n        sesiones_restantes,\n        pacientes (\n          nombre_completo\n        )\n      ").eq("estado","activo").lte("sesiones_restantes",2).gt("sesiones_restantes",0).limit(3);d?.forEach(t=>{e.push({id:t.id,tipo:"bono",mensaje:`El bono está por agotarse (quedan ${t.sesiones_restantes} sesiones)`,paciente:t.pacientes?.nombre_completo||"Paciente",accion:"ver"})}),L.value=e.slice(0,8)}catch(e){console.error("Error al generar recordatorios:",e),L.value=[]}finally{A.value=!1}}()}catch(e){console.error("Error al confirmar cita:",e),alert("Error al confirmar la cita")}};async function cargarSesiones(){p.value=!0;try{const e=new Date;e.setHours(0,0,0,0);const t=new Date(e);t.setDate(t.getDate()+7);const{data:a,error:s}=await l.from("citas").select("\n        id,\n        paciente_id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        observaciones,\n        pacientes (\n          id,\n          nombre_completo,\n          email\n        )\n      ").in("estado",["pendiente","confirmada"]).gte("fecha_cita",e.toISOString().split("T")[0]).lte("fecha_cita",t.toISOString().split("T")[0]).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0});if(s)throw s;m.value=(a||[]).map(e=>({id:e.id,fecha_cita:e.fecha_cita,hora_inicio:e.hora_inicio?e.hora_inicio.substring(0,5):"--:--",paciente_nombre:e.pacientes?.nombre_completo||e.pacientes?.email||"Paciente",modalidad:e.modalidad||"presencial",estado:e.estado||"pendiente",observaciones:e.observaciones}))}catch(e){console.error("Error al cargar sesiones:",e),m.value=[]}finally{p.value=!1}}const formatearPrecio=e=>e.toFixed(2);return(t,a,r,o)=>{const d=u,l=n,c=x,S=h,L=w,A=$,U=i;a(`<div${s.ssrRenderAttrs(e.mergeProps({class:"dashboard-terapeuta min-h-screen bg-gray-50"},o))} data-v-21d99988><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" data-v-21d99988><header class="mb-8" data-v-21d99988><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4" data-v-21d99988><div data-v-21d99988><h1 class="text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight" data-v-21d99988>${s.ssrInterpolate(e.unref(E))}</h1><p class="text-gray-500 mt-1 flex items-center gap-2 flex-wrap" data-v-21d99988>`),e.unref(O)>0?a(`<span class="inline-flex items-center gap-1" data-v-21d99988><span class="w-2 h-2 rounded-full bg-violet-500" data-v-21d99988></span><span class="font-medium text-gray-700" data-v-21d99988>${s.ssrInterpolate(e.unref(O))} ${s.ssrInterpolate(1===e.unref(O)?"sesión":"sesiones")}</span></span>`):a("\x3c!----\x3e"),e.unref(O)>0&&e.unref(X)>0?a('<span class="text-gray-300" data-v-21d99988>•</span>'):a("\x3c!----\x3e"),e.unref(X)>0?a(`<span class="inline-flex items-center gap-1" data-v-21d99988><span class="w-2 h-2 rounded-full bg-amber-500" data-v-21d99988></span><span class="font-medium text-amber-600" data-v-21d99988>${s.ssrInterpolate(e.unref(X))} ${s.ssrInterpolate(1===e.unref(X)?"cobro pendiente":"cobros pendientes")}</span></span>`):a("\x3c!----\x3e"),0===e.unref(O)&&0===e.unref(X)?a('<span class="text-gray-500" data-v-21d99988> Sin tareas pendientes para hoy </span>'):a("\x3c!----\x3e"),a('</p></div><div class="flex items-center gap-3" data-v-21d99988><button class="inline-flex items-center gap-2 px-5 py-2.5 bg-violet-600 text-white rounded-lg font-semibold hover:bg-violet-700 shadow-sm hover:shadow transition-all" data-v-21d99988><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-21d99988></path></svg> Nueva cita </button><button class="inline-flex items-center gap-2 px-5 py-2.5 bg-white text-gray-700 rounded-lg font-medium border border-gray-200 hover:border-violet-300 hover:bg-violet-50 hover:text-violet-700 transition-all" data-v-21d99988><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" data-v-21d99988></path></svg> Nuevo paciente </button></div></div>'),a(s.ssrRenderComponent(d,{onAbrirCita:abrirDetalles},null,r)),a(`</header><div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8" data-v-21d99988><section class="lg:col-span-2 bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-21d99988><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-21d99988><div class="flex items-center gap-3" data-v-21d99988><div class="w-10 h-10 rounded-lg bg-violet-100 flex items-center justify-center" data-v-21d99988><svg class="w-5 h-5 text-violet-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-21d99988></path></svg></div><div data-v-21d99988><h2 class="text-lg font-semibold text-gray-900" data-v-21d99988>Sesiones de hoy</h2><p class="text-sm text-gray-500" data-v-21d99988>${s.ssrInterpolate(e.unref(q))} · <span class="${s.ssrRenderClass(e.unref(O)>0?"text-violet-600 font-medium":"text-gray-400")}" data-v-21d99988>${s.ssrInterpolate(e.unref(O))} ${s.ssrInterpolate(1===e.unref(O)?"sesión programada":"sesiones programadas")}</span></p></div></div>`),a(s.ssrRenderComponent(l,{to:"/terapeuta/agenda",class:"inline-flex items-center gap-1 text-sm font-medium text-violet-600 hover:text-violet-700 transition-colors"},{default:e.withCtx((t,a,s,r)=>{if(!a)return[e.createTextVNode(" Ver agenda "),(e.openBlock(),e.createBlock("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))];a(` Ver agenda <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${r}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-21d99988${r}></path></svg>`)}),_:1},r)),a('</div><div class="p-4" data-v-21d99988>'),e.unref(p)?a('<div class="flex flex-col items-center justify-center py-12" data-v-21d99988><div class="w-8 h-8 border-2 border-gray-200 border-t-violet-600 rounded-full animate-spin mb-3" data-v-21d99988></div><p class="text-sm text-gray-500" data-v-21d99988>Cargando sesiones...</p></div>'):0===e.unref(O)?(a(`<div class="flex flex-col items-center justify-center py-10 text-center" data-v-21d99988><div class="w-16 h-16 rounded-full bg-violet-50 flex items-center justify-center mb-4" data-v-21d99988><svg class="w-8 h-8 text-violet-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-21d99988></path></svg></div><p class="text-gray-700 font-medium mb-1" data-v-21d99988>${s.ssrInterpolate(e.unref(F)?"Día libre":"Hoy no tienes sesiones programadas")}</p><p class="text-sm text-gray-400 mb-4" data-v-21d99988>${s.ssrInterpolate(e.unref(F)?"Disfruta de tu descanso":"Aprovecha para organizar tu agenda o añadir nuevas citas")}</p>`),e.unref(F)?a("\x3c!----\x3e"):a(s.ssrRenderComponent(l,{to:"/terapeuta/agenda",class:"inline-flex items-center gap-2 px-5 py-2.5 bg-violet-600 text-white rounded-lg font-medium hover:bg-violet-700 transition-colors"},{default:e.withCtx((t,a,s,r)=>{if(!a)return[(e.openBlock(),e.createBlock("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])),e.createTextVNode(" Programar cita ")];a(`<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${r}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" data-v-21d99988${r}></path></svg> Programar cita `)}),_:1},r)),e.unref(m).length>0?(a('<div class="mt-6 pt-6 border-t border-gray-100 w-full" data-v-21d99988><p class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-3" data-v-21d99988>Próximas sesiones</p><div class="space-y-2" data-v-21d99988>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(m).slice(0,3),(e,t)=>{a(s.ssrRenderComponent(c,{key:e.id,id:e.id,fecha:e.fecha_cita,hora:e.hora_inicio,"paciente-nombre":e.paciente_nombre,modalidad:e.modalidad,estado:e.estado,"is-next":0===t,onClick:abrirDetalles,onConfirmar:confirmarCitaRapido,onRegistrarPago:abrirDetalles},null,r))}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),a("</div>")):(a('<div class="space-y-3" data-v-21d99988>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(Q),(e,t)=>{a(s.ssrRenderComponent(c,{key:e.id,id:e.id,fecha:e.fecha_cita,hora:e.hora_inicio,"paciente-nombre":e.paciente_nombre,modalidad:e.modalidad,estado:e.estado,"is-next":0===t,onClick:abrirDetalles,onConfirmar:confirmarCitaRapido,onRegistrarPago:abrirDetalles},null,r))}),a("\x3c!--]--\x3e"),e.unref(W).length>0?(a('<div class="mt-4 pt-4 border-t border-gray-100" data-v-21d99988><p class="text-xs font-medium text-gray-500 uppercase tracking-wider mb-3" data-v-21d99988>Próximos días</p><div class="space-y-2" data-v-21d99988>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(K),(e,t)=>{a(s.ssrRenderComponent(c,{key:e.id,id:e.id,fecha:e.fecha_cita,hora:e.hora_inicio,"paciente-nombre":e.paciente_nombre,modalidad:e.modalidad,estado:e.estado,"is-next":!1,onClick:abrirDetalles,onConfirmar:confirmarCitaRapido,onRegistrarPago:abrirDetalles},null,r))}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),e.unref(W).length>3&&!e.unref(j)?a(`<button class="w-full py-3 text-sm font-medium text-violet-600 hover:text-violet-700 hover:bg-violet-50 rounded-xl transition-colors flex items-center justify-center gap-2" data-v-21d99988><span data-v-21d99988>Ver ${s.ssrInterpolate(e.unref(W).length-3)} sesiones más</span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" data-v-21d99988></path></svg></button>`):a("\x3c!----\x3e"),e.unref(j)&&e.unref(W).length>3?a('<button class="w-full py-3 text-sm font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-xl transition-colors flex items-center justify-center gap-2" data-v-21d99988><span data-v-21d99988>Mostrar menos</span><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" data-v-21d99988></path></svg></button>'):a("\x3c!----\x3e"),a("</div>")),a("</div></section>"),a(s.ssrRenderComponent(S,{ref_key:"paymentsTodayCardRef",ref:T,onAbrirCita:abrirDetalles,onCobrar:abrirDetalles},null,r)),a(`</div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8 mt-8" data-v-21d99988><section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-21d99988><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-21d99988><div class="flex items-center gap-3" data-v-21d99988><div class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center" data-v-21d99988><svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-21d99988></path></svg></div><div data-v-21d99988><h2 class="text-lg font-semibold text-gray-900" data-v-21d99988>Actividad reciente de pacientes</h2><p class="text-xs text-gray-500" data-v-21d99988>Últimos ${s.ssrInterpolate(e.unref(I))} días</p></div></div>`),a(s.ssrRenderComponent(l,{to:"/terapeuta/pacientes",class:"inline-flex items-center gap-1 text-sm font-medium text-violet-600 hover:text-violet-700 transition-colors"},{default:e.withCtx((t,a,s,r)=>{if(!a)return[e.createTextVNode(" Ver todos "),(e.openBlock(),e.createBlock("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))];a(` Ver todos <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${r}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-21d99988${r}></path></svg>`)}),_:1},r)),a('</div><div class="px-4 py-2 border-b border-gray-100 bg-gray-50/50" data-v-21d99988><div class="flex items-center gap-1.5" data-v-21d99988><span class="text-xs text-gray-500 mr-1" data-v-21d99988>Ver últimos:</span>\x3c!--[--\x3e'),s.ssrRenderList([5,10,30],t=>{a(`<button class="${s.ssrRenderClass(["px-2.5 py-1 text-xs font-medium rounded-full transition-colors",e.unref(I)===t?"bg-violet-100 text-violet-700":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"])}" data-v-21d99988>${s.ssrInterpolate(t)} días </button>`)}),a('\x3c!--]--\x3e</div></div><div class="p-4" data-v-21d99988>'),e.unref(v)?a('<div class="flex flex-col items-center justify-center py-8" data-v-21d99988><div class="w-8 h-8 border-2 border-gray-200 border-t-emerald-600 rounded-full animate-spin mb-2" data-v-21d99988></div><p class="text-sm text-gray-500" data-v-21d99988>Cargando...</p></div>'):0===e.unref(g).length?(a(`<div class="flex flex-col items-center justify-center py-8 text-center" data-v-21d99988><div class="w-12 h-12 rounded-full bg-violet-50 flex items-center justify-center mb-3" data-v-21d99988><svg class="w-6 h-6 text-violet-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" data-v-21d99988></path></svg></div><p class="text-gray-700 font-medium mb-1" data-v-21d99988>Sin sesiones en este período</p><p class="text-sm text-gray-400 mb-3 max-w-[220px]" data-v-21d99988>No hay pacientes con citas en los últimos ${s.ssrInterpolate(e.unref(I))} días. Prueba ampliando el filtro.</p>`),e.unref(I)<30?a('<button class="text-sm font-medium text-violet-600 hover:text-violet-700 hover:underline" data-v-21d99988> Ver últimos 30 días </button>'):a("\x3c!----\x3e"),a("</div>")):(a('<div class="space-y-3" data-v-21d99988>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(g),e=>{a(s.ssrRenderComponent(L,{key:e.id,id:e.id,nombre:e.nombre_completo,"ultima-sesion":e.ultima_sesion,"sesiones-usadas":e.sesiones_usadas,"sesiones-totales":e.sesiones_totales,"estado-bono":e.estado_bono,onClick:navegarAPaciente},null,r))}),a("\x3c!--]--\x3e</div>")),a('</div></section><section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-21d99988><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-21d99988><div class="flex items-center gap-3" data-v-21d99988><div class="w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center" data-v-21d99988><svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z" data-v-21d99988></path></svg></div><div data-v-21d99988><h2 class="text-lg font-semibold text-gray-900" data-v-21d99988> Bonos por agotarse '),e.unref(D).length>0?a(`<span class="text-amber-600" data-v-21d99988>(${s.ssrInterpolate(e.unref(D).length)})</span>`):a("\x3c!----\x3e"),a('</h2><p class="text-xs text-gray-500" data-v-21d99988>Bonos con 2 sesiones o menos</p></div></div>'),e.unref(B)?a("\x3c!----\x3e"):a('<button class="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors" title="Actualizar bonos" data-v-21d99988><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" data-v-21d99988></path></svg></button>'),a('</div><div class="p-4" data-v-21d99988>'),e.unref(B)?a('<div class="flex flex-col items-center justify-center py-8" data-v-21d99988><div class="w-8 h-8 border-2 border-gray-200 border-t-amber-600 rounded-full animate-spin mb-2" data-v-21d99988></div><p class="text-sm text-gray-500" data-v-21d99988>Cargando bonos...</p></div>'):0===e.unref(D).length?a('<div class="flex flex-col items-center justify-center py-8 text-center" data-v-21d99988><div class="w-12 h-12 rounded-full bg-emerald-50 flex items-center justify-center mb-3" data-v-21d99988><svg class="w-6 h-6 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-21d99988></path></svg></div><p class="text-gray-700 font-medium" data-v-21d99988>Todos los bonos bajo control</p><p class="text-sm text-gray-400 mt-1 max-w-[200px]" data-v-21d99988>Ningún paciente necesita renovar su bono próximamente</p></div>'):(a('<div class="space-y-2" data-v-21d99988>\x3c!--[--\x3e'),s.ssrRenderList(e.unref(G),e=>{a(s.ssrRenderComponent(A,{key:e.id,id:e.id,"paciente-id":e.paciente_id,"paciente-nombre":e.paciente_nombre,"tipo-bono":e.tipo_bono,"sesiones-restantes":e.sesiones_restantes,"sesiones-totales":e.sesiones_totales,"ultima-sesion":e.ultima_sesion,onVerBono:navegarABono,onProgramarCita:programarCitaPaciente},null,r))}),a("\x3c!--]--\x3e"),e.unref(D).length>4&&!e.unref(M)?a(`<button class="w-full py-2 text-sm font-medium text-amber-600 hover:text-amber-700 hover:bg-amber-50 rounded-lg transition-colors" data-v-21d99988> Ver ${s.ssrInterpolate(e.unref(D).length-4)} más </button>`):a("\x3c!----\x3e"),a("</div>")),a(`</div></section></div><div class="mt-8" data-v-21d99988><section class="bg-white rounded-lg border border-gray-200 overflow-hidden" data-v-21d99988><div class="flex items-center justify-between px-6 py-4 border-b border-gray-200" data-v-21d99988><div class="flex items-center gap-3" data-v-21d99988><div class="w-10 h-10 rounded-lg bg-violet-100 flex items-center justify-center" data-v-21d99988><svg class="w-5 h-5 text-violet-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-21d99988></path></svg></div><div data-v-21d99988><h2 class="text-lg font-semibold text-gray-900" data-v-21d99988>Analítica del Profesional</h2><p class="text-xs text-gray-500" data-v-21d99988>${s.ssrInterpolate(e.unref(J))}</p></div></div><div class="flex items-center gap-1 bg-gray-100 rounded-lg p-1" data-v-21d99988>\x3c!--[--\x3e`),s.ssrRenderList(V,t=>{a(`<button class="${s.ssrRenderClass(["px-3 py-1.5 text-xs font-medium rounded-md transition-colors",e.unref(R)===t.valor?"bg-white text-violet-700 shadow-sm":"text-gray-500 hover:text-gray-700"])}" data-v-21d99988>${s.ssrInterpolate(t.etiqueta)}</button>`)}),a('\x3c!--]--\x3e</div></div><div class="p-6" data-v-21d99988><div class="grid grid-cols-2 lg:grid-cols-5 gap-4" data-v-21d99988>'),a(s.ssrRenderComponent(l,{to:"/terapeuta/pacientes",class:"group p-4 bg-gray-50 hover:bg-violet-50 rounded-xl border border-gray-100 hover:border-violet-200 transition-all cursor-pointer"},{default:e.withCtx((t,a,r,o)=>{if(!a)return[e.createVNode("div",{class:"flex items-center gap-2 mb-2"},[(e.openBlock(),e.createBlock("svg",{class:"w-5 h-5 text-gray-400 group-hover:text-violet-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})])),e.createVNode("span",{class:"text-xs font-medium text-gray-500 group-hover:text-violet-600"},"Pacientes activos")]),e.createVNode("p",{class:"text-3xl font-bold text-gray-900 group-hover:text-violet-700"},e.toDisplayString(e.unref(f)),1),e.createVNode("p",{class:"text-xs text-gray-400 mt-1 group-hover:text-violet-500"},"Ver todos →")];a(`<div class="flex items-center gap-2 mb-2" data-v-21d99988${o}><svg class="w-5 h-5 text-gray-400 group-hover:text-violet-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z" data-v-21d99988${o}></path></svg><span class="text-xs font-medium text-gray-500 group-hover:text-violet-600" data-v-21d99988${o}>Pacientes activos</span></div><p class="text-3xl font-bold text-gray-900 group-hover:text-violet-700" data-v-21d99988${o}>${s.ssrInterpolate(e.unref(f))}</p><p class="text-xs text-gray-400 mt-1 group-hover:text-violet-500" data-v-21d99988${o}>Ver todos →</p>`)}),_:1},r)),a(s.ssrRenderComponent(l,{to:"/terapeuta/sesiones",class:"group p-4 bg-gray-50 hover:bg-violet-50 rounded-xl border border-gray-100 hover:border-violet-200 transition-all cursor-pointer"},{default:e.withCtx((t,a,r,o)=>{if(!a)return[e.createVNode("div",{class:"flex items-center gap-2 mb-2"},[(e.openBlock(),e.createBlock("svg",{class:"w-5 h-5 text-gray-400 group-hover:text-violet-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])),e.createVNode("span",{class:"text-xs font-medium text-gray-500 group-hover:text-violet-600"},"Sesiones")]),e.createVNode("p",{class:"text-3xl font-bold text-gray-900 group-hover:text-violet-700"},e.toDisplayString(e.unref(b)),1),e.createVNode("p",{class:"text-xs text-gray-400 mt-1 group-hover:text-violet-500"},"Ver sesiones →")];a(`<div class="flex items-center gap-2 mb-2" data-v-21d99988${o}><svg class="w-5 h-5 text-gray-400 group-hover:text-violet-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" data-v-21d99988${o}></path></svg><span class="text-xs font-medium text-gray-500 group-hover:text-violet-600" data-v-21d99988${o}>Sesiones</span></div><p class="text-3xl font-bold text-gray-900 group-hover:text-violet-700" data-v-21d99988${o}>${s.ssrInterpolate(e.unref(b))}</p><p class="text-xs text-gray-400 mt-1 group-hover:text-violet-500" data-v-21d99988${o}>Ver sesiones →</p>`)}),_:1},r)),a(`<div class="p-4 bg-gray-50 rounded-xl border border-gray-100" data-v-21d99988><div class="flex items-center gap-2 mb-2" data-v-21d99988><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-21d99988></path></svg><span class="text-xs font-medium text-gray-500" data-v-21d99988>Ocupación</span></div><p class="${s.ssrRenderClass([e.unref(y)>=70?"text-emerald-600":e.unref(y)>=40?"text-amber-600":"text-gray-900","text-3xl font-bold"])}" data-v-21d99988>${s.ssrInterpolate(e.unref(y))}% </p><p class="text-xs text-gray-500 mt-1" data-v-21d99988>${s.ssrInterpolate(e.unref(P).horasOcupadas)}h de ${s.ssrInterpolate(e.unref(P).horasDisponibles)}h disponibles </p></div><div class="p-4 bg-gray-50 rounded-xl border border-gray-100" data-v-21d99988><div class="flex items-center gap-2 mb-2" data-v-21d99988><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" data-v-21d99988></path></svg><span class="text-xs font-medium text-gray-500" data-v-21d99988>Cancelaciones</span></div><p class="${s.ssrRenderClass([e.unref(k)<=10?"text-emerald-600":e.unref(k)<=20?"text-amber-600":"text-red-600","text-3xl font-bold"])}" data-v-21d99988>${s.ssrInterpolate(e.unref(k))}% </p>`),e.unref(P).cancelaciones>0?a(`<p class="text-xs text-gray-500 mt-1" data-v-21d99988>${s.ssrInterpolate(e.unref(P).cancelaciones)} de ${s.ssrInterpolate(e.unref(P).totalCitas)} citas </p>`):a('<p class="text-xs text-gray-400 mt-1" data-v-21d99988>Sin cancelaciones</p>'),a("</div>"),a(s.ssrRenderComponent(l,{to:"/terapeuta/pagos",class:"group p-4 bg-emerald-50 hover:bg-emerald-100 rounded-xl border border-emerald-200 hover:border-emerald-300 transition-all cursor-pointer"},{default:e.withCtx((t,a,r,o)=>{if(!a)return[e.createVNode("div",{class:"flex items-center justify-between mb-2"},[e.createVNode("div",{class:"flex items-center gap-2"},[(e.openBlock(),e.createBlock("svg",{class:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e.createVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])),e.createVNode("span",{class:"text-xs font-medium text-emerald-600"},"Ingresos")]),0!==e.unref(z)?(e.openBlock(),e.createBlock("span",{key:0,class:["px-1.5 py-0.5 text-[10px] font-semibold rounded",e.unref(z)>0?"bg-emerald-200 text-emerald-700":"bg-red-100 text-red-600"]},e.toDisplayString(e.unref(z)>0?"↑":"↓")+" "+e.toDisplayString(Math.abs(e.unref(z)))+"% ",3)):e.createCommentVNode("",!0)]),e.createVNode("p",{class:"text-3xl font-bold text-emerald-700"},e.toDisplayString(formatearPrecio(e.unref(H)))+"€",1),e.createVNode("p",{class:"text-xs text-emerald-500 mt-1"},e.toDisplayString(e.unref(N))+" "+e.toDisplayString(1===e.unref(N)?"pago":"pagos")+" · Ver pagos → ",1)];a(`<div class="flex items-center justify-between mb-2" data-v-21d99988${o}><div class="flex items-center gap-2" data-v-21d99988${o}><svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-21d99988${o}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-21d99988${o}></path></svg><span class="text-xs font-medium text-emerald-600" data-v-21d99988${o}>Ingresos</span></div>`),0!==e.unref(z)?a(`<span class="${s.ssrRenderClass(["px-1.5 py-0.5 text-[10px] font-semibold rounded",e.unref(z)>0?"bg-emerald-200 text-emerald-700":"bg-red-100 text-red-600"])}" data-v-21d99988${o}>${s.ssrInterpolate(e.unref(z)>0?"↑":"↓")} ${s.ssrInterpolate(Math.abs(e.unref(z)))}% </span>`):a("\x3c!----\x3e"),a(`</div><p class="text-3xl font-bold text-emerald-700" data-v-21d99988${o}>${s.ssrInterpolate(formatearPrecio(e.unref(H)))}€</p><p class="text-xs text-emerald-500 mt-1" data-v-21d99988${o}>${s.ssrInterpolate(e.unref(N))} ${s.ssrInterpolate(1===e.unref(N)?"pago":"pagos")} · Ver pagos → </p>`)}),_:1},r)),a("</div></div></section></div></div>"),a(s.ssrRenderComponent(U,{"is-open":e.unref(C),"cita-id":e.unref(_),onClose:cerrarModalDetalles,onCitaActualizada:cargarSesiones,onActualizado:cargarSesiones},null,r)),a("</div>")}}}),j=_.setup;_.setup=(t,a)=>{const s=e.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/terapeuta/dashboard.vue"),j?j(t,a):void 0};const S=l(_,[["__scopeId","data-v-21d99988"]]);export{S as default};
//# sourceMappingURL=dashboard-Dr3CFrx3.mjs.map
