import{_ as e}from"./nuxt-link-C_f1d2Rj.mjs";import{M as t}from"./ModalDetallesCita-BtNMrRBN.mjs";import{v as a,a as s,e as r,s as d}from"./server.mjs";import{u as o}from"./useSupabaseClient-DykwVqLQ.mjs";import{_ as n}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"./XCircleIcon-BCxujS_I.mjs";import"./CheckCircleIcon-CT9fzVFs.mjs";import"./ExclamationCircleIcon-DhXgUVTW.mjs";import"./CalendarIcon-BrsGHJBC.mjs";import"./XMarkIcon-DCLwyE-W.mjs";import"./UserIcon-CrHYaeI9.mjs";import"./ClockIcon-BxdFtPqx.mjs";import"./TicketIcon-zZdrc71S.mjs";import"../routes/renderer.mjs";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";const i=a.defineComponent({__name:"dashboard",__ssrInlineRender:!0,setup(n){o(),s(),r();const i=a.ref(null),l=a.ref(!0),c=a.ref(!0),f=a.ref([]),p=a.ref([]),x=a.ref(0),v=a.ref(0),m=a.ref(0),u=a.ref(!1),b=a.ref(null),g=a.ref(0),h=a.ref(0),y=a.ref([]),j=a.ref(!0),cerrarModalDetalles=()=>{u.value=!1,b.value=null},formatearPrecio=e=>e.toFixed(2);return(s,r,o,n)=>{const C=e,I=t;r(`<div${d.ssrRenderAttrs(a.mergeProps({class:"p-6 space-y-8"},n))} data-v-d953f9ea><div class="flex items-center justify-between" data-v-d953f9ea><div data-v-d953f9ea><h1 class="text-3xl font-serif font-bold text-cafe" data-v-d953f9ea>Dashboard</h1><p class="text-cafe/70 mt-1" data-v-d953f9ea>Bienvenida de nuevo, ${d.ssrInterpolate(a.unref(i)?.nombre||"Karem")} ğŸ‘‹</p></div><div class="flex gap-2" data-v-d953f9ea><button class="btn-primary" data-v-d953f9ea>+ Nueva Cita</button><button class="btn-outline" data-v-d953f9ea>+ Nuevo Paciente</button></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-d953f9ea><section class="card lg:col-span-2" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ï¿½ï¸ PrÃ³ximas Sesiones</h2>`),r(d.ssrRenderComponent(C,{to:"/agenda",class:"text-terracota text-sm hover:underline"},{default:a.withCtx((e,t,s,r)=>{if(!t)return[a.createTextVNode(" Ver agenda â†’ ")];t(" Ver agenda â†’ ")}),_:1},o)),r("</header>"),a.unref(l)?r('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea>Cargando sesiones...</div>'):0===a.unref(f).length?r('<div class="text-cafe/50 text-center py-10" data-v-d953f9ea>No hay sesiones prÃ³ximas.</div>'):(r('<div class="space-y-4" data-v-d953f9ea>\x3c!--[--\x3e'),d.ssrRenderList(a.unref(f),e=>{r(`<div class="flex items-center justify-between bg-terracota/5 rounded-xl p-4 hover:bg-terracota/10 transition" data-v-d953f9ea><div data-v-d953f9ea><p class="text-lg font-semibold text-cafe" data-v-d953f9ea>${d.ssrInterpolate(e.hora_inicio)} â€” ${d.ssrInterpolate(e.paciente_nombre)}</p><p class="text-sm text-cafe/70" data-v-d953f9ea>${d.ssrInterpolate("online"===e.modalidad?"Online ğŸ’»":"Presencial ğŸ¥")}</p></div><button class="px-3 py-1 text-sm border border-terracota/30 rounded-lg text-terracota hover:bg-terracota hover:text-white transition" data-v-d953f9ea> Ver detalles </button></div>`)}),r("\x3c!--]--\x3e</div>")),r('</section><section class="card" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ§ Pacientes Activos</h2>'),r(d.ssrRenderComponent(C,{to:"/terapeuta/pacientes",class:"text-terracota text-sm hover:underline"},{default:a.withCtx((e,t,s,r)=>{if(!t)return[a.createTextVNode(" Ver todos â†’ ")];t(" Ver todos â†’ ")}),_:1},o)),r("</header>"),a.unref(c)?r('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea>Cargando pacientes...</div>'):0===a.unref(p).length?r('<div class="text-cafe/50 text-center py-10" data-v-d953f9ea>No hay pacientes activos.</div>'):(r('<div class="space-y-3" data-v-d953f9ea>\x3c!--[--\x3e'),d.ssrRenderList(a.unref(p),e=>{r(`<div class="flex items-center justify-between bg-white border border-cafe/5 rounded-xl p-4 hover:shadow-sm transition" data-v-d953f9ea><div class="flex-1" data-v-d953f9ea><p class="font-semibold text-cafe" data-v-d953f9ea>${d.ssrInterpolate(e.nombre_completo)}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Ãšltima sesiÃ³n: ${d.ssrInterpolate(e.ultima_sesion||"Sin registro")}</p><div class="w-full bg-base-bg h-1 mt-2 rounded-full" data-v-d953f9ea><div class="h-1 rounded-full bg-green-500 transition-all" style="${d.ssrRenderStyle({width:`${e.progreso_bono||0}%`})}" data-v-d953f9ea></div></div></div>`),r(d.ssrRenderComponent(C,{to:`/terapeuta/pacientes/${e.id}`,class:"px-3 py-1 text-sm border border-cafe/10 text-cafe rounded-lg hover:bg-cafe/5 ml-3"},{default:a.withCtx((e,t,s,r)=>{if(!t)return[a.createTextVNode(" Ver perfil ")];t(" Ver perfil ")}),_:2},o)),r("</div>")}),r("\x3c!--]--\x3e</div>")),r(`</section></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-d953f9ea><section class="card lg:col-span-2" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ“Š AnalÃ­tica del Profesional</h2></header><div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center" data-v-d953f9ea><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${d.ssrInterpolate(a.unref(x))}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Pacientes activos</p></div><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${d.ssrInterpolate(a.unref(v))}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Sesiones este mes</p></div><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${d.ssrInterpolate(a.unref(m))}%</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Asistencia promedio</p></div>`),r(d.ssrRenderComponent(C,{to:"/terapeuta/sesiones",class:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200 hover:border-green-300 transition-all hover:shadow-md group"},{default:a.withCtx((e,t,s,r)=>{if(!t)return[a.createVNode("div",{class:"flex items-center justify-center gap-2 mb-1"},[a.createVNode("span",{class:"text-2xl group-hover:scale-110 transition-transform"},"ğŸ’¶"),a.createVNode("p",{class:"text-2xl font-bold text-green-700"},a.toDisplayString(formatearPrecio(a.unref(g)))+"â‚¬",1)]),a.createVNode("p",{class:"text-sm text-cafe/60"},"Pagos confirmados"),a.createVNode("p",{class:"text-xs text-green-700 font-medium mt-1"},a.toDisplayString(a.unref(h))+" "+a.toDisplayString(1===a.unref(h)?"bono":"bonos"),1)];t(`<div class="flex items-center justify-center gap-2 mb-1" data-v-d953f9ea${r}><span class="text-2xl group-hover:scale-110 transition-transform" data-v-d953f9ea${r}>ğŸ’¶</span><p class="text-2xl font-bold text-green-700" data-v-d953f9ea${r}>${d.ssrInterpolate(formatearPrecio(a.unref(g)))}â‚¬</p></div><p class="text-sm text-cafe/60" data-v-d953f9ea${r}>Pagos confirmados</p><p class="text-xs text-green-700 font-medium mt-1" data-v-d953f9ea${r}>${d.ssrInterpolate(a.unref(h))} ${d.ssrInterpolate(1===a.unref(h)?"bono":"bonos")}</p>`)}),_:1},o)),r('</div></section><section class="card" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ’¬ Recordatorios</h2>'),a.unref(j)?r("\x3c!----\x3e"):r('<button class="text-xs text-terracota hover:text-cafe transition" title="Actualizar recordatorios" data-v-d953f9ea> ğŸ”„ </button>'),r("</header>"),a.unref(j)?r('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea> Cargando recordatorios... </div>'):a.unref(y).length?(r('<ul class="space-y-3 text-sm text-cafe/80" data-v-d953f9ea>\x3c!--[--\x3e'),d.ssrRenderList(a.unref(y),(e,t)=>{r(`<li class="flex items-start gap-2 bg-terracota/5 rounded-lg px-3 py-2 hover:bg-terracota/10 transition" data-v-d953f9ea><span class="flex-shrink-0 mt-0.5" data-v-d953f9ea>ğŸ””</span><span class="flex-1" data-v-d953f9ea>${d.ssrInterpolate(e)}</span></li>`)}),r("\x3c!--]--\x3e</ul>")):r('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea> No hay recordatorios pendientes ğŸ‰ </div>'),r("</section></div>"),r(d.ssrRenderComponent(I,{"is-open":a.unref(u),"cita-id":a.unref(b),onClose:cerrarModalDetalles},null,o)),r("</div>")}}}),l=i.setup;i.setup=(e,t)=>{const s=a.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/terapeuta/dashboard.vue"),l?l(e,t):void 0};const c=n(i,[["__scopeId","data-v-d953f9ea"]]);export{c as default};
//# sourceMappingURL=dashboard-D_vyicpW.mjs.map
