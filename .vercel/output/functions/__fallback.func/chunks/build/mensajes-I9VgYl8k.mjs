import{defineComponent as e,ref as t,mergeProps as a,unref as s,useSSRContext as o}from"vue";import{ssrRenderAttrs as d,ssrRenderList as n,ssrRenderClass as r,ssrInterpolate as i,ssrRenderStyle as l,ssrIncludeBooleanAttr as c}from"vue/server-renderer";import{_ as f}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";const v=e({__name:"mensajes",__ssrInlineRender:!0,setup(e){const o=t(!0),f=t([]),v=t(""),u=t(!1),b=t(!1);t(null),t(null);const x=t(""),esMensajeMio=e=>e.autor_id===x.value;return(e,t,x,p)=>{t(`<div${d(a({class:"flex flex-col h-[calc(100vh-8rem)] max-w-4xl mx-auto px-4 py-8"},p))} data-v-4f363c8b><header class="mb-6 flex-shrink-0" data-v-4f363c8b><h1 class="text-2xl sm:text-3xl font-[&#39;Lora&#39;] font-medium text-[#5D4A44]" data-v-4f363c8b> Mensajes </h1><p class="text-sm text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;] mt-1" data-v-4f363c8b> Conversación con tu coordinadora </p></header>`),s(o)?t('<div class="flex-1 flex flex-col items-center justify-center" data-v-4f363c8b><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-[#D8AFA0]" data-v-4f363c8b></div><p class="mt-4 text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;]" data-v-4f363c8b>Cargando mensajes...</p></div>'):(t('<div class="flex-1 flex flex-col bg-white rounded-xl shadow-sm border border-[#EAD5D3]/30 overflow-hidden" data-v-4f363c8b><div class="flex-1 overflow-y-auto p-6 space-y-4" data-v-4f363c8b>'),0===s(f).length?t('<div class="flex flex-col items-center justify-center h-full text-center py-12" data-v-4f363c8b><div class="w-20 h-20 rounded-full bg-[#EAD5D3]/30 flex items-center justify-center mb-4" data-v-4f363c8b><svg class="w-10 h-10 text-[#D8AFA0]" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" data-v-4f363c8b></path></svg></div><h3 class="text-xl font-[&#39;Lora&#39;] font-medium text-[#5D4A44] mb-2" data-v-4f363c8b>No hay mensajes</h3><p class="text-sm text-[#5D4A44] opacity-70 font-[&#39;Lato&#39;] max-w-md" data-v-4f363c8b> Inicia la conversación enviando un mensaje a tu coordinadora. </p></div>'):t("\x3c!----\x3e"),t("\x3c!--[--\x3e"),n(s(f),e=>{var a;t(`<div class="${r(["flex",esMensajeMio(e)?"justify-end":"justify-start"])}" data-v-4f363c8b><div class="${r(["max-w-[70%] rounded-2xl px-4 py-3 shadow-sm",esMensajeMio(e)?"bg-[#D8AFA0] text-white rounded-br-sm":"bg-[#F9F7F3] text-[#5D4A44] rounded-bl-sm"])}" data-v-4f363c8b>`),esMensajeMio(e)?t("\x3c!----\x3e"):t(`<p class="text-xs font-[&#39;Lato&#39;] font-medium mb-1 opacity-70" data-v-4f363c8b>${i((null==(a=e.autor)?void 0:a.nombre_completo)||"Coordinadora")}</p>`),t(`<p class="text-sm font-[&#39;Lato&#39;] whitespace-pre-wrap break-words" data-v-4f363c8b>${i(e.contenido)}</p><div class="${r(["flex items-center gap-1 mt-1 text-xs","font-['Lato']",esMensajeMio(e)?"text-white/70":"text-[#5D4A44]/50"])}" data-v-4f363c8b><span data-v-4f363c8b>${i((e=>{if(!e)return"";const t=new Date(e),a=new Date,s=new Date(a);return s.setDate(s.getDate()-1),t.toDateString()===a.toDateString()?t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toDateString()===s.toDateString()?"Ayer "+t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):t.toLocaleDateString("es-ES",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})(e.created_at))}</span>`),esMensajeMio(e)?(t("<span data-v-4f363c8b>"),e.leido?t('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-4f363c8b></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13l4 4L23 7" data-v-4f363c8b></path></svg>'):t('<svg class="w-4 h-4 inline" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-4f363c8b></path></svg>'),t("</span>")):t("\x3c!----\x3e"),t("</div></div></div>")}),t("\x3c!--]--\x3e"),s(b)?t(`<div class="flex justify-start" data-v-4f363c8b><div class="bg-[#F9F7F3] rounded-2xl rounded-bl-sm px-4 py-3 shadow-sm" data-v-4f363c8b><div class="flex gap-1" data-v-4f363c8b><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${l({"animation-delay":"0ms"})}" data-v-4f363c8b></span><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${l({"animation-delay":"150ms"})}" data-v-4f363c8b></span><span class="w-2 h-2 bg-[#D8AFA0] rounded-full animate-bounce" style="${l({"animation-delay":"300ms"})}" data-v-4f363c8b></span></div></div></div>`):t("\x3c!----\x3e"),t(`</div><div class="flex-shrink-0 border-t border-[#EAD5D3]/30 p-4 bg-[#F9F7F3]/30" data-v-4f363c8b><form class="flex gap-2" data-v-4f363c8b><textarea placeholder="Escribe tu mensaje..." rows="1" class="flex-1 px-4 py-3 border border-[#EAD5D3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] focus:border-transparent resize-none font-[&#39;Lato&#39;] text-[#5D4A44] placeholder:text-[#5D4A44]/40 bg-white" data-v-4f363c8b>${i(s(v))}</textarea><button type="submit"${c(!s(v).trim()||s(u))?" disabled":""} class="flex-shrink-0 w-12 h-12 bg-[#D8AFA0] hover:bg-[#C89B8A] disabled:bg-[#EAD5D3] disabled:cursor-not-allowed text-white rounded-xl transition-colors flex items-center justify-center" data-v-4f363c8b>`),s(u)?t('<div class="animate-spin rounded-full h-5 w-5 border-b-2 border-white" data-v-4f363c8b></div>'):t('<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4f363c8b><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" data-v-4f363c8b></path></svg>'),t("</button></form></div></div>")),t("</div>")}}}),u=v.setup;v.setup=(e,t)=>{const a=o();return(a.modules||(a.modules=new Set)).add("pages/paciente/mensajes.vue"),u?u(e,t):void 0};const b=f(v,[["__scopeId","data-v-4f363c8b"]]);export{b as default};
//# sourceMappingURL=mensajes-I9VgYl8k.mjs.map
