import{v as e,a as t,b as a,r,c as i,n as u,d as l}from"./server.mjs";import{y as n,o,k as s,z as v,A as c}from"../nitro/nitro.mjs";function defineNuxtLink(l){const v=l.componentName||"NuxtLink";function isHashLinkWithoutHashMode(e){return"string"==typeof e&&e.startsWith("#")}function useNuxtLink(a){const n=t(),v=i(),c=e.computed(()=>!!a.target&&"_self"!==a.target),p=e.computed(()=>{const e=a.to||a.href||"";return"string"==typeof e&&o(e,{acceptRelative:!0})}),d=e.resolveComponent("RouterLink"),f=d&&"string"!=typeof d?d.useLink:void 0,h=e.computed(()=>{if(a.external)return!0;const e=a.to||a.href||"";return"object"!=typeof e&&(""===e||p.value)}),g=e.computed(()=>{const e=a.to||a.href||"";return h.value?e:function(e,t,a){const r=a??l.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,r);const i="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(i,r)}}(e,n.resolve,a.trailingSlash)}),m=h.value?void 0:f?.({...a,to:g}),y=e.computed(()=>{const e=a.trailingSlash??l.trailingSlash;if(!g.value||p.value||isHashLinkWithoutHashMode(g.value))return g.value;if(h.value){const t="object"==typeof g.value&&"path"in g.value?r(g.value):g.value;return applyTrailingSlashBehavior("object"==typeof t?n.resolve(t).href:t,e)}return"object"==typeof g.value?n.resolve(g.value)?.href??null:applyTrailingSlashBehavior(s(v.app.baseURL,g.value),e)});return{to:g,hasTarget:c,isAbsoluteUrl:p,isExternal:h,href:y,isActive:m?.isActive??e.computed(()=>g.value===n.currentRoute.value.path),isExactActive:m?.isExactActive??e.computed(()=>g.value===n.currentRoute.value.path),route:m?.route??e.computed(()=>n.resolve(g.value)),async navigate(e){await u(y.value,{replace:a.replace,external:h.value||c.value})}}}return e.defineComponent({name:v,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:useNuxtLink,setup(r,{slots:i}){const u=t(),{to:o,href:s,navigate:v,isExternal:c,hasTarget:p,isAbsoluteUrl:d}=useNuxtLink(r);e.shallowRef(!1);async function prefetch(e=a()){}return()=>{if(!c.value&&!p.value&&!isHashLinkWithoutHashMode(o.value)){const t={ref:undefined,to:o.value,activeClass:r.activeClass||l.activeClass,exactActiveClass:r.exactActiveClass||l.exactActiveClass,replace:r.replace,ariaCurrentValue:r.ariaCurrentValue,custom:r.custom};return r.custom||(t.rel=r.rel||void 0),e.h(e.resolveComponent("RouterLink"),t,i.default)}const t=r.target||null,a=((...e)=>e.find(e=>void 0!==e))(r.noRel?"":r.rel,l.externalRelAttribute,d.value||p.value?"noopener noreferrer":"")||null;return r.custom?i.default?i.default({href:s.value,navigate:v,prefetch:prefetch,get route(){if(!s.value)return;const e=new URL(s.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return n(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:a,target:t,isExternal:c.value||p.value,isActive:!1,isExactActive:!1}):null:e.h("a",{ref:undefined,href:s.value||null,rel:a,target:t,onClick:e=>{if(!c.value&&!p.value)return e.preventDefault(),r.replace?u.replace(s.value):u.push(s.value)}},i.default?.())}}})}const p=defineNuxtLink(l);function applyTrailingSlashBehavior(e,t){const a="append"===t?v:c;return o(e)&&!e.startsWith("http")?e:a(e,!0)}export{p as _};
//# sourceMappingURL=nuxt-link-C_f1d2Rj.mjs.map
