import{_ as e}from"./nuxt-link-C_f1d2Rj.mjs";import{M as t}from"./ModalDetallesCita-BtNMrRBN.mjs";import{v as a,a as s,e as d,s as r}from"./server.mjs";import{u as o}from"./useSupabaseClient-DykwVqLQ.mjs";import{_ as n}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"./XCircleIcon-BCxujS_I.mjs";import"./CheckCircleIcon-CT9fzVFs.mjs";import"./ExclamationCircleIcon-DhXgUVTW.mjs";import"./CalendarIcon-BrsGHJBC.mjs";import"./XMarkIcon-DCLwyE-W.mjs";import"./UserIcon-CrHYaeI9.mjs";import"./ClockIcon-BxdFtPqx.mjs";import"./TicketIcon-zZdrc71S.mjs";import"../routes/renderer.mjs";import"../_/shared.cjs.prod.mjs";import"../virtual/_commonjsHelpers.mjs";import"node:stream";import"../_/index.mjs";import"@supabase/supabase-js";import"@vercel/analytics/nuxt";const i=a.defineComponent({__name:"dashboard",__ssrInlineRender:!0,setup(n){o(),s(),d();const i=a.ref(null),l=a.ref(!0),c=a.ref(!0),f=a.ref([]),p=a.ref([]),x=a.ref(0),v=a.ref(0),m=a.ref(0),u=a.ref(!1),b=a.ref(null),g=a.ref(0),h=a.ref(0),y=a.ref([]),j=a.ref(!0),cerrarModalDetalles=()=>{u.value=!1,b.value=null},formatearPrecio=e=>e.toFixed(2);return(s,d,o,n)=>{const C=e,I=t;d(`<div${r.ssrRenderAttrs(a.mergeProps({class:"p-6 space-y-8"},n))} data-v-1eddf069><div class="flex items-center justify-between" data-v-1eddf069><div data-v-1eddf069><h1 class="text-3xl font-serif font-bold text-cafe" data-v-1eddf069>Dashboard</h1><p class="text-cafe/70 mt-1" data-v-1eddf069>Bienvenida de nuevo, ${r.ssrInterpolate(a.unref(i)?.nombre||"Karem")} ğŸ‘‹</p></div><div class="flex gap-2" data-v-1eddf069><button class="btn-primary" data-v-1eddf069>+ Nueva Cita</button><button class="btn-outline" data-v-1eddf069>+ Nuevo Paciente</button></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-1eddf069><section class="card lg:col-span-2" data-v-1eddf069><header class="flex justify-between items-center mb-4" data-v-1eddf069><h2 class="text-xl font-semibold text-cafe" data-v-1eddf069>ï¿½ï¸ PrÃ³ximas Sesiones</h2>`),d(r.ssrRenderComponent(C,{to:"/agenda",class:"text-purple-600 text-sm hover:underline"},{default:a.withCtx((e,t,s,d)=>{if(!t)return[a.createTextVNode(" Ver agenda â†’ ")];t(" Ver agenda â†’ ")}),_:1},o)),d("</header>"),a.unref(l)?d('<div class="text-cafe/60 text-sm py-8 text-center" data-v-1eddf069>Cargando sesiones...</div>'):0===a.unref(f).length?d('<div class="text-cafe/50 text-center py-10" data-v-1eddf069>No hay sesiones prÃ³ximas.</div>'):(d('<div class="space-y-4" data-v-1eddf069>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(f),e=>{d(`<div class="flex items-center justify-between bg-purple-600/5 rounded-xl p-4 hover:bg-purple-600/10 transition" data-v-1eddf069><div data-v-1eddf069><p class="text-lg font-semibold text-cafe" data-v-1eddf069>${r.ssrInterpolate(e.hora_inicio)} â€” ${r.ssrInterpolate(e.paciente_nombre)}</p><p class="text-sm text-cafe/70" data-v-1eddf069>${r.ssrInterpolate("online"===e.modalidad?"Online ğŸ’»":"Presencial ğŸ¥")}</p></div><button class="px-3 py-1 text-sm border border-purple-600/30 rounded-lg text-purple-600 hover:bg-purple-600 hover:text-white transition" data-v-1eddf069> Ver detalles </button></div>`)}),d("\x3c!--]--\x3e</div>")),d('</section><section class="card" data-v-1eddf069><header class="flex justify-between items-center mb-4" data-v-1eddf069><h2 class="text-xl font-semibold text-cafe" data-v-1eddf069>ğŸ§ Pacientes Activos</h2>'),d(r.ssrRenderComponent(C,{to:"/terapeuta/pacientes",class:"text-purple-600 text-sm hover:underline"},{default:a.withCtx((e,t,s,d)=>{if(!t)return[a.createTextVNode(" Ver todos â†’ ")];t(" Ver todos â†’ ")}),_:1},o)),d("</header>"),a.unref(c)?d('<div class="text-cafe/60 text-sm py-8 text-center" data-v-1eddf069>Cargando pacientes...</div>'):0===a.unref(p).length?d('<div class="text-cafe/50 text-center py-10" data-v-1eddf069>No hay pacientes activos.</div>'):(d('<div class="space-y-3" data-v-1eddf069>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(p),e=>{d(`<div class="flex items-center justify-between bg-white border border-cafe/5 rounded-xl p-4 hover:shadow-sm transition" data-v-1eddf069><div class="flex-1" data-v-1eddf069><p class="font-semibold text-cafe" data-v-1eddf069>${r.ssrInterpolate(e.nombre_completo)}</p><p class="text-sm text-cafe/60" data-v-1eddf069>Ãšltima sesiÃ³n: ${r.ssrInterpolate(e.ultima_sesion||"Sin registro")}</p><div class="w-full bg-base-bg h-1 mt-2 rounded-full" data-v-1eddf069><div class="h-1 rounded-full bg-green-500 transition-all" style="${r.ssrRenderStyle({width:`${e.progreso_bono||0}%`})}" data-v-1eddf069></div></div></div>`),d(r.ssrRenderComponent(C,{to:`/terapeuta/pacientes/${e.id}`,class:"px-3 py-1 text-sm border border-cafe/10 text-cafe rounded-lg hover:bg-cafe/5 ml-3"},{default:a.withCtx((e,t,s,d)=>{if(!t)return[a.createTextVNode(" Ver perfil ")];t(" Ver perfil ")}),_:2},o)),d("</div>")}),d("\x3c!--]--\x3e</div>")),d(`</section></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-1eddf069><section class="card lg:col-span-2" data-v-1eddf069><header class="flex justify-between items-center mb-4" data-v-1eddf069><h2 class="text-xl font-semibold text-cafe" data-v-1eddf069>ğŸ“Š AnalÃ­tica del Profesional</h2></header><div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center" data-v-1eddf069><div class="p-4 bg-purple-600/5 rounded-xl" data-v-1eddf069><p class="text-2xl font-bold text-cafe" data-v-1eddf069>${r.ssrInterpolate(a.unref(x))}</p><p class="text-sm text-cafe/60" data-v-1eddf069>Pacientes activos</p></div><div class="p-4 bg-purple-600/5 rounded-xl" data-v-1eddf069><p class="text-2xl font-bold text-cafe" data-v-1eddf069>${r.ssrInterpolate(a.unref(v))}</p><p class="text-sm text-cafe/60" data-v-1eddf069>Sesiones este mes</p></div><div class="p-4 bg-purple-600/5 rounded-xl" data-v-1eddf069><p class="text-2xl font-bold text-cafe" data-v-1eddf069>${r.ssrInterpolate(a.unref(m))}%</p><p class="text-sm text-cafe/60" data-v-1eddf069>Asistencia promedio</p></div>`),d(r.ssrRenderComponent(C,{to:"/terapeuta/sesiones",class:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200 hover:border-green-300 transition-all hover:shadow-md group"},{default:a.withCtx((e,t,s,d)=>{if(!t)return[a.createVNode("div",{class:"flex items-center justify-center gap-2 mb-1"},[a.createVNode("span",{class:"text-2xl group-hover:scale-110 transition-transform"},"ğŸ’¶"),a.createVNode("p",{class:"text-2xl font-bold text-green-700"},a.toDisplayString(formatearPrecio(a.unref(g)))+"â‚¬",1)]),a.createVNode("p",{class:"text-sm text-cafe/60"},"Pagos confirmados"),a.createVNode("p",{class:"text-xs text-green-700 font-medium mt-1"},a.toDisplayString(a.unref(h))+" "+a.toDisplayString(1===a.unref(h)?"bono":"bonos"),1)];t(`<div class="flex items-center justify-center gap-2 mb-1" data-v-1eddf069${d}><span class="text-2xl group-hover:scale-110 transition-transform" data-v-1eddf069${d}>ğŸ’¶</span><p class="text-2xl font-bold text-green-700" data-v-1eddf069${d}>${r.ssrInterpolate(formatearPrecio(a.unref(g)))}â‚¬</p></div><p class="text-sm text-cafe/60" data-v-1eddf069${d}>Pagos confirmados</p><p class="text-xs text-green-700 font-medium mt-1" data-v-1eddf069${d}>${r.ssrInterpolate(a.unref(h))} ${r.ssrInterpolate(1===a.unref(h)?"bono":"bonos")}</p>`)}),_:1},o)),d('</div></section><section class="card" data-v-1eddf069><header class="flex justify-between items-center mb-4" data-v-1eddf069><h2 class="text-xl font-semibold text-cafe" data-v-1eddf069>ğŸ’¬ Recordatorios</h2>'),a.unref(j)?d("\x3c!----\x3e"):d('<button class="text-xs text-purple-600 hover:text-cafe transition" title="Actualizar recordatorios" data-v-1eddf069> ğŸ”„ </button>'),d("</header>"),a.unref(j)?d('<div class="text-cafe/60 text-sm py-8 text-center" data-v-1eddf069> Cargando recordatorios... </div>'):a.unref(y).length?(d('<ul class="space-y-3 text-sm text-cafe/80" data-v-1eddf069>\x3c!--[--\x3e'),r.ssrRenderList(a.unref(y),(e,t)=>{d(`<li class="flex items-start gap-2 bg-purple-600/5 rounded-lg px-3 py-2 hover:bg-purple-600/10 transition" data-v-1eddf069><span class="flex-shrink-0 mt-0.5" data-v-1eddf069>ğŸ””</span><span class="flex-1" data-v-1eddf069>${r.ssrInterpolate(e)}</span></li>`)}),d("\x3c!--]--\x3e</ul>")):d('<div class="text-cafe/60 text-sm py-8 text-center" data-v-1eddf069> No hay recordatorios pendientes ğŸ‰ </div>'),d("</section></div>"),d(r.ssrRenderComponent(I,{"is-open":a.unref(u),"cita-id":a.unref(b),onClose:cerrarModalDetalles},null,o)),d("</div>")}}}),l=i.setup;i.setup=(e,t)=>{const s=a.useSSRContext();return(s.modules||(s.modules=new Set)).add("pages/terapeuta/dashboard.vue"),l?l(e,t):void 0};const c=n(i,[["__scopeId","data-v-1eddf069"]]);export{c as default};
//# sourceMappingURL=dashboard-QGfe6lwC.mjs.map
