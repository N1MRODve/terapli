import{_ as e}from"./nuxt-link-CboeUkiO.mjs";import{M as t}from"./ModalDetallesCita-4YIA-weF.mjs";import{defineComponent as a,ref as s,mergeProps as d,unref as r,withCtx as o,createTextVNode as i,createVNode as n,toDisplayString as l,useSSRContext as c}from"vue";import{ssrRenderAttrs as f,ssrInterpolate as v,ssrRenderComponent as x,ssrRenderList as p,ssrRenderStyle as m}from"vue/server-renderer";import{u}from"./useSupabaseClient-DykwVqLQ.mjs";import{a as b,e as g}from"./server.mjs";import{_ as h}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"@heroicons/vue/24/outline";import"../routes/renderer.mjs";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"vue-router";import"@supabase/ssr";import"@vercel/analytics/nuxt";const y=a({__name:"dashboard",__ssrInlineRender:!0,setup(a){u(),b(),g();const c=s(null),h=s(!0),y=s(!0),$=s([]),_=s([]),j=s(0),w=s(0),P=s(0),C=s(!1),V=s(null),A=s(0),N=s(0),S=s([]),k=s(!0),cerrarModalDetalles=()=>{C.value=!1,V.value=null},formatearPrecio=e=>e.toFixed(2);return(a,s,u,b)=>{var g;const D=e,I=t;s(`<div${f(d({class:"p-6 space-y-8"},b))} data-v-d953f9ea><div class="flex items-center justify-between" data-v-d953f9ea><div data-v-d953f9ea><h1 class="text-3xl font-serif font-bold text-cafe" data-v-d953f9ea>Dashboard</h1><p class="text-cafe/70 mt-1" data-v-d953f9ea>Bienvenida de nuevo, ${v((null==(g=r(c))?void 0:g.nombre)||"Karem")} ğŸ‘‹</p></div><div class="flex gap-2" data-v-d953f9ea><button class="btn-primary" data-v-d953f9ea>+ Nueva Cita</button><button class="btn-outline" data-v-d953f9ea>+ Nuevo Paciente</button></div></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-d953f9ea><section class="card lg:col-span-2" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ï¿½ï¸ PrÃ³ximas Sesiones</h2>`),s(x(D,{to:"/agenda",class:"text-terracota text-sm hover:underline"},{default:o((e,t,a,s)=>{if(!t)return[i(" Ver agenda â†’ ")];t(" Ver agenda â†’ ")}),_:1},u)),s("</header>"),r(h)?s('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea>Cargando sesiones...</div>'):0===r($).length?s('<div class="text-cafe/50 text-center py-10" data-v-d953f9ea>No hay sesiones prÃ³ximas.</div>'):(s('<div class="space-y-4" data-v-d953f9ea>\x3c!--[--\x3e'),p(r($),e=>{s(`<div class="flex items-center justify-between bg-terracota/5 rounded-xl p-4 hover:bg-terracota/10 transition" data-v-d953f9ea><div data-v-d953f9ea><p class="text-lg font-semibold text-cafe" data-v-d953f9ea>${v(e.hora_inicio)} â€” ${v(e.paciente_nombre)}</p><p class="text-sm text-cafe/70" data-v-d953f9ea>${v("online"===e.modalidad?"Online ğŸ’»":"Presencial ğŸ¥")}</p></div><button class="px-3 py-1 text-sm border border-terracota/30 rounded-lg text-terracota hover:bg-terracota hover:text-white transition" data-v-d953f9ea> Ver detalles </button></div>`)}),s("\x3c!--]--\x3e</div>")),s('</section><section class="card" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ§ Pacientes Activos</h2>'),s(x(D,{to:"/terapeuta/pacientes",class:"text-terracota text-sm hover:underline"},{default:o((e,t,a,s)=>{if(!t)return[i(" Ver todos â†’ ")];t(" Ver todos â†’ ")}),_:1},u)),s("</header>"),r(y)?s('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea>Cargando pacientes...</div>'):0===r(_).length?s('<div class="text-cafe/50 text-center py-10" data-v-d953f9ea>No hay pacientes activos.</div>'):(s('<div class="space-y-3" data-v-d953f9ea>\x3c!--[--\x3e'),p(r(_),e=>{s(`<div class="flex items-center justify-between bg-white border border-cafe/5 rounded-xl p-4 hover:shadow-sm transition" data-v-d953f9ea><div class="flex-1" data-v-d953f9ea><p class="font-semibold text-cafe" data-v-d953f9ea>${v(e.nombre_completo)}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Ãšltima sesiÃ³n: ${v(e.ultima_sesion||"Sin registro")}</p><div class="w-full bg-base-bg h-1 mt-2 rounded-full" data-v-d953f9ea><div class="h-1 rounded-full bg-green-500 transition-all" style="${m({width:`${e.progreso_bono||0}%`})}" data-v-d953f9ea></div></div></div>`),s(x(D,{to:`/terapeuta/pacientes/${e.id}`,class:"px-3 py-1 text-sm border border-cafe/10 text-cafe rounded-lg hover:bg-cafe/5 ml-3"},{default:o((e,t,a,s)=>{if(!t)return[i(" Ver perfil ")];t(" Ver perfil ")}),_:2},u)),s("</div>")}),s("\x3c!--]--\x3e</div>")),s(`</section></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-6" data-v-d953f9ea><section class="card lg:col-span-2" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ“Š AnalÃ­tica del Profesional</h2></header><div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center" data-v-d953f9ea><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${v(r(j))}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Pacientes activos</p></div><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${v(r(w))}</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Sesiones este mes</p></div><div class="p-4 bg-terracota/5 rounded-xl" data-v-d953f9ea><p class="text-2xl font-bold text-cafe" data-v-d953f9ea>${v(r(P))}%</p><p class="text-sm text-cafe/60" data-v-d953f9ea>Asistencia promedio</p></div>`),s(x(D,{to:"/terapeuta/sesiones",class:"p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200 hover:border-green-300 transition-all hover:shadow-md group"},{default:o((e,t,a,s)=>{if(!t)return[n("div",{class:"flex items-center justify-center gap-2 mb-1"},[n("span",{class:"text-2xl group-hover:scale-110 transition-transform"},"ğŸ’¶"),n("p",{class:"text-2xl font-bold text-green-700"},l(formatearPrecio(r(A)))+"â‚¬",1)]),n("p",{class:"text-sm text-cafe/60"},"Pagos confirmados"),n("p",{class:"text-xs text-green-700 font-medium mt-1"},l(r(N))+" "+l(1===r(N)?"bono":"bonos"),1)];t(`<div class="flex items-center justify-center gap-2 mb-1" data-v-d953f9ea${s}><span class="text-2xl group-hover:scale-110 transition-transform" data-v-d953f9ea${s}>ğŸ’¶</span><p class="text-2xl font-bold text-green-700" data-v-d953f9ea${s}>${v(formatearPrecio(r(A)))}â‚¬</p></div><p class="text-sm text-cafe/60" data-v-d953f9ea${s}>Pagos confirmados</p><p class="text-xs text-green-700 font-medium mt-1" data-v-d953f9ea${s}>${v(r(N))} ${v(1===r(N)?"bono":"bonos")}</p>`)}),_:1},u)),s('</div></section><section class="card" data-v-d953f9ea><header class="flex justify-between items-center mb-4" data-v-d953f9ea><h2 class="text-xl font-semibold text-cafe" data-v-d953f9ea>ğŸ’¬ Recordatorios</h2>'),r(k)?s("\x3c!----\x3e"):s('<button class="text-xs text-terracota hover:text-cafe transition" title="Actualizar recordatorios" data-v-d953f9ea> ğŸ”„ </button>'),s("</header>"),r(k)?s('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea> Cargando recordatorios... </div>'):r(S).length?(s('<ul class="space-y-3 text-sm text-cafe/80" data-v-d953f9ea>\x3c!--[--\x3e'),p(r(S),(e,t)=>{s(`<li class="flex items-start gap-2 bg-terracota/5 rounded-lg px-3 py-2 hover:bg-terracota/10 transition" data-v-d953f9ea><span class="flex-shrink-0 mt-0.5" data-v-d953f9ea>ğŸ””</span><span class="flex-1" data-v-d953f9ea>${v(e)}</span></li>`)}),s("\x3c!--]--\x3e</ul>")):s('<div class="text-cafe/60 text-sm py-8 text-center" data-v-d953f9ea> No hay recordatorios pendientes ğŸ‰ </div>'),s("</section></div>"),s(x(I,{"is-open":r(C),"cita-id":r(V),onClose:cerrarModalDetalles},null,u)),s("</div>")}}}),$=y.setup;y.setup=(e,t)=>{const a=c();return(a.modules||(a.modules=new Set)).add("pages/terapeuta/dashboard.vue"),$?$(e,t):void 0};const _=h(y,[["__scopeId","data-v-d953f9ea"]]);export{_ as default};
//# sourceMappingURL=dashboard-BIPAW-7u.mjs.map
