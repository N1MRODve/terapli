{"version":3,"file":"AgendaTerapeuta-ryhLBHQZ.mjs","sources":["../../../../../../node_modules/.cache/nuxt/.nuxt/dist/server/_nuxt/AgendaTerapeuta-ryhLBHQZ.js"],"sourcesContent":null,"names":["render$1","_ctx","_cache","vueExports","openBlock","createElementBlock","xmlns","fill","viewBox","stroke","createElementVNode","d","COLORES_ESTADO","pendiente","border","bg","badge","dot","hover","confirmada","cancelada","realizada","formatearMesAnio","fecha","Date","toLocaleDateString","month","year","formatearDiaSemana","weekday","day","obtenerTituloAgenda","vista","fechaStr","toISOString","split","formatearFecha","date","inicioAnio","getFullYear","diferencia","getTime","Math","ceil","getDay","obtenerNumeroSemana","generarBloquesHorarios","inicio","fin","intervalo","bloques","horaInicio","minInicio","map","Number","horaFin","minFin","horaActual","minActual","push","String","padStart","agregarDias","dias","setDate","getDate","inicioSemana","dia","diff","useAgenda","supabase","useSupabaseClient","user","useSupabaseUser","citas","ref","loading","error","realtimeChannel","filtros","Map","citasDelDia","computed","hoy","value","filter","c","fecha_cita","citasPendientes","estado","citasCompletadas","citasConBonoProximoAgotar","bono","sesiones_restantes","getCitasDelTerapeuta","async","opciones","id","Error","query","from","select","eq","fechaInicio","gte","fechaFin","lte","incluirCompletadas","in","order","ascending","data","fetchError","console","log","length","err","message","citasPendientesSync","detectarInconsistencias","error2","not","or","warn","resincronizarBono","citaId","rpc","p_cita_id","resultado","success","warning","mostrarNotificacion","alerta","mensaje_alerta","setTimeout","Promise","all","suscribirCitasRealtime","removeChannel","channel","on","event","schema","table","payload","eventType","subscribe","status","tipo","mensaje","emoji","info","mostrarAlerta","tipoNotificacion","tipo_alerta","watchEffect","citasFiltradas","paciente","nombre_completo","toLowerCase","includes","busqueda","busq","observaciones","area_terapeutica","tipo_sesion","fecha_desde","fecha_hasta","calcularCargaDiaria","terapeutaId","citasDelDia2","coincideFecha","coincideTerapeuta","terapeuta_id","esActiva","total","confirmadas","pendientes","completarCita","rpcError","index","findIndex","cita","sesion_descontada","consumo_registrado","sesiones_despues","bono_completado","errorMsg","code","obtenerHistorialBono","bonoId","p_bono_id","verificarBonoCitas","resincronizarTodos","exitosos","fallidos","yaDescontados","resolve","mensajes","join","aplicarFiltros","nuevosFiltros","limpiarFiltros","reprogramarCita","nuevaFecha","nuevaHoraInicio","nuevaHoraFin","update","hora_inicio","hora_fin","updated_at","single","e","actualizarNotasRapidas","notas","enlace","notas_rapidas","enlace_videollamada","obtenerDisponibilidad","disponibilidad","calcularHuecosLibres","diaSemana","disponibleDia","dia_semana","disponible","huecos","forEach","slot","some","programarRecordatorios","find","fechaCita","ahora","recordatorio_24h_enviado","insert","usuario_id","paciente_id","titulo","metadata","cita_id","tipo_recordatorio","hora","recordatorio_4h_enviado","obtenerResumenSemanal","resumen","i","carga","obtenerResumenMensual","ultimoDia","set","desuscribirCitasRealtime","_sfc_main$6","defineComponent","__name","__ssrInlineRender","props","mergeModels","rolActivo","default","mostrarRol","type","Boolean","vistaModifiers","fechaActual","fechaActualModifiers","darkMode","darkModeModifiers","emits","setup","__props","emit","__emit","useModel","vistas","label","shortcut","_push","_parent","_attrs","serverRenderer_cjs_prodExports","ssrRenderAttrs","mergeProps","class","ssrInterpolate","unref","ssrRenderList","v","ssrRenderClass","ssrRenderAttr","_sfc_setup$6","ctx","ssrContext","useSSRContext","modules","Set","add","AgendaHeader","Object","assign","render","_sfc_main$5","compact","formatearHora","substring","claseEstadoCita","completada","estadoBono","sesiones","color","icono","mensajeAlerta","clase","puedeCompletar","toUpperCase","modalidad","telefono","sesiones_totales","_sfc_setup$5","__nuxt_component_1","_export_sfc","_sfc_main$4","estadosActivos","estadosSeleccionados","estadosDisponibles","key","bgInactive","textInactive","borderInactive","bgActive","textActive","borderActive","ringColor","totalCitas","citasVisibles","size","has","hayFiltrosActivos","todosSeleccionados","estaActivo","ssrRenderComponent","render$2","getChipClasses","contarPorEstado","_sfc_setup$4","AgendaStatusFilters","_sfc_main$3","lastUpdateTime","fechaFormateada","fechaCapitalizada","charAt","slice","ssrIncludeBooleanAttr","_sfc_setup$3","AgendaViewControls","_sfc_main$2","modoCoordinadora","numeroSemana","diasTranscurridos","floor","rangoSemana","formatoCorto","mes","getMonth","fechaDia","tituloTemporal","f","textoNavegacion","anterior","siguiente","active","render$3","render$4","render$5","_sfc_setup$2","AgendaUnifiedHeader","_sfc_main$1","terapeutas","terapeutaSeleccionado","busquedaLocal","watch","val","estados","bgLight","totalFiltradas","render$6","render$7","render$8","t","nombre","render$9","ssrRenderStyle","backgroundColor","_sfc_setup$1","AgendaFilterBar","_sfc_main","mostrarFiltroTerapeuta","refreshAppointments","useAgendaEnhanced","toast","alert","filtroActivo","fechaSeleccionada","mostrarModalHistorial","bonoSeleccionado","historialBono","verificacionBono","cargandoModal","terapeutasDisponibles","estadosFiltro","citasFiltradasPorTerapeuta","terapeuta","citasFiltradasPorEstado","citasFiltradasPorBusqueda","trim","termino","nombrePaciente","paciente_nombre","nombreTerapeuta","terapeuta_nombre","citasBase","celdaObjetivo","mostrarModalNuevaCita","fechaPreseleccionada","horaPreseleccionada","horaFinPreseleccionada","mostrarModalDetalles","citaIdSeleccionada","citaConfirmandoId","rangoSeleccion","horasDelDia","diasSemana","nombreDia","numeroDia","base","formatearFechaCompleta","getBadgeEstado","esHoy","cambiarFecha","direccion","nueva","irHoy","citasPorHora","startsWith","getClasesCita","getEstadoLabel","citasPorDiaHora","handleCitaCreated","handleModalCerrar","handleCerrarDetallesCita","handleCitaActualizada","citaCancelandoId","citaReprogramandoId","mostrarModalReprogramar","citaParaReprogramar","reprogramarNuevaFecha","reprogramarNuevaHoraInicio","reprogramarNuevaHoraFin","horasFinDisponibles","indexInicio","indexOf","esCeldaEnRango","indexHoraActual","indexHoraInicio","indexHoraFin","min","max","esCeldaObjetivo","handleCompletarCita","confirm","abrirHistorial","historial","verificacion","recargarCitas","handleFiltrarPorEstado","agendaLogger","debug","_component_TarjetaCita","_component_ModalNuevaCitaEnhanced","__nuxt_component_0","_component_ModalDetallesCita","ModalDetallesCita","onCambiarVista","onNavegarFecha","onIrHoy","onActualizar","onNuevaCita","$event","onNuevaTarea","onFiltrarEstados","subtitulo","onFiltrar","height","values","reduce","bono_sesiones_restantes","bono_sesiones_totales","bono_id","count","filtro","onCompletar","onVerHistorial","ssrRenderTeleport","_push2","sesiones_usadas","mov","tipo_movimiento","toLocaleString","motivo","sesiones_antes","sesiones_modificadas","abs","onCreated","onClose","onCitaActualizada","onActualizado","Array","isArray","ssrLooseContain","ssrLooseEqual","_sfc_setup","__nuxt_component_2"],"mappings":"","x_google_ignoreList":[0]}