import{Chart as t,DoughnutController as e,BarController as a,LineController as r}from"chart.js";import{v as s}from"./server.mjs";const o={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},n={ariaLabel:{type:String},ariaDescribedby:{type:String}},i={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...o,...n},d="2"===s.version[0]?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function toRawIfProxy(t){return s.isProxy(t)?s.toRaw(t):t}const l=s.defineComponent({props:i,setup(t,e){let{expose:a,slots:r}=e;const o=s.ref(null),n=s.shallowRef(null);a({chart:n});return s.watch([()=>t.options,()=>t.data],(e,a)=>{let[r,o]=e,[i,d]=a;const l=s.toRaw(n.value);if(!l)return;let c=!1;if(r){const t=toRawIfProxy(r),e=toRawIfProxy(i);t&&t!==e&&(!function(t,e){const a=t.options;a&&e&&Object.assign(a,e)}(l,t),c=!0)}if(o){const e=toRawIfProxy(o.labels),a=toRawIfProxy(d.labels),r=toRawIfProxy(o.datasets),s=toRawIfProxy(d.datasets);e!==a&&(!function(t,e){t.labels=e}(l.config.data,e),c=!0),r&&r!==s&&(!function(t,e,a){const r=[];t.datasets=e.map(e=>{const s=t.datasets.find(t=>t[a]===e[a]);return s&&e.data&&!r.includes(s)?(r.push(s),Object.assign(s,e),s):{...e}})}(l.config.data,r,t.datasetIdKey),c=!0)}c&&s.nextTick(()=>{(e=>{e.update(t.updateMode)})(l)})},{deep:!0}),()=>s.h("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:o},[s.h("p",{},[r.default?r.default():""])])}});function createTypedChart(e,a){return t.register(a),s.defineComponent({props:o,setup(t,a){let{expose:r}=a;const o=s.shallowRef(null),reforwardRef=t=>{o.value=t?.chart};return r({chart:o}),()=>s.h(l,d({ref:reforwardRef},{type:e,...t}))}})}const c=createTypedChart("bar",a),p=createTypedChart("doughnut",e),u=createTypedChart("line",r);export{c as B,p as D,u as L};
//# sourceMappingURL=index-CBInS3QI.mjs.map
