import{_ as e}from"./nuxt-link-CboeUkiO.mjs";import{_ as a}from"./ModalCancelarCita-CLZyGkL8.mjs";import{ref as t,unref as d,withCtx as s,createVNode as i,createTextVNode as n,useSSRContext as o}from"vue";import{ssrRenderAttrs as r,ssrRenderComponent as l,ssrInterpolate as c,ssrRenderList as v,ssrRenderClass as p,ssrRenderAttr as b,ssrRenderStyle as m,ssrRenderTeleport as x}from"vue/server-renderer";import{ClockIcon as f,BoltIcon as u,CalendarIcon as g,ChatBubbleLeftRightIcon as h,SparklesIcon as w,CheckCircleIcon as _}from"@heroicons/vue/24/outline";import{u as y}from"./useSupabaseClient-DykwVqLQ.mjs";import{e as $}from"./server.mjs";import{_ as j}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"./useCitas-DyEZH6RI.mjs";import"../routes/renderer.mjs";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"vue-router";import"@supabase/ssr";import"@vercel/analytics/nuxt";const C={__name:"confirmaciones",__ssrInlineRender:!0,setup(o){const j=y();$();const C=t(!0),S=t([]),D=t(0),k=t("--"),P=t(0),T=t(!1),U=t(null),E=t(null),L=t("");t(!1);const M=t([]),R=t(0),V=t(0);t(0),t(0);const H=t(0),I=t({visible:!1,tipo:"success",titulo:"",mensaje:""}),obtenerIniciales=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"PA",formatearFechaCita=e=>{if(!e)return"Sin fecha";const a=new Date(e),t=new Date,d=new Date(t);return d.setDate(d.getDate()+1),t.setHours(0,0,0,0),d.setHours(0,0,0,0),a.setHours(0,0,0,0),a.getTime()===t.getTime()?"Hoy":a.getTime()===d.getTime()?"MaÃ±ana":a.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})},calcularTiempoRestante=(e,a)=>{if(!e||!a)return"--";const t=new Date,d=new Date(`${e}T${a}`)-t;if(d<0)return"Pasada";const s=Math.floor(d/36e5),i=Math.floor(d%36e5/6e4);if(s<1)return`${i}min`;if(s<24)return`${s}h ${i}min`;{const e=Math.floor(s/24);return`${e} dÃ­a${e>1?"s":""}`}},estaListaParaConfirmar=(e,a)=>{if(!e||!a)return!1;const t=new Date,d=new Date(`${e}T${a}`)-t;return d>0&&d<=864e5},estaListaParaRecordatorio=(e,a)=>{if(!e||!a)return!1;const t=new Date,d=new Date(`${e}T${a}`)-t;return d>0&&d<=144e5},cerrarModalCancelar=()=>{T.value=!1,U.value=null,E.value=null,L.value=""},handleCitaCancelada=e=>{cerrarModalCancelar(),null==e||e.reintegrada;((e,a,t="success")=>{I.value={visible:!0,tipo:t,titulo:e,mensaje:a},setTimeout(()=>{I.value.visible=!1},5e3)})("Cita Cancelada",(null==e?void 0:e.reintegrada)?"Se devolviÃ³ 1 sesiÃ³n al bono del paciente":"La sesiÃ³n se descontÃ³ del bono segÃºn polÃ­tica de cancelaciÃ³n","success"),(async()=>{try{const e=new Date;e.setHours(0,0,0,0);const a=e.toISOString().split("T")[0],{data:t,error:d}=await j.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        paciente_id,\n        terapeuta_id\n      ").eq("estado","pendiente").gte("fecha_cita",a).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0}).limit(50);if(d)throw d;if(!t||0===t.length)return S.value=[],D.value=0,k.value="--",void(P.value=0);const s=[...new Set(t.map(e=>e.paciente_id))],i=[...new Set(t.map(e=>e.terapeuta_id).filter(Boolean))],{data:n}=await j.from("pacientes").select("id, nombre_completo, telefono, email").in("id",s);let o=[];if(i.length>0){const{data:e}=await j.from("terapeutas").select("id, nombre_completo").in("id",i);o=e||[]}const r=new Map((null==n?void 0:n.map(e=>[e.id,e]))||[]),l=new Map(o.map(e=>[e.id,e]));if(S.value=t.map(a=>{const t=r.get(a.paciente_id),d=a.terapeuta_id?l.get(a.terapeuta_id):null,s=new Date(e);s.setDate(s.getDate()+2);const i=s.toISOString().split("T")[0];return{id:a.id,fecha:a.fecha_cita,hora_inicio:a.hora_inicio,modalidad:a.modalidad,estado:a.estado,esUrgente:a.fecha_cita<i,listaParaConfirmar:estaListaParaConfirmar(a.fecha_cita,a.hora_inicio),paciente:{nombre:(null==t?void 0:t.nombre_completo)||"Sin nombre",telefono:null==t?void 0:t.telefono,email:null==t?void 0:t.email},terapeuta:{nombre:(null==d?void 0:d.nombre_completo)||"Sin terapeuta"}}}),D.value=S.value.filter(e=>e.esUrgente).length,S.value.length>0){const e=S.value[0];k.value=calcularTiempoRestante(e.fecha,e.hora_inicio)}P.value=S.value.filter(e=>{var a;return e.listaParaConfirmar&&(null==(a=e.paciente)?void 0:a.telefono)}).length}catch(e){console.error("Error al cargar citas por confirmar:",e)}finally{C.value=!1}})(),cargarCitasConfirmadas()},cargarCitasConfirmadas=async()=>{try{const e=new Date;e.setHours(0,0,0,0);const a=e.toISOString().split("T")[0],{data:t,error:d}=await j.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        paciente_id,\n        terapeuta_id,\n        bono_id\n      ").eq("estado","confirmada").gte("fecha_cita",a).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0}).limit(50);if(d)throw d;if(!t||0===t.length)return M.value=[],V.value=0,void(R.value=0);const s=[...new Set(t.map(e=>e.paciente_id))],i=[...new Set(t.map(e=>e.terapeuta_id).filter(Boolean))],n=[...new Set(t.map(e=>e.bono_id).filter(Boolean))],{data:o}=await j.from("pacientes").select("id, nombre_completo, telefono").in("id",s);let r=[];if(n.length>0){const{data:e}=await j.from("bonos").select("id, sesiones_totales, sesiones_restantes, estado").in("id",n);r=e||[]}let l=[];if(i.length>0){const{data:e}=await j.from("terapeutas").select("id, nombre_completo").in("id",i);l=e||[]}const c=new Map((null==o?void 0:o.map(e=>[e.id,e]))||[]),v=new Map(l.map(e=>[e.id,e])),p=new Map(r.map(e=>[e.id,e]));M.value=t.map(e=>{const a=c.get(e.paciente_id),t=e.terapeuta_id?v.get(e.terapeuta_id):null,d=e.bono_id?p.get(e.bono_id):null;return{id:e.id,fecha:e.fecha_cita,hora_inicio:e.hora_inicio,modalidad:e.modalidad,estado:e.estado,listaParaRecordatorio:estaListaParaRecordatorio(e.fecha_cita,e.hora_inicio),paciente:{nombre:(null==a?void 0:a.nombre_completo)||"Sin nombre",telefono:null==a?void 0:a.telefono},terapeuta:{nombre:(null==t?void 0:t.nombre_completo)||"Sin terapeuta"},bono:d?{id:d.id,sesiones_totales:d.sesiones_totales,sesiones_restantes:d.sesiones_restantes,estado:d.estado,tiene_bono:!0}:null}}),V.value=M.value.filter(e=>e.fecha===a).length;const b=new Date(e);b.setDate(b.getDate()+7);const m=b.toISOString().split("T")[0];R.value=M.value.filter(e=>e.fecha<=m).length,H.value=M.value.filter(e=>{var a;return e.listaParaRecordatorio&&(null==(a=e.paciente)?void 0:a.telefono)}).length}catch(e){console.error("Error al cargar citas confirmadas:",e)}};return(t,o,y,$)=>{const j=e,U=a;o(`<div${r($)} data-v-6d26ebe1><div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8" data-v-6d26ebe1><div class="px-8 py-6 border-b border-gray-100" data-v-6d26ebe1><div class="flex items-center justify-between" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 bg-arena rounded-xl flex items-center justify-center" data-v-6d26ebe1>`),o(l(d(f),{class:"w-7 h-7 text-terracota"},null,y)),o('</div><div data-v-6d26ebe1><h2 class="text-xl font-semibold text-cafe" data-v-6d26ebe1> Citas pendientes de confirmaciÃ³n </h2><p class="text-sm text-cafe/60 mt-0.5" data-v-6d26ebe1> Gestiona las citas que requieren confirmaciÃ³n con el paciente </p></div></div>'),o(l(j,{to:"/coordinadora/agenda",class:"text-sm text-terracota hover:text-terracota/80 font-medium transition-colors flex items-center gap-1"},{default:s((e,a,t,d)=>{if(!a)return[i("span",null,"Ver agenda completa"),i("span",null,"â†’")];a(`<span data-v-6d26ebe1${d}>Ver agenda completa</span><span data-v-6d26ebe1${d}>â†’</span>`)}),_:1},y)),o('</div></div><div class="px-8 py-6" data-v-6d26ebe1><div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6" data-v-6d26ebe1><div class="bg-arena/30 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-terracota/10 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>'),o(l(d(f),{class:"w-6 h-6 text-terracota"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(S).length)}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Pendientes</p></div></div></div><div class="bg-orange-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(u),{class:"w-6 h-6 text-orange-600"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(D))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Urgentes</p></div></div></div><div class="bg-verde/10 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-verde/20 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(g),{class:"w-6 h-6 text-verde"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-lg font-semibold text-cafe truncate" data-v-6d26ebe1>${c(d(k))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>PrÃ³xima cita</p></div></div></div><div class="bg-green-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(h),{class:"w-6 h-6 text-green-600"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(P))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Listas para confirmar</p></div></div></div></div>`),d(C)?o('<div class="text-center py-12" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 border-3 border-terracota/20 border-t-terracota rounded-full animate-spin" data-v-6d26ebe1></div><p class="text-cafe/60 font-medium text-sm" data-v-6d26ebe1>Cargando citas...</p></div></div>'):d(S).length>0?(o('<div class="space-y-3" data-v-6d26ebe1>\x3c!--[--\x3e'),v(d(S),e=>{o(`<div class="group bg-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden" data-v-6d26ebe1><div class="flex items-stretch" data-v-6d26ebe1><div class="${p([{"bg-terracota":e.esUrgente,"bg-verde":!e.esUrgente},"w-1 flex-shrink-0"])}" data-v-6d26ebe1></div><div class="flex-1 p-5" data-v-6d26ebe1><div class="flex items-center gap-4" data-v-6d26ebe1><div class="flex-shrink-0" data-v-6d26ebe1><div class="${p([{"bg-terracota":e.esUrgente,"bg-cafe/80":!e.esUrgente},"w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold shadow-sm"])}" data-v-6d26ebe1>${c(obtenerIniciales(e.paciente.nombre))}</div></div><div class="flex-1 grid grid-cols-1 md:grid-cols-5 gap-4 items-center" data-v-6d26ebe1><div class="md:col-span-2" data-v-6d26ebe1><div class="flex items-center gap-2 mb-1" data-v-6d26ebe1><h4 class="font-semibold text-cafe" data-v-6d26ebe1>${c(e.paciente.nombre)}</h4>`),e.esUrgente?o('<span class="px-2 py-0.5 bg-terracota/10 text-terracota text-xs font-medium rounded-full" data-v-6d26ebe1> Urgente </span>'):o("\x3c!----\x3e"),e.listaParaConfirmar?o('<span class="inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full animate-pulse" data-v-6d26ebe1><span data-v-6d26ebe1>ğŸ””</span><span data-v-6d26ebe1>Lista para confirmar</span></span>'):o("\x3c!----\x3e"),o(`</div><p class="text-sm text-cafe/60" data-v-6d26ebe1>${c(e.terapeuta.nombre)}</p></div><div data-v-6d26ebe1><p class="text-sm font-medium text-cafe mb-0.5" data-v-6d26ebe1>${c(formatearFechaCita(e.fecha))}</p><p class="text-sm text-cafe/60" data-v-6d26ebe1>${c(e.hora_inicio)}</p></div><div data-v-6d26ebe1><span class="${p([{"bg-purple-50 text-purple-700":"online"===e.modalidad,"bg-verde/10 text-verde":"presencial"===e.modalidad},"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium"])}" data-v-6d26ebe1><span data-v-6d26ebe1>${c("online"===e.modalidad?"ğŸ’»":"ğŸ¥")}</span><span class="capitalize" data-v-6d26ebe1>${c(e.modalidad)}</span></span></div><div class="text-right" data-v-6d26ebe1><p class="${p([{"text-terracota":e.esUrgente,"text-cafe/70":!e.esUrgente},"text-sm font-semibold"])}" data-v-6d26ebe1>${c(calcularTiempoRestante(e.fecha,e.hora_inicio))}</p><p class="text-xs text-cafe/50" data-v-6d26ebe1>restante</p></div></div><div class="flex-shrink-0 flex items-center gap-2" data-v-6d26ebe1><div class="relative" data-v-6d26ebe1>`),e.paciente.telefono?o(`<button class="${p(["p-2.5 rounded-lg transition-colors",e.listaParaConfirmar?"bg-green-500 text-white hover:bg-green-600 animate-pulse":"bg-green-500/10 text-green-600 hover:bg-green-500 hover:text-white"])}"${b("title",e.listaParaConfirmar?"Â¡Lista para confirmar! Enviar WhatsApp":"Enviar WhatsApp")} data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>ğŸ’¬</span></button>`):o("\x3c!----\x3e"),e.listaParaConfirmar?o('<span class="absolute -top-1 -right-1 flex h-3 w-3" data-v-6d26ebe1><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75" data-v-6d26ebe1></span><span class="relative inline-flex rounded-full h-3 w-3 bg-red-500" data-v-6d26ebe1></span></span>'):o("\x3c!----\x3e"),o('</div><button class="p-2.5 bg-verde/10 text-verde hover:bg-verde hover:text-white rounded-lg transition-colors" title="Confirmar cita" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>âœ“</span></button><button class="p-2.5 bg-red-50 text-red-600 hover:bg-red-500 hover:text-white rounded-lg transition-colors" title="Cancelar cita" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>âœ•</span></button></div></div></div></div></div>')}),o("\x3c!--]--\x3e</div>")):(o('<div class="text-center py-16" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-4" data-v-6d26ebe1><div class="w-20 h-20 bg-verde/10 rounded-2xl flex items-center justify-center" data-v-6d26ebe1>'),o(l(d(w),{class:"w-12 h-12 text-verde"},null,y)),o('</div><div class="space-y-1" data-v-6d26ebe1><h3 class="text-lg font-semibold text-cafe" data-v-6d26ebe1> No hay citas pendientes por confirmar </h3><p class="text-sm text-cafe/60 max-w-sm" data-v-6d26ebe1> Todo estÃ¡ organizado, puedes revisar la agenda completa </p></div>'),o(l(j,{to:"/coordinadora/agenda",class:"mt-2 px-5 py-2 bg-terracota text-white rounded-lg hover:bg-terracota/90 transition-colors font-medium text-sm"},{default:s((e,a,t,d)=>{if(!a)return[n(" Ver agenda ")];a(" Ver agenda ")}),_:1},y)),o("</div></div>")),o('</div></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8" data-v-6d26ebe1><div class="px-8 py-6 border-b border-gray-100" data-v-6d26ebe1><div class="flex items-center justify-between" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 bg-verde/10 rounded-xl flex items-center justify-center" data-v-6d26ebe1>'),o(l(d(_),{class:"w-7 h-7 text-verde"},null,y)),o('</div><div data-v-6d26ebe1><h2 class="text-xl font-semibold text-cafe" data-v-6d26ebe1> Citas confirmadas </h2><p class="text-sm text-cafe/60 mt-0.5" data-v-6d26ebe1> Citas ya confirmadas con los pacientes </p></div></div>'),o(l(j,{to:"/coordinadora/agenda?estado=confirmada",class:"text-sm text-verde hover:text-verde/80 font-medium transition-colors flex items-center gap-1"},{default:s((e,a,t,d)=>{if(!a)return[i("span",null,"Ver todas"),i("span",null,"â†’")];a(`<span data-v-6d26ebe1${d}>Ver todas</span><span data-v-6d26ebe1${d}>â†’</span>`)}),_:1},y)),o('</div></div><div class="px-8 py-6" data-v-6d26ebe1><div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6" data-v-6d26ebe1><div class="bg-verde/10 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-verde/20 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>'),o(l(d(_),{class:"w-6 h-6 text-verde"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(M).length)}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Confirmadas</p></div></div></div><div class="bg-blue-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(g),{class:"w-6 h-6 text-blue-600"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(R))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>PrÃ³ximos 7 dÃ­as</p></div></div></div><div class="bg-purple-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(f),{class:"w-6 h-6 text-purple-600"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(V))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Hoy</p></div></div></div><div class="bg-amber-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),o(l(d(h),{class:"w-6 h-6 text-amber-600"},null,y)),o(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${c(d(H))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Recordatorios listos</p></div></div></div></div>`),d(M).length>0?(o('<div data-v-6d26ebe1><div class="space-y-3" data-v-6d26ebe1>\x3c!--[--\x3e'),v(d(M),e=>{o(`<div class="group bg-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden" data-v-6d26ebe1><div class="flex items-stretch" data-v-6d26ebe1><div class="w-1 bg-verde flex-shrink-0" data-v-6d26ebe1></div><div class="flex-1 p-5" data-v-6d26ebe1><div class="flex items-center gap-4" data-v-6d26ebe1><div class="flex-shrink-0 relative" data-v-6d26ebe1><div class="w-12 h-12 rounded-full bg-verde flex items-center justify-center text-white font-semibold shadow-sm" data-v-6d26ebe1>${c(obtenerIniciales(e.paciente.nombre))}</div><div class="absolute -bottom-1 -right-1 w-5 h-5 bg-white rounded-full flex items-center justify-center shadow-sm" data-v-6d26ebe1><span class="text-verde text-xs" data-v-6d26ebe1>âœ“</span></div></div><div class="flex-1 grid grid-cols-1 lg:grid-cols-6 gap-3 items-center" data-v-6d26ebe1><div class="lg:col-span-2" data-v-6d26ebe1><div class="flex items-center gap-2 mb-1" data-v-6d26ebe1><h4 class="font-semibold text-cafe" data-v-6d26ebe1>${c(e.paciente.nombre)}</h4>`),e.listaParaRecordatorio?o('<span class="inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full animate-pulse" data-v-6d26ebe1><span data-v-6d26ebe1>â°</span><span data-v-6d26ebe1>Enviar recordatorio</span></span>'):o("\x3c!----\x3e"),o(`</div><p class="text-sm text-cafe/60" data-v-6d26ebe1>${c(e.terapeuta.nombre)}</p></div><div data-v-6d26ebe1><p class="text-sm font-medium text-cafe mb-0.5" data-v-6d26ebe1>${c(formatearFechaCita(e.fecha))}</p><p class="text-sm text-cafe/60" data-v-6d26ebe1>${c(e.hora_inicio)}</p></div><div data-v-6d26ebe1><span class="${p([{"bg-purple-50 text-purple-700":"online"===e.modalidad,"bg-verde/10 text-verde":"presencial"===e.modalidad},"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium"])}" data-v-6d26ebe1><span data-v-6d26ebe1>${c("online"===e.modalidad?"ğŸ’»":"ğŸ¥")}</span><span class="capitalize" data-v-6d26ebe1>${c(e.modalidad)}</span></span></div><div data-v-6d26ebe1>`),e.bono?(o(`<div class="flex flex-col gap-1" data-v-6d26ebe1><div class="flex items-center gap-1.5" data-v-6d26ebe1><span class="text-xs text-cafe/60" data-v-6d26ebe1>ğŸ« Bono:</span><span class="${p([{"text-red-600":0===e.bono.sesiones_restantes,"text-orange-600":1===e.bono.sesiones_restantes,"text-amber-600":2===e.bono.sesiones_restantes,"text-verde":e.bono.sesiones_restantes>2},"text-xs font-semibold"])}" data-v-6d26ebe1>${c(e.bono.sesiones_restantes)}/${c(e.bono.sesiones_totales)}</span></div><div class="flex items-center gap-1" data-v-6d26ebe1><div class="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden" data-v-6d26ebe1><div class="${p([{"bg-red-500":0===e.bono.sesiones_restantes,"bg-orange-500":1===e.bono.sesiones_restantes,"bg-amber-500":2===e.bono.sesiones_restantes,"bg-verde":e.bono.sesiones_restantes>2},"h-full transition-all duration-300 rounded-full"])}" style="${m({width:e.bono.sesiones_restantes/e.bono.sesiones_totales*100+"%"})}" data-v-6d26ebe1></div></div></div>`),e.bono.sesiones_restantes<=2?o(`<span class="${p([{"text-red-600":0===e.bono.sesiones_restantes,"text-orange-600":1===e.bono.sesiones_restantes,"text-amber-600":2===e.bono.sesiones_restantes},"text-[10px] font-medium"])}" data-v-6d26ebe1>${c(0===e.bono.sesiones_restantes?"âš ï¸ Agotado":"âš ï¸ Renovar pronto")}</span>`):o("\x3c!----\x3e"),o("</div>")):o('<div class="text-xs text-cafe/40 italic" data-v-6d26ebe1> Sin bono </div>'),o('</div><div class="text-right" data-v-6d26ebe1><span class="inline-flex items-center gap-1 px-2.5 py-1 bg-verde/10 text-verde rounded-full text-xs font-medium" data-v-6d26ebe1><span data-v-6d26ebe1>âœ“</span><span data-v-6d26ebe1>Confirmada</span></span></div></div><div class="flex-shrink-0 flex items-center gap-2" data-v-6d26ebe1>'),e.paciente.telefono?(o(`<div class="relative" data-v-6d26ebe1><button class="${p(["p-2.5 rounded-lg transition-colors",e.listaParaRecordatorio?"bg-blue-500 text-white hover:bg-blue-600 animate-pulse":"bg-blue-500/10 text-blue-600 hover:bg-blue-500 hover:text-white"])}"${b("title",e.listaParaRecordatorio?"Â¡Lista para recordatorio! Enviar WhatsApp":"Enviar recordatorio por WhatsApp")} data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>ğŸ’¬</span></button>`),e.listaParaRecordatorio?o('<span class="absolute -top-1 -right-1 flex h-3 w-3" data-v-6d26ebe1><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75" data-v-6d26ebe1></span><span class="relative inline-flex rounded-full h-3 w-3 bg-blue-500" data-v-6d26ebe1></span></span>'):o("\x3c!----\x3e"),o("</div>")):o("\x3c!----\x3e"),o('<button class="p-2.5 bg-orange-50 text-orange-600 hover:bg-orange-500 hover:text-white rounded-lg transition-colors" title="Volver a pendiente" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>â†º</span></button></div></div></div></div></div>')}),o("\x3c!--]--\x3e</div></div>")):(o('<div class="text-center py-16" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-4" data-v-6d26ebe1><div class="w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center" data-v-6d26ebe1><span class="text-4xl" data-v-6d26ebe1>ğŸ“‹</span></div><div class="space-y-1" data-v-6d26ebe1><h3 class="text-lg font-semibold text-cafe" data-v-6d26ebe1> No hay citas confirmadas </h3><p class="text-sm text-cafe/60 max-w-sm" data-v-6d26ebe1> Las citas confirmadas con los pacientes aparecerÃ¡n aquÃ­ </p></div>'),o(l(j,{to:"/coordinadora/agenda",class:"mt-2 px-5 py-2 bg-verde text-white rounded-lg hover:bg-verde/90 transition-colors font-medium text-sm"},{default:s((e,a,t,d)=>{if(!a)return[n(" Ver agenda completa ")];a(" Ver agenda completa ")}),_:1},y)),o("</div></div>")),o("</div></div>"),d(E)?o(l(U,{cita:d(E),"is-open":d(T),onClose:cerrarModalCancelar,onCancelada:handleCitaCancelada},null,y)):o("\x3c!----\x3e"),x(o,e=>{d(I).visible?e(`<div class="fixed top-4 right-4 z-[70] animate-[slideIn_0.3s_ease-out]" data-v-6d26ebe1><div class="${p([{"border-green-500":"success"===d(I).tipo,"border-red-500":"error"===d(I).tipo},"bg-white rounded-lg shadow-2xl border-l-4 p-4 min-w-[320px] max-w-md"])}" data-v-6d26ebe1><div class="flex items-start gap-3" data-v-6d26ebe1><div class="${p([{"bg-green-100":"success"===d(I).tipo,"bg-red-100":"error"===d(I).tipo},"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0"])}" data-v-6d26ebe1><span class="text-2xl" data-v-6d26ebe1>${c("success"===d(I).tipo?"âœ“":"âœ—")}</span></div><div class="flex-1" data-v-6d26ebe1><p class="${p([{"text-green-700":"success"===d(I).tipo,"text-red-700":"error"===d(I).tipo},"font-bold mb-1"])}" data-v-6d26ebe1>${c(d(I).titulo)}</p><p class="text-sm text-cafe/70" data-v-6d26ebe1>${c(d(I).mensaje)}</p></div><button class="text-cafe/40 hover:text-cafe/60 transition-colors" data-v-6d26ebe1><span class="text-xl" data-v-6d26ebe1>Ã—</span></button></div></div></div>`):e("\x3c!----\x3e")},"body",!1,y),o("</div>")}}},S=C.setup;C.setup=(e,a)=>{const t=o();return(t.modules||(t.modules=new Set)).add("pages/coordinadora/confirmaciones.vue"),S?S(e,a):void 0};const D=j(C,[["__scopeId","data-v-6d26ebe1"]]);export{D as default};
//# sourceMappingURL=confirmaciones-vC-6ztDD.mjs.map
