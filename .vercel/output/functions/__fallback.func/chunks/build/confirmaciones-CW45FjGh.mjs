import{_ as e}from"./nuxt-link-C_f1d2Rj.mjs";import{_ as a}from"./ModalCancelarCita-DwtdG5WI.mjs";import{e as t,v as s,s as d}from"./server.mjs";import{u as n}from"./useSupabaseClient-DykwVqLQ.mjs";import{_ as r}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import{r as i}from"./ClockIcon-BxdFtPqx.mjs";import{r as o}from"./CalendarIcon-BrsGHJBC.mjs";import{r as l}from"./ChatBubbleLeftRightIcon-iHDVVAxi.mjs";import{r as c}from"./CheckCircleIcon-CT9fzVFs.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"./useCitas-DyEZH6RI.mjs";import"../routes/renderer.mjs";import"../_/shared.cjs.prod.mjs";import"estree-walker";import"source-map-js";import"node:stream";import"devalue";import"@supabase/ssr";import"@vercel/analytics/nuxt";function render$1(e,a){return s.openBlock(),s.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})])}function render(e,a){return s.openBlock(),s.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"})])}const v={__name:"confirmaciones",__ssrInlineRender:!0,setup(r){const v=n();t();const p=s.ref(!0),b=s.ref([]),f=s.ref(0),m=s.ref("--"),x=s.ref(0),u=s.ref(!1),g=s.ref(null),h=s.ref(null),w=s.ref("");s.ref(!1);const _=s.ref([]),C=s.ref(0),y=s.ref(0);s.ref(0),s.ref(0);const $=s.ref(0),R=s.ref({visible:!1,tipo:"success",titulo:"",mensaje:""}),obtenerIniciales=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):"PA",formatearFechaCita=e=>{if(!e)return"Sin fecha";const a=new Date(e),t=new Date,s=new Date(t);return s.setDate(s.getDate()+1),t.setHours(0,0,0,0),s.setHours(0,0,0,0),a.setHours(0,0,0,0),a.getTime()===t.getTime()?"Hoy":a.getTime()===s.getTime()?"MaÃ±ana":a.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})},calcularTiempoRestante=(e,a)=>{if(!e||!a)return"--";const t=new Date,s=new Date(`${e}T${a}`)-t;if(s<0)return"Pasada";const d=Math.floor(s/36e5),n=Math.floor(s%36e5/6e4);if(d<1)return`${n}min`;if(d<24)return`${d}h ${n}min`;{const e=Math.floor(d/24);return`${e} dÃ­a${e>1?"s":""}`}},estaListaParaConfirmar=(e,a)=>{if(!e||!a)return!1;const t=new Date,s=new Date(`${e}T${a}`)-t;return s>0&&s<=864e5},estaListaParaRecordatorio=(e,a)=>{if(!e||!a)return!1;const t=new Date,s=new Date(`${e}T${a}`)-t;return s>0&&s<=144e5},cerrarModalCancelar=()=>{u.value=!1,g.value=null,h.value=null,w.value=""},handleCitaCancelada=e=>{cerrarModalCancelar();((e,a,t="success")=>{R.value={visible:!0,tipo:t,titulo:e,mensaje:a},setTimeout(()=>{R.value.visible=!1},5e3)})("Cita Cancelada",e?.reintegrada?"Se devolviÃ³ 1 sesiÃ³n al bono del paciente":"La sesiÃ³n se descontÃ³ del bono segÃºn polÃ­tica de cancelaciÃ³n","success"),(async()=>{try{const e=new Date;e.setHours(0,0,0,0);const a=e.toISOString().split("T")[0],{data:t,error:s}=await v.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        paciente_id,\n        terapeuta_id\n      ").eq("estado","pendiente").gte("fecha_cita",a).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0}).limit(50);if(s)throw s;if(!t||0===t.length)return b.value=[],f.value=0,m.value="--",void(x.value=0);const d=[...new Set(t.map(e=>e.paciente_id))],n=[...new Set(t.map(e=>e.terapeuta_id).filter(Boolean))],{data:r}=await v.from("pacientes").select("id, nombre_completo, telefono, email").in("id",d);let i=[];if(n.length>0){const{data:e}=await v.from("terapeutas").select("id, nombre_completo").in("id",n);i=e||[]}const o=new Map(r?.map(e=>[e.id,e])||[]),l=new Map(i.map(e=>[e.id,e]));if(b.value=t.map(a=>{const t=o.get(a.paciente_id),s=a.terapeuta_id?l.get(a.terapeuta_id):null,d=new Date(e);d.setDate(d.getDate()+2);const n=d.toISOString().split("T")[0];return{id:a.id,fecha:a.fecha_cita,hora_inicio:a.hora_inicio,modalidad:a.modalidad,estado:a.estado,esUrgente:a.fecha_cita<n,listaParaConfirmar:estaListaParaConfirmar(a.fecha_cita,a.hora_inicio),paciente:{nombre:t?.nombre_completo||"Sin nombre",telefono:t?.telefono,email:t?.email},terapeuta:{nombre:s?.nombre_completo||"Sin terapeuta"}}}),f.value=b.value.filter(e=>e.esUrgente).length,b.value.length>0){const e=b.value[0];m.value=calcularTiempoRestante(e.fecha,e.hora_inicio)}x.value=b.value.filter(e=>e.listaParaConfirmar&&e.paciente?.telefono).length}catch(e){console.error("Error al cargar citas por confirmar:",e)}finally{p.value=!1}})(),cargarCitasConfirmadas()},cargarCitasConfirmadas=async()=>{try{const e=new Date;e.setHours(0,0,0,0);const a=e.toISOString().split("T")[0],{data:t,error:s}=await v.from("citas").select("\n        id,\n        fecha_cita,\n        hora_inicio,\n        modalidad,\n        estado,\n        paciente_id,\n        terapeuta_id,\n        bono_id\n      ").eq("estado","confirmada").gte("fecha_cita",a).order("fecha_cita",{ascending:!0}).order("hora_inicio",{ascending:!0}).limit(50);if(s)throw s;if(!t||0===t.length)return _.value=[],y.value=0,void(C.value=0);const d=[...new Set(t.map(e=>e.paciente_id))],n=[...new Set(t.map(e=>e.terapeuta_id).filter(Boolean))],r=[...new Set(t.map(e=>e.bono_id).filter(Boolean))],{data:i}=await v.from("pacientes").select("id, nombre_completo, telefono").in("id",d);let o=[];if(r.length>0){const{data:e}=await v.from("bonos").select("id, sesiones_totales, sesiones_restantes, estado").in("id",r);o=e||[]}let l=[];if(n.length>0){const{data:e}=await v.from("terapeutas").select("id, nombre_completo").in("id",n);l=e||[]}const c=new Map(i?.map(e=>[e.id,e])||[]),p=new Map(l.map(e=>[e.id,e])),b=new Map(o.map(e=>[e.id,e]));_.value=t.map(e=>{const a=c.get(e.paciente_id),t=e.terapeuta_id?p.get(e.terapeuta_id):null,s=e.bono_id?b.get(e.bono_id):null;return{id:e.id,fecha:e.fecha_cita,hora_inicio:e.hora_inicio,modalidad:e.modalidad,estado:e.estado,listaParaRecordatorio:estaListaParaRecordatorio(e.fecha_cita,e.hora_inicio),paciente:{nombre:a?.nombre_completo||"Sin nombre",telefono:a?.telefono},terapeuta:{nombre:t?.nombre_completo||"Sin terapeuta"},bono:s?{id:s.id,sesiones_totales:s.sesiones_totales,sesiones_restantes:s.sesiones_restantes,estado:s.estado,tiene_bono:!0}:null}}),y.value=_.value.filter(e=>e.fecha===a).length;const f=new Date(e);f.setDate(f.getDate()+7);const m=f.toISOString().split("T")[0];C.value=_.value.filter(e=>e.fecha<=m).length,$.value=_.value.filter(e=>e.listaParaRecordatorio&&e.paciente?.telefono).length}catch(e){console.error("Error al cargar citas confirmadas:",e)}};return(t,n,r,v)=>{const g=e,w=a;n(`<div${d.ssrRenderAttrs(v)} data-v-6d26ebe1><div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8" data-v-6d26ebe1><div class="px-8 py-6 border-b border-gray-100" data-v-6d26ebe1><div class="flex items-center justify-between" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 bg-arena rounded-xl flex items-center justify-center" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(i),{class:"w-7 h-7 text-terracota"},null,r)),n('</div><div data-v-6d26ebe1><h2 class="text-xl font-semibold text-cafe" data-v-6d26ebe1> Citas pendientes de confirmaciÃ³n </h2><p class="text-sm text-cafe/60 mt-0.5" data-v-6d26ebe1> Gestiona las citas que requieren confirmaciÃ³n con el paciente </p></div></div>'),n(d.ssrRenderComponent(g,{to:"/coordinadora/agenda",class:"text-sm text-terracota hover:text-terracota/80 font-medium transition-colors flex items-center gap-1"},{default:s.withCtx((e,a,t,d)=>{if(!a)return[s.createVNode("span",null,"Ver agenda completa"),s.createVNode("span",null,"â†’")];a(`<span data-v-6d26ebe1${d}>Ver agenda completa</span><span data-v-6d26ebe1${d}>â†’</span>`)}),_:1},r)),n('</div></div><div class="px-8 py-6" data-v-6d26ebe1><div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6" data-v-6d26ebe1><div class="bg-arena/30 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-terracota/10 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>'),n(d.ssrRenderComponent(s.unref(i),{class:"w-6 h-6 text-terracota"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(b).length)}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Pendientes</p></div></div></div><div class="bg-orange-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(render$1),{class:"w-6 h-6 text-orange-600"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(f))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Urgentes</p></div></div></div><div class="bg-verde/10 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-verde/20 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(o),{class:"w-6 h-6 text-verde"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-lg font-semibold text-cafe truncate" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(m))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>PrÃ³xima cita</p></div></div></div><div class="bg-green-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(l),{class:"w-6 h-6 text-green-600"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(x))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Listas para confirmar</p></div></div></div></div>`),s.unref(p)?n('<div class="text-center py-12" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 border-3 border-terracota/20 border-t-terracota rounded-full animate-spin" data-v-6d26ebe1></div><p class="text-cafe/60 font-medium text-sm" data-v-6d26ebe1>Cargando citas...</p></div></div>'):s.unref(b).length>0?(n('<div class="space-y-3" data-v-6d26ebe1>\x3c!--[--\x3e'),d.ssrRenderList(s.unref(b),e=>{n(`<div class="group bg-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden" data-v-6d26ebe1><div class="flex items-stretch" data-v-6d26ebe1><div class="${d.ssrRenderClass([{"bg-terracota":e.esUrgente,"bg-verde":!e.esUrgente},"w-1 flex-shrink-0"])}" data-v-6d26ebe1></div><div class="flex-1 p-5" data-v-6d26ebe1><div class="flex items-center gap-4" data-v-6d26ebe1><div class="flex-shrink-0" data-v-6d26ebe1><div class="${d.ssrRenderClass([{"bg-terracota":e.esUrgente,"bg-cafe/80":!e.esUrgente},"w-12 h-12 rounded-full flex items-center justify-center text-white font-semibold shadow-sm"])}" data-v-6d26ebe1>${d.ssrInterpolate(obtenerIniciales(e.paciente.nombre))}</div></div><div class="flex-1 grid grid-cols-1 md:grid-cols-5 gap-4 items-center" data-v-6d26ebe1><div class="md:col-span-2" data-v-6d26ebe1><div class="flex items-center gap-2 mb-1" data-v-6d26ebe1><h4 class="font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(e.paciente.nombre)}</h4>`),e.esUrgente?n('<span class="px-2 py-0.5 bg-terracota/10 text-terracota text-xs font-medium rounded-full" data-v-6d26ebe1> Urgente </span>'):n("\x3c!----\x3e"),e.listaParaConfirmar?n('<span class="inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full animate-pulse" data-v-6d26ebe1><span data-v-6d26ebe1>ğŸ””</span><span data-v-6d26ebe1>Lista para confirmar</span></span>'):n("\x3c!----\x3e"),n(`</div><p class="text-sm text-cafe/60" data-v-6d26ebe1>${d.ssrInterpolate(e.terapeuta.nombre)}</p></div><div data-v-6d26ebe1><p class="text-sm font-medium text-cafe mb-0.5" data-v-6d26ebe1>${d.ssrInterpolate(formatearFechaCita(e.fecha))}</p><p class="text-sm text-cafe/60" data-v-6d26ebe1>${d.ssrInterpolate(e.hora_inicio)}</p></div><div data-v-6d26ebe1><span class="${d.ssrRenderClass([{"bg-purple-50 text-purple-700":"online"===e.modalidad,"bg-verde/10 text-verde":"presencial"===e.modalidad},"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium"])}" data-v-6d26ebe1><span data-v-6d26ebe1>${d.ssrInterpolate("online"===e.modalidad?"ğŸ’»":"ğŸ¥")}</span><span class="capitalize" data-v-6d26ebe1>${d.ssrInterpolate(e.modalidad)}</span></span></div><div class="text-right" data-v-6d26ebe1><p class="${d.ssrRenderClass([{"text-terracota":e.esUrgente,"text-cafe/70":!e.esUrgente},"text-sm font-semibold"])}" data-v-6d26ebe1>${d.ssrInterpolate(calcularTiempoRestante(e.fecha,e.hora_inicio))}</p><p class="text-xs text-cafe/50" data-v-6d26ebe1>restante</p></div></div><div class="flex-shrink-0 flex items-center gap-2" data-v-6d26ebe1><div class="relative" data-v-6d26ebe1>`),e.paciente.telefono?n(`<button class="${d.ssrRenderClass(["p-2.5 rounded-lg transition-colors",e.listaParaConfirmar?"bg-green-500 text-white hover:bg-green-600 animate-pulse":"bg-green-500/10 text-green-600 hover:bg-green-500 hover:text-white"])}"${d.ssrRenderAttr("title",e.listaParaConfirmar?"Â¡Lista para confirmar! Enviar WhatsApp":"Enviar WhatsApp")} data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>ğŸ’¬</span></button>`):n("\x3c!----\x3e"),e.listaParaConfirmar?n('<span class="absolute -top-1 -right-1 flex h-3 w-3" data-v-6d26ebe1><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75" data-v-6d26ebe1></span><span class="relative inline-flex rounded-full h-3 w-3 bg-red-500" data-v-6d26ebe1></span></span>'):n("\x3c!----\x3e"),n('</div><button class="p-2.5 bg-verde/10 text-verde hover:bg-verde hover:text-white rounded-lg transition-colors" title="Confirmar cita" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>âœ“</span></button><button class="p-2.5 bg-red-50 text-red-600 hover:bg-red-500 hover:text-white rounded-lg transition-colors" title="Cancelar cita" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>âœ•</span></button></div></div></div></div></div>')}),n("\x3c!--]--\x3e</div>")):(n('<div class="text-center py-16" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-4" data-v-6d26ebe1><div class="w-20 h-20 bg-verde/10 rounded-2xl flex items-center justify-center" data-v-6d26ebe1>'),n(d.ssrRenderComponent(s.unref(render),{class:"w-12 h-12 text-verde"},null,r)),n('</div><div class="space-y-1" data-v-6d26ebe1><h3 class="text-lg font-semibold text-cafe" data-v-6d26ebe1> No hay citas pendientes por confirmar </h3><p class="text-sm text-cafe/60 max-w-sm" data-v-6d26ebe1> Todo estÃ¡ organizado, puedes revisar la agenda completa </p></div>'),n(d.ssrRenderComponent(g,{to:"/coordinadora/agenda",class:"mt-2 px-5 py-2 bg-terracota text-white rounded-lg hover:bg-terracota/90 transition-colors font-medium text-sm"},{default:s.withCtx((e,a,t,d)=>{if(!a)return[s.createTextVNode(" Ver agenda ")];a(" Ver agenda ")}),_:1},r)),n("</div></div>")),n('</div></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden mb-8" data-v-6d26ebe1><div class="px-8 py-6 border-b border-gray-100" data-v-6d26ebe1><div class="flex items-center justify-between" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-12 h-12 bg-verde/10 rounded-xl flex items-center justify-center" data-v-6d26ebe1>'),n(d.ssrRenderComponent(s.unref(c),{class:"w-7 h-7 text-verde"},null,r)),n('</div><div data-v-6d26ebe1><h2 class="text-xl font-semibold text-cafe" data-v-6d26ebe1> Citas confirmadas </h2><p class="text-sm text-cafe/60 mt-0.5" data-v-6d26ebe1> Citas ya confirmadas con los pacientes </p></div></div>'),n(d.ssrRenderComponent(g,{to:"/coordinadora/agenda?estado=confirmada",class:"text-sm text-verde hover:text-verde/80 font-medium transition-colors flex items-center gap-1"},{default:s.withCtx((e,a,t,d)=>{if(!a)return[s.createVNode("span",null,"Ver todas"),s.createVNode("span",null,"â†’")];a(`<span data-v-6d26ebe1${d}>Ver todas</span><span data-v-6d26ebe1${d}>â†’</span>`)}),_:1},r)),n('</div></div><div class="px-8 py-6" data-v-6d26ebe1><div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6" data-v-6d26ebe1><div class="bg-verde/10 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-verde/20 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>'),n(d.ssrRenderComponent(s.unref(c),{class:"w-6 h-6 text-verde"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(_).length)}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Confirmadas</p></div></div></div><div class="bg-blue-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(o),{class:"w-6 h-6 text-blue-600"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(C))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>PrÃ³ximos 7 dÃ­as</p></div></div></div><div class="bg-purple-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(i),{class:"w-6 h-6 text-purple-600"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(y))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Hoy</p></div></div></div><div class="bg-amber-50/50 rounded-xl p-4 hover:shadow-sm transition-shadow" data-v-6d26ebe1><div class="flex items-center gap-3" data-v-6d26ebe1><div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0" data-v-6d26ebe1>`),n(d.ssrRenderComponent(s.unref(l),{class:"w-6 h-6 text-amber-600"},null,r)),n(`</div><div class="flex-1 min-w-0" data-v-6d26ebe1><p class="text-2xl font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(s.unref($))}</p><p class="text-xs text-cafe/60 font-medium" data-v-6d26ebe1>Recordatorios listos</p></div></div></div></div>`),s.unref(_).length>0?(n('<div data-v-6d26ebe1><div class="space-y-3" data-v-6d26ebe1>\x3c!--[--\x3e'),d.ssrRenderList(s.unref(_),e=>{n(`<div class="group bg-white rounded-xl border border-gray-100 hover:shadow-md transition-all duration-200 overflow-hidden" data-v-6d26ebe1><div class="flex items-stretch" data-v-6d26ebe1><div class="w-1 bg-verde flex-shrink-0" data-v-6d26ebe1></div><div class="flex-1 p-5" data-v-6d26ebe1><div class="flex items-center gap-4" data-v-6d26ebe1><div class="flex-shrink-0 relative" data-v-6d26ebe1><div class="w-12 h-12 rounded-full bg-verde flex items-center justify-center text-white font-semibold shadow-sm" data-v-6d26ebe1>${d.ssrInterpolate(obtenerIniciales(e.paciente.nombre))}</div><div class="absolute -bottom-1 -right-1 w-5 h-5 bg-white rounded-full flex items-center justify-center shadow-sm" data-v-6d26ebe1><span class="text-verde text-xs" data-v-6d26ebe1>âœ“</span></div></div><div class="flex-1 grid grid-cols-1 lg:grid-cols-6 gap-3 items-center" data-v-6d26ebe1><div class="lg:col-span-2" data-v-6d26ebe1><div class="flex items-center gap-2 mb-1" data-v-6d26ebe1><h4 class="font-semibold text-cafe" data-v-6d26ebe1>${d.ssrInterpolate(e.paciente.nombre)}</h4>`),e.listaParaRecordatorio?n('<span class="inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full animate-pulse" data-v-6d26ebe1><span data-v-6d26ebe1>â°</span><span data-v-6d26ebe1>Enviar recordatorio</span></span>'):n("\x3c!----\x3e"),n(`</div><p class="text-sm text-cafe/60" data-v-6d26ebe1>${d.ssrInterpolate(e.terapeuta.nombre)}</p></div><div data-v-6d26ebe1><p class="text-sm font-medium text-cafe mb-0.5" data-v-6d26ebe1>${d.ssrInterpolate(formatearFechaCita(e.fecha))}</p><p class="text-sm text-cafe/60" data-v-6d26ebe1>${d.ssrInterpolate(e.hora_inicio)}</p></div><div data-v-6d26ebe1><span class="${d.ssrRenderClass([{"bg-purple-50 text-purple-700":"online"===e.modalidad,"bg-verde/10 text-verde":"presencial"===e.modalidad},"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium"])}" data-v-6d26ebe1><span data-v-6d26ebe1>${d.ssrInterpolate("online"===e.modalidad?"ğŸ’»":"ğŸ¥")}</span><span class="capitalize" data-v-6d26ebe1>${d.ssrInterpolate(e.modalidad)}</span></span></div><div data-v-6d26ebe1>`),e.bono?(n(`<div class="flex flex-col gap-1" data-v-6d26ebe1><div class="flex items-center gap-1.5" data-v-6d26ebe1><span class="text-xs text-cafe/60" data-v-6d26ebe1>ğŸ« Bono:</span><span class="${d.ssrRenderClass([{"text-red-600":0===e.bono.sesiones_restantes,"text-orange-600":1===e.bono.sesiones_restantes,"text-amber-600":2===e.bono.sesiones_restantes,"text-verde":e.bono.sesiones_restantes>2},"text-xs font-semibold"])}" data-v-6d26ebe1>${d.ssrInterpolate(e.bono.sesiones_restantes)}/${d.ssrInterpolate(e.bono.sesiones_totales)}</span></div><div class="flex items-center gap-1" data-v-6d26ebe1><div class="flex-1 h-1.5 bg-gray-200 rounded-full overflow-hidden" data-v-6d26ebe1><div class="${d.ssrRenderClass([{"bg-red-500":0===e.bono.sesiones_restantes,"bg-orange-500":1===e.bono.sesiones_restantes,"bg-amber-500":2===e.bono.sesiones_restantes,"bg-verde":e.bono.sesiones_restantes>2},"h-full transition-all duration-300 rounded-full"])}" style="${d.ssrRenderStyle({width:e.bono.sesiones_restantes/e.bono.sesiones_totales*100+"%"})}" data-v-6d26ebe1></div></div></div>`),e.bono.sesiones_restantes<=2?n(`<span class="${d.ssrRenderClass([{"text-red-600":0===e.bono.sesiones_restantes,"text-orange-600":1===e.bono.sesiones_restantes,"text-amber-600":2===e.bono.sesiones_restantes},"text-[10px] font-medium"])}" data-v-6d26ebe1>${d.ssrInterpolate(0===e.bono.sesiones_restantes?"âš ï¸ Agotado":"âš ï¸ Renovar pronto")}</span>`):n("\x3c!----\x3e"),n("</div>")):n('<div class="text-xs text-cafe/40 italic" data-v-6d26ebe1> Sin bono </div>'),n('</div><div class="text-right" data-v-6d26ebe1><span class="inline-flex items-center gap-1 px-2.5 py-1 bg-verde/10 text-verde rounded-full text-xs font-medium" data-v-6d26ebe1><span data-v-6d26ebe1>âœ“</span><span data-v-6d26ebe1>Confirmada</span></span></div></div><div class="flex-shrink-0 flex items-center gap-2" data-v-6d26ebe1>'),e.paciente.telefono?(n(`<div class="relative" data-v-6d26ebe1><button class="${d.ssrRenderClass(["p-2.5 rounded-lg transition-colors",e.listaParaRecordatorio?"bg-blue-500 text-white hover:bg-blue-600 animate-pulse":"bg-blue-500/10 text-blue-600 hover:bg-blue-500 hover:text-white"])}"${d.ssrRenderAttr("title",e.listaParaRecordatorio?"Â¡Lista para recordatorio! Enviar WhatsApp":"Enviar recordatorio por WhatsApp")} data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>ğŸ’¬</span></button>`),e.listaParaRecordatorio?n('<span class="absolute -top-1 -right-1 flex h-3 w-3" data-v-6d26ebe1><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75" data-v-6d26ebe1></span><span class="relative inline-flex rounded-full h-3 w-3 bg-blue-500" data-v-6d26ebe1></span></span>'):n("\x3c!----\x3e"),n("</div>")):n("\x3c!----\x3e"),n('<button class="p-2.5 bg-orange-50 text-orange-600 hover:bg-orange-500 hover:text-white rounded-lg transition-colors" title="Volver a pendiente" data-v-6d26ebe1><span class="text-lg" data-v-6d26ebe1>â†º</span></button></div></div></div></div></div>')}),n("\x3c!--]--\x3e</div></div>")):(n('<div class="text-center py-16" data-v-6d26ebe1><div class="inline-flex flex-col items-center gap-4" data-v-6d26ebe1><div class="w-20 h-20 bg-gray-100 rounded-2xl flex items-center justify-center" data-v-6d26ebe1><span class="text-4xl" data-v-6d26ebe1>ğŸ“‹</span></div><div class="space-y-1" data-v-6d26ebe1><h3 class="text-lg font-semibold text-cafe" data-v-6d26ebe1> No hay citas confirmadas </h3><p class="text-sm text-cafe/60 max-w-sm" data-v-6d26ebe1> Las citas confirmadas con los pacientes aparecerÃ¡n aquÃ­ </p></div>'),n(d.ssrRenderComponent(g,{to:"/coordinadora/agenda",class:"mt-2 px-5 py-2 bg-verde text-white rounded-lg hover:bg-verde/90 transition-colors font-medium text-sm"},{default:s.withCtx((e,a,t,d)=>{if(!a)return[s.createTextVNode(" Ver agenda completa ")];a(" Ver agenda completa ")}),_:1},r)),n("</div></div>")),n("</div></div>"),s.unref(h)?n(d.ssrRenderComponent(w,{cita:s.unref(h),"is-open":s.unref(u),onClose:cerrarModalCancelar,onCancelada:handleCitaCancelada},null,r)):n("\x3c!----\x3e"),d.ssrRenderTeleport(n,e=>{s.unref(R).visible?e(`<div class="fixed top-4 right-4 z-[70] animate-[slideIn_0.3s_ease-out]" data-v-6d26ebe1><div class="${d.ssrRenderClass([{"border-green-500":"success"===s.unref(R).tipo,"border-red-500":"error"===s.unref(R).tipo},"bg-white rounded-lg shadow-2xl border-l-4 p-4 min-w-[320px] max-w-md"])}" data-v-6d26ebe1><div class="flex items-start gap-3" data-v-6d26ebe1><div class="${d.ssrRenderClass([{"bg-green-100":"success"===s.unref(R).tipo,"bg-red-100":"error"===s.unref(R).tipo},"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0"])}" data-v-6d26ebe1><span class="text-2xl" data-v-6d26ebe1>${d.ssrInterpolate("success"===s.unref(R).tipo?"âœ“":"âœ—")}</span></div><div class="flex-1" data-v-6d26ebe1><p class="${d.ssrRenderClass([{"text-green-700":"success"===s.unref(R).tipo,"text-red-700":"error"===s.unref(R).tipo},"font-bold mb-1"])}" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(R).titulo)}</p><p class="text-sm text-cafe/70" data-v-6d26ebe1>${d.ssrInterpolate(s.unref(R).mensaje)}</p></div><button class="text-cafe/40 hover:text-cafe/60 transition-colors" data-v-6d26ebe1><span class="text-xl" data-v-6d26ebe1>Ã—</span></button></div></div></div>`):e("\x3c!----\x3e")},"body",!1,r),n("</div>")}}},p=v.setup;v.setup=(e,a)=>{const t=s.useSSRContext();return(t.modules||(t.modules=new Set)).add("pages/coordinadora/confirmaciones.vue"),p?p(e,a):void 0};const b=r(v,[["__scopeId","data-v-6d26ebe1"]]);export{b as default};
//# sourceMappingURL=confirmaciones-CW45FjGh.mjs.map
