import{a as e,v as a,s as r}from"./server.mjs";import{u as o}from"./useSupabaseClient-DykwVqLQ.mjs";import"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../_/shared.cjs.prod.mjs";import"node:stream";import"@supabase/ssr";import"@vercel/analytics/nuxt";const n={__name:"nuevo",__ssrInlineRender:!0,setup(n){o(),e();const s=a.ref({nombre_completo:"",email:"",telefono:"",area_de_acompanamiento:"",frecuencia:"",notas_iniciales:"",activo:!0}),t=a.ref(!1),l=a.ref(""),i=a.computed(()=>""!==s.value.nombre_completo.trim()&&""!==s.value.email.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email));return(e,o,n,c)=>{o(`<div${r.ssrRenderAttrs(a.mergeProps({class:"max-w-3xl mx-auto pb-20"},c))}><button class="mb-6 flex items-center gap-2 text-cafe hover:text-terracota transition-colors"><span>←</span><span>Volver a lista de pacientes</span></button><div class="mb-8"><h1 class="text-3xl font-serif font-bold text-cafe mb-2"> Nuevo Paciente </h1><p class="text-cafe/60"> Completa la información del nuevo paciente </p></div><div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6"><form class="space-y-6"><div><label class="block text-sm font-medium text-cafe mb-2"> Nombre Completo <span class="text-red-500">*</span></label><input${r.ssrRenderAttr("value",a.unref(s).nombre_completo)} type="text" required placeholder="Ej: María García López" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"></div><div><label class="block text-sm font-medium text-cafe mb-2"> Email <span class="text-red-500">*</span></label><input${r.ssrRenderAttr("value",a.unref(s).email)} type="email" required placeholder="ejemplo@correo.com" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"></div><div><label class="block text-sm font-medium text-cafe mb-2"> Teléfono </label><input${r.ssrRenderAttr("value",a.unref(s).telefono)} type="tel" placeholder="+34 600 000 000" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><p class="text-xs text-gray-500 mt-1"> Incluye el código de país para WhatsApp </p></div><div><label class="block text-sm font-medium text-cafe mb-2"> Área de Acompañamiento </label><select class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><option value=""${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,""):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,""))?" selected":""}>Selecciona un área</option><option value="Ansiedad"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Ansiedad"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Ansiedad"))?" selected":""}>Ansiedad</option><option value="Depresión"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Depresión"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Depresión"))?" selected":""}>Depresión</option><option value="Duelo"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Duelo"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Duelo"))?" selected":""}>Duelo</option><option value="Autoestima"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Autoestima"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Autoestima"))?" selected":""}>Autoestima</option><option value="Relaciones"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Relaciones"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Relaciones"))?" selected":""}>Relaciones</option><option value="Familia"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Familia"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Familia"))?" selected":""}>Familia</option><option value="Trauma"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Trauma"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Trauma"))?" selected":""}>Trauma</option><option value="Estrés"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Estrés"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Estrés"))?" selected":""}>Estrés</option><option value="Desarrollo Personal"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Desarrollo Personal"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Desarrollo Personal"))?" selected":""}>Desarrollo Personal</option><option value="Otro"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).area_de_acompanamiento)?r.ssrLooseContain(a.unref(s).area_de_acompanamiento,"Otro"):r.ssrLooseEqual(a.unref(s).area_de_acompanamiento,"Otro"))?" selected":""}>Otro</option></select></div><div><label class="block text-sm font-medium text-cafe mb-2"> Frecuencia de Sesiones </label><select class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent"><option value=""${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).frecuencia)?r.ssrLooseContain(a.unref(s).frecuencia,""):r.ssrLooseEqual(a.unref(s).frecuencia,""))?" selected":""}>Selecciona una frecuencia</option><option value="semanal"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).frecuencia)?r.ssrLooseContain(a.unref(s).frecuencia,"semanal"):r.ssrLooseEqual(a.unref(s).frecuencia,"semanal"))?" selected":""}>Semanal</option><option value="quincenal"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).frecuencia)?r.ssrLooseContain(a.unref(s).frecuencia,"quincenal"):r.ssrLooseEqual(a.unref(s).frecuencia,"quincenal"))?" selected":""}>Quincenal</option><option value="mensual"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).frecuencia)?r.ssrLooseContain(a.unref(s).frecuencia,"mensual"):r.ssrLooseEqual(a.unref(s).frecuencia,"mensual"))?" selected":""}>Mensual</option><option value="ocasional"${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).frecuencia)?r.ssrLooseContain(a.unref(s).frecuencia,"ocasional"):r.ssrLooseEqual(a.unref(s).frecuencia,"ocasional"))?" selected":""}>Ocasional</option></select></div><div><label class="block text-sm font-medium text-cafe mb-2"> Notas Iniciales </label><textarea rows="4" placeholder="Información relevante sobre el paciente..." class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-terracota focus:border-transparent resize-none">${r.ssrInterpolate(a.unref(s).notas_iniciales)}</textarea></div><div class="flex items-center gap-3"><input${r.ssrIncludeBooleanAttr(Array.isArray(a.unref(s).activo)?r.ssrLooseContain(a.unref(s).activo,null):a.unref(s).activo)?" checked":""} type="checkbox" id="activo" class="w-5 h-5 text-terracota border-gray-300 rounded focus:ring-2 focus:ring-terracota"><label for="activo" class="text-sm font-medium text-cafe cursor-pointer"> Paciente activo </label></div>`),a.unref(l)?o(`<div class="p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"><span class="text-red-500 text-lg">⚠️</span><div class="flex-1"><p class="text-sm font-medium text-red-800">Error al guardar</p><p class="text-sm text-red-600 mt-1">${r.ssrInterpolate(a.unref(l))}</p></div></div>`):o("\x3c!----\x3e"),o(`<div class="flex gap-3 pt-4"><button type="button"${r.ssrIncludeBooleanAttr(a.unref(t))?" disabled":""} class="flex-1 px-6 py-3 border border-gray-300 text-cafe rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"> Cancelar </button><button type="submit"${r.ssrIncludeBooleanAttr(a.unref(t)||!a.unref(i))?" disabled":""} class="flex-1 px-6 py-3 bg-terracota text-white rounded-lg hover:bg-terracota/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2">`),a.unref(t)?o('<span class="animate-spin">⏳</span>'):o("\x3c!----\x3e"),o(`<span>${r.ssrInterpolate(a.unref(t)?"Guardando...":"Guardar Paciente")}</span></button></div></form></div></div>`)}}},s=n.setup;n.setup=(e,r)=>{const o=a.useSSRContext();return(o.modules||(o.modules=new Set)).add("pages/coordinadora/pacientes/nuevo.vue"),s?s(e,r):void 0};export{n as default};
//# sourceMappingURL=nuevo-CSYMBQ4T.mjs.map
