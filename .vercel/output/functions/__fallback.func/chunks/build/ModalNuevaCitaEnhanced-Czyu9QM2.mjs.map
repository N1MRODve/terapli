{"version":3,"file":"ModalNuevaCitaEnhanced-Czyu9QM2.mjs","sources":["../../../../../../node_modules/.cache/nuxt/.nuxt/dist/server/_nuxt/ModalNuevaCitaEnhanced-Czyu9QM2.js"],"sourcesContent":null,"names":["t$4","e2","queueMicrotask","Promise","resolve","then","catch","o2","setTimeout","o$3","a2","s3","addEventListener","t2","r2","i2","add","removeEventListener","requestAnimationFrame","cancelAnimationFrame","nextFrame","clearTimeout","microTask","current","style","getPropertyValue","Object","assign","this","group","dispose","push","indexOf","splice","r","n$4","Symbol","o$2","i$5","vueExports","useId","inject","o$1","l2","value","n2","$el","Node","u$5","Error","keys","map","join","captureStackTrace","i$4","defineProperty","n$3","enumerable","configurable","writable","d$3","c$2","constructor","detect","set","currentId","reset","nextId","isServer","isClient","i$3","ownerDocument","hasOwnProperty","c$1","N$4","First","Previous","Next","Last","WrapAround","NoScroll","T$2","Overflow","Success","Underflow","F","h","Strict","Loose","y$2","Keyboard","Mouse","S$1","focus","preventScroll","H$2","P","sorted","relativeTo","skipElements","m2","Array","isArray","length","slice","sort","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_PRECEDING","O","body","from","querySelectorAll","Math","sign","tabIndex","Number","MAX_SAFE_INTEGER","E$2","filter","includes","activeElement","u2","x2","p","max","L2","d2","matches","call","I","select","t$3","test","navigator","platform","maxTouchPoints","u$4","watchEffect","w$3","w$2","f2","computed","defaultPrevented","getRootNode","contains","c2","Set","HTMLElement","composed","composedPath","parentElement","w$4","preventDefault","ref","target","userAgent","document","HTMLIFrameElement","N$3","None","RenderStrategy","Static","S","Unmount","Hidden","A$2","visible","features","ourProps","theirProps","j","props","static","y$1","unmount","hidden","display","attrs","slots","slot","name","h2","as","T$1","default","entries","b","type","v","concat","trim","g2","R2","localeCompare","cloneVNode","startsWith","flatMap","Fragment","children","disabled","fromEntries","Event","u$3","Focusable","f$1","defineComponent","String","setup","position","top","left","width","height","padding","margin","overflow","clip","whiteSpace","borderWidth","n$1","i$1","Open","Closed","Closing","Opening","l$1","o","Space","Enter","Escape","Backspace","Delete","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End","PageUp","PageDown","Tab","t$1","E$1","d$2","Forwards","Backwards","B","A$1","InitialFocus","TabLock","FocusLock","RestoreFocus","All","ue","initialFocus","containers","Function","inheritAttrs","n$12","expose","el","watch","flush","W$1","$$1","Boolean","container","z$1","previousActiveElement","defaultView","N$2","stopPropagation","J","key","shiftKey","n","T2","relatedTarget","F2","H2","dataset","headlessuiFocusGuard","onKeydown","onFocusout","w2","Q2","O2","onFocus","c","before","doc","documentElement","innerWidth","clientWidth","after","d","offsetWidth","m","a","getSnapshot","subscribe","delete","dispatch","forEach","a$1","Map","PUSH","get","count","meta","POP","SCROLL_PREVENT","c$12","some","getComputedStyle","scrollBehavior","scrollY","pageYOffset","closest","hash","URL","href","querySelector","tagName","headlessuiPortal","scrollHeight","clientHeight","scrollWidth","passive","scrollTo","isConnected","scrollIntoView","block","SCROLL_ALLOW","TEARDOWN","d$1","a$12","shallowRef","m$1","immediate","values","i","t","E","removeAttribute","setAttribute","inert","getAttribute","e","u$2","force","provide","u$1","s2","Add","Remove","R$1","enabled","element","onUpdate","u","id","w","reduce","unref","f","WeakMap","M","U","$","H$1","getElementById","createElement","appendChild","x","resolveTarget","v2","getCurrentInstance","Teleport","to","z","reactive","Te$1","H","T","A","Ye","open","role","emits","close","emit","s$12","q$1","W2","console","warn","D","S2","E$22","k$1","N2","X","unregister","register","portals","q","resolveContainers","B2","mainTreeNodeRef","K","MainTreeNode","Z","defaultContainers","head","host","M2","N$1","panelRef","ee","U2","te","le","find","ae","oe","re","k","titleId","dialogState","setTitleId","ne","nextTick","ie","ue$1","ResizeObserver","getBoundingClientRect","y","observe","disconnect","parent","leaf","currentTarget","onClick","Ge","Ve","g","split","R","pe","Visible","N","L","state","Q","findIndex","W","he","show","appear","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo","beforeEnter","afterEnter","beforeLeave","afterLeave","S$12","Se","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave","y2","A2","Te","ge","P2","j2","t$2","E2","V","Ce","ye","be","Ee","Ve2","class","normalizeClass","ce","STATE_TRANSITIONS","pending","confirmed","completed","canceled","STATUS_MAP","pendiente","confirmada","realizada","completada","cancelada","STATUS_MAP_REVERSE","formatValidationError","validationResult","valid","message","error","details","conflictingAppointment","conflict","hora_inicio","hora_fin","duration","useAgendaEnhanced","supabase","useSupabaseClient","useSupabaseUser","citas","loading","lastUpdate","optimisticUpdates","async","validateAppointment","params","agendaLogger","debug","response","$fetch","method","info","err","data","errorCode","updateAppointment","citaId","citaIndex","previousState","updatedFields","fecha_cita","estado","modalidad","optimisticUpdate","validationParams","terapeuta_id","previous_estado","validation","errorMsg","rollback","success","updatedCita","update","Date","mapViewDataToCita","row","cita_id","duracion_minutos","observaciones","notas_terapeuta","enlace_videollamada","paciente_id","bono_id","sesion_descontada","consumo_registrado","ubicacion","descontar_de_bono","paciente","nombre_completo","paciente_nombre","telefono","paciente_telefono","email","paciente_email","bono","sesiones_restantes","bono_sesiones_restantes","sesiones_totales","bono_sesiones_totales","bono_estado","loadAppointmentsInRange","fetchError","gte","lte","order","ascending","loadRange","hasError","isLoading","lastUpdateTime","diff","getTime","seconds","floor","minutes","citasDelDia","hoy","toISOString","citasPendientes","citasCompletadas","citasConBonoProximoAgotar","sesionesRestantes","createAppointment","clickCreate","newCita","create","deleteAppointment","cita","reintegrarError","rpc","p_cita_id","deleteError","eq","moveAppointment","newDate","newStartTime","newEndTime","endTime","startHours","startMinutes","endHours","endMinutes","newHours","newMinutes","newEndTotalMinutes","newEndHours","newEndMinutes","padStart","dragStart","date","time","result","dragEnd","move","changeAppointmentStatus","newStatus","stateValidation","toNormalized","allowedTransitions","validateStateTransition","statusChange","loadTerapeutaAppointments","loadAllAppointments","refreshAppointments","dates","minDate","min","maxDate","clearError","_sfc_main","__name","__ssrInlineRender","isOpen","fechaInicial","horaInicial","horaFinal","__props","__emit","pacientes","loadingPacientes","hasPacientes","searchQuery","createPaciente","loadAllPacientes","clearSearch","usePacientes","showDropdown","modoCrearPaciente","creandoPaciente","isSubmitting","pacienteSeleccionado","validationMessage","validationTimeout","formData","nuevoPaciente","fecha_nacimiento","modalidades","label","icon","canSubmit","handleClose","selectPaciente","limpiarSeleccion","handleBlur","activarModoCrearPaciente","cancelarCrearPaciente","crearPacienteYSeleccionar","text","validateInRealTime","handleSubmit","newHora","hours","totalMinutes","newVal","_ctx","_push","_parent","_attrs","serverRenderer_cjs_prodExports","ssrRenderComponent","mergeProps","withCtx","_","_push2","_parent2","_scopeId","createVNode","onClose","openBlock","createBlock","fill","stroke","viewBox","createTextVNode","onSubmit","withModifiers","withDirectives","$event","placeholder","vModelText","xmlns","cx","cy","createCommentVNode","toDisplayString","isRef","onBlur","renderList","sesiones_restantes_total","charAt","toUpperCase","required","onChange","rows","_2","_push3","_parent3","_scopeId2","_3","_push4","_parent4","_scopeId3","_4","_push5","_parent5","_scopeId4","_5","_push6","_parent6","_scopeId5","ssrRenderAttr","ssrIncludeBooleanAttr","ssrInterpolate","ssrRenderList","ssrRenderClass","_sfc_setup","ctx","ssrContext","useSSRContext","modules","__nuxt_component_0","_export_sfc"],"mappings":"","x_google_ignoreList":[0]}