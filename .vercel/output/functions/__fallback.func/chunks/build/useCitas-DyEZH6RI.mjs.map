{"version":3,"file":"useCitas-DyEZH6RI.mjs","sources":["../../../../../../composables/useCitas.ts"],"sourcesContent":null,"names":["useCitas","supabase","useSupabaseClient","obtenerBonoActivo","async","pacienteId","getTerapeutas","getTerapeuta","terapeutaId","getTerapeutaActual","getCitas","getCitasPorDia","fecha","getCitasRango","fechaInicio","fechaFin","getCitasPaciente","getProximasCitasPaciente","limite","getUltimaCitaPaciente","crearCita","params","success","error","actualizarEstadoCita","citaId","nuevoEstado","actualizarCita","updates","cancelarCita","motivo","cancelarCitaConReintegro","bonoId","reintegrar","eliminarCita","obtenerBonoActivoId","verificarBonoActivo","bono","tiene_bono","sesiones_restantes","sesiones_totales","tipo_bono","bono_id","data","paciente","from","select","eq","single","tipoBono","frecuencia","metadata","id","console","obtenerEstadisticasBono","getBonosPaciente","verificarDisponibilidadTerapeuta","horaInicio","horaFin","buscarDisponibilidad","dias","duracion","calcularProximaFechaSugerida","sugerirProximoHorario","listenRealtimeCitas","callback","listenRealtimeCitasGlobal","formatearFecha","toISOString","split","calcularHoraFin","duracionMinutos","horas","minutos","map","Number","Date","setHours","setMinutes","getMinutes","String","getHours","padStart","obtenerNombreDia","getDay"],"mappings":"qDA0FO,MAAMA,SAAW,KACtB,MAAMC,EAAWC,IAymBXC,kBAAoBC,MAAOC,GACH,KA6gB9B,MAAO,CAELC,cAhnCoBF,SACQ,GAgnC5BG,aAxlCmBH,MAAOI,GACE,KAwlC5BC,mBAhkCyBL,SACG,KAkkC5BM,SAliCeN,MAAOI,GACM,GAkiC5BG,eA5/BqBP,MAAOQ,EAAeJ,IACf,GA4/B5BK,cA19BoBT,MAAOU,EAAqBC,EAAkBP,IACtC,GA09B5BQ,iBAh7BuBZ,MAAOC,GACF,GAg7B5BY,yBA5P+Bb,MAAOC,EAAoBa,EAAiB,KAC/C,GA4P5BC,sBApO4Bf,MAAOC,GACP,KAsO5Be,UAv4BgBhB,MAAOiB,IACK,CAAEC,SAAS,EAAOC,MAAO,eAu4BrDC,qBArvB2BpB,MAC3BqB,EACAC,KAE4B,CAAEJ,SAAS,IAkvBvCK,eA9sBqBvB,MAAOqB,EAAgBG,KAChB,CAAEN,SAAS,IA8sBvCO,aA5qBmBzB,MAAOqB,EAAgBK,KACd,CAAER,SAAS,IA4qBvCS,yBA1oB+B3B,MAC/BqB,EACAO,EACAC,GAAsB,KAEM,CAAEX,SAAS,IAsoBvCY,aA5lBmB9B,MAAOqB,IACE,CAAEH,SAAS,IA8lBvCa,oBAlkB0B/B,MAAOC,GACL,KAkkB5BF,oCACAiC,oBA1gB0BhC,MAAOC,IACjC,MAAMgC,QAAalC,oBAEnB,IAAKkC,EACH,MAAO,CACLC,YAAY,EACZC,mBAAoB,EACpBC,iBAAkB,EAClBC,UAAW,GACXC,aAAS,GAIb,IAEE,MAAQC,KAAMC,SAAmB3C,EAC9B4C,KAAK,aACLC,OAAO,gDACPC,GAAG,KAAM1C,GACT2C,SAEGC,EAAYZ,EAAaI,WACdG,GAAkBM,YAClBN,GAAkBO,UAAUD,YAC7B,UAEhB,MAAO,CACLZ,YAAY,EACZC,mBAAqBF,EAAaE,oBAAsB,EACxDC,iBAAmBH,EAAaG,kBAAoB,EACpDC,UAAWQ,EACXP,QAAUL,EAAae,GAE3B,OAAS7B,GAEP,OADA8B,QAAQ9B,MAAM,6BAA8BA,GACrC,CACLe,YAAY,EACZC,mBAAoB,EACpBC,iBAAkB,EAClBC,UAAW,GACXC,aAAS,EAEb,GAieAY,wBA3d8BlD,MAAO4B,GACT,KA2d5BuB,iBArcuBnD,MAAOC,GACF,GAuc5BmD,iCA3auCpD,MACvCI,EACAI,EACA6C,EACAC,KAE4B,EAsa5BC,qBA5Y2BvD,MAC3BI,EACAoD,EAAe,GACfC,EAAmB,KAES,GAwY5BC,6BA3NmC1D,MACnCC,EACA6C,IAE4B,KAwN5Ba,sBA7U4B3D,MAC5BC,EACA6C,EACA1C,IAE4B,KA2U5BwD,oBAvH0B,CAC1BxD,EACAyD,IAE4B,KAoH5BC,0BA7EAD,GAE4B,KA8E5BE,eA3KF,SAAwBvD,GAEtB,OADkBA,EAAMwD,cAAcC,MAAM,KAAK,IAC7B,EACtB,EAyKEC,gBApKF,SAAyBb,EAAoBc,GAC3C,MAAOC,EAAQ,EAAGC,EAAU,GAAKhB,EAAWY,MAAM,KAAKK,IAAIC,QACrD/D,MAAYgE,KAOlB,OANAhE,EAAMiE,SAASL,EAAOC,EAAS,EAAG,GAClC7D,EAAMkE,WAAWlE,EAAMmE,aAAeR,GAK/B,GAHSS,OAAOpE,EAAMqE,YAAYC,SAAS,EAAG,QAClCF,OAAOpE,EAAMmE,cAAcG,SAAS,EAAG,MAG5D,EA2JEC,iBA1IF,SAA0BvE,GAGxB,MAFa,CAAC,UAAW,QAAS,SAAU,YAAa,SAAU,UAAW,UACjE,IAAIgE,KAAKhE,EAAQ,aACbwE,WAAa,aAChC"}