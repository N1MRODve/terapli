import{_ as e}from"./DashboardCard-CYAu_T60.mjs";import{defineComponent as a,computed as t,ref as o,mergeProps as s,unref as n,withCtx as r,createVNode as d,toDisplayString as l,withDirectives as i,isRef as c,vModelSelect as v,createBlock as p,openBlock as b,watch as u,useSSRContext as m}from"vue";import{ssrRenderAttrs as f,ssrInterpolate as x,ssrRenderComponent as g,ssrIncludeBooleanAttr as A,ssrLooseContain as y,ssrLooseEqual as h,ssrRenderList as w,ssrRenderClass as D,ssrRenderStyle as $,ssrRenderAttr as F}from"vue/server-renderer";import{u as _,a as k}from"./useBonos-BFarM2bD.mjs";import{_ as B}from"./_plugin-vue_export-helper-1tPrXgE0.mjs";import{u as C}from"./useSupabase-DljD0dj8.mjs";import{h as j,a as P}from"./server.mjs";import{u as S}from"./useSupabaseClient-DykwVqLQ.mjs";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"node:crypto";import"../routes/renderer.mjs";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";import"vue-router";import"@supabase/ssr";import"@vercel/analytics/nuxt";const M=a({__name:"BonoCard",__ssrInlineRender:!0,props:{bono:{}},emits:["renovar","verPagos","editar"],setup(e){const a=e,{getEstadoColor:o,getEstadoTexto:r,calcularPorcentajeUso:d,puedeGestionarBonos:l,puedeConfirmarPagos:i}=_(),{isCoordinadora:c}=k(),v=t(()=>({quincenal:"Quincenal",mensual:"Mensual",semestral:"Semestral"}[a.bono.tipo]||a.bono.tipo||"EstÃ¡ndar")),p=t(()=>o(a.bono.estado)),b=t(()=>r(a.bono.estado)),u=t(()=>({pendiente:"â³",activo:"âœ…",completado:"âœ”ï¸",vencido:"âŒ",cancelado:"ğŸš«"}[a.bono.estado]||"ğŸ“‹")),m=t(()=>({pendiente:"border-yellow-300",activo:"border-green-300",completado:"border-gray-300",vencido:"border-red-300",cancelado:"border-gray-400"}[a.bono.estado]||"border-gray-300")),g=t(()=>{var e;return null!=(e=a.bono.sesiones_restantes)?e:0}),A=t(()=>(a.bono.sesiones_totales||0)-g.value),y=t(()=>d(a.bono)),h=t(()=>{const e=y.value;return e>=90?"bg-red-500":e>=70?"bg-orange-500":e>=50?"bg-yellow-500":"bg-gradient-to-r from-[#D8AFA0] to-[#ECC8BA]"}),w=t(()=>{if(!a.bono.fecha_fin)return null;const e=new Date,t=new Date(a.bono.fecha_fin);return Math.ceil((t.getTime()-e.getTime())/864e5)}),F=t(()=>"activo"===a.bono.estado&&null!==w.value&&(w.value>=0&&w.value<=7)),B=t(()=>"activo"===a.bono.estado&&g.value>0&&g.value<=2),C=t(()=>l.value||i.value),j=t(()=>l.value),P=t(()=>c.value),formatearFecha=e=>{if(!e)return"";try{return new Date(e+"T00:00:00").toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}catch{return e}};return(a,t,o,r)=>{var d;t(`<div${f(s({class:["group bono-card bg-white/90 backdrop-blur-md border-2 rounded-2xl p-6 hover:shadow-xl transition-all duration-500 relative overflow-hidden hover:bg-white/95 hover:scale-[1.02]",[n(m),{"opacity-60":"cancelado"===e.bono.estado}]]},r))} data-v-a85fab0a><div class="absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500" data-v-a85fab0a></div><div class="absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/10 to-[#5550F2]/10 rounded-full blur-2xl opacity-0 group-hover:opacity-60 transition-all duration-700" data-v-a85fab0a></div><div class="relative flex items-start justify-between mb-6" data-v-a85fab0a><div class="flex-1" data-v-a85fab0a><div class="flex items-center gap-4 mb-3" data-v-a85fab0a><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300" data-v-a85fab0a><span class="text-xl" data-v-a85fab0a>ğŸ«</span></div><h3 class="font-[&#39;Elms_Sans&#39;] text-xl font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent" data-v-a85fab0a> Bono ${x(n(v))}</h3></div><div class="flex items-center gap-3 flex-wrap" data-v-a85fab0a><span class="${D([n(p),"inline-flex items-center px-4 py-2 rounded-xl text-xs font-['Lato'] font-semibold border backdrop-blur-sm shadow-sm"])}" data-v-a85fab0a>${x(n(u))} ${x(n(b))}</span>`),n(F)?t('<span class="inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-[&#39;Lato&#39;] font-semibold bg-gradient-to-r from-[#F2B33D]/20 to-[#F2B33D]/10 text-[#F2B33D] border border-[#F2B33D]/30 backdrop-blur-sm shadow-sm" data-v-a85fab0a> âš ï¸ Vence pronto </span>'):t("\x3c!----\x3e"),n(B)?t('<span class="inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-[&#39;Lato&#39;] font-semibold bg-gradient-to-r from-[#04BF9D]/20 to-[#027368]/10 text-[#027368] border border-[#04BF9D]/30 backdrop-blur-sm shadow-sm" data-v-a85fab0a> ğŸ“Š Pocas sesiones </span>'):t("\x3c!----\x3e"),t('</div></div><div class="flex gap-3" data-v-a85fab0a>'),n(C)?t('<button class="p-3 hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg hover:scale-110 group/btn" title="Ver pagos" data-v-a85fab0a><span class="text-lg group-hover/btn:scale-110 transition-transform duration-300" data-v-a85fab0a>ğŸ’°</span></button>'):t("\x3c!----\x3e"),n(j)?t('<button class="p-3 hover:bg-gradient-to-br from-[#04BF9D]/10 to-[#F2B33D]/10 rounded-xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg hover:scale-110 group/btn" title="Renovar bono" data-v-a85fab0a><span class="text-lg group-hover/btn:scale-110 transition-transform duration-300" data-v-a85fab0a>ğŸ”„</span></button>'):t("\x3c!----\x3e"),t(`</div></div><div class="relative mb-6" data-v-a85fab0a><div class="flex items-center justify-between mb-3" data-v-a85fab0a><span class="text-sm font-[&#39;Lato&#39;] text-gray-600 font-medium" data-v-a85fab0a>Sesiones</span><span class="text-sm font-[&#39;Lato&#39;] font-semibold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent" data-v-a85fab0a>${x(n(g))} / ${x(e.bono.sesiones_totales)} disponibles </span></div><div class="relative w-full bg-gradient-to-r from-gray-100 to-gray-50 rounded-full h-4 overflow-hidden shadow-inner" data-v-a85fab0a><div class="${D([n(h),"h-4 rounded-full transition-all duration-700 ease-out shadow-lg relative overflow-hidden"])}" style="${$({width:n(y)+"%"})}" data-v-a85fab0a><div class="absolute inset-0 bg-gradient-to-r from-white/30 to-transparent" data-v-a85fab0a></div><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse" data-v-a85fab0a></div></div></div><div class="flex justify-between mt-2 text-xs font-[&#39;Lato&#39;] text-gray-600" data-v-a85fab0a><span data-v-a85fab0a>${x(n(A))} usadas</span><span class="font-semibold" data-v-a85fab0a>${x(n(y))}% completado</span></div></div><div class="relative grid grid-cols-2 gap-4 mb-6" data-v-a85fab0a><div class="p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/50 shadow-sm group-hover:shadow-md transition-all duration-300" data-v-a85fab0a><div class="text-xs font-[&#39;Lato&#39;] text-gray-500 uppercase tracking-wider mb-2" data-v-a85fab0a>Tipo</div><div class="text-sm font-[&#39;Lato&#39;] font-semibold text-gray-800 capitalize" data-v-a85fab0a>${x(e.bono.tipo||"EstÃ¡ndar")}</div></div><div class="p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/50 shadow-sm group-hover:shadow-md transition-all duration-300" data-v-a85fab0a><div class="text-xs font-[&#39;Lato&#39;] text-gray-500 uppercase tracking-wider mb-2" data-v-a85fab0a>Frecuencia</div><div class="text-sm font-[&#39;Lato&#39;] font-semibold text-gray-800 capitalize" data-v-a85fab0a>${x(e.bono.frecuencia||"Semanal")}</div></div><div class="p-3 bg-white rounded-lg border border-[#D8AFA0]/20" data-v-a85fab0a><div class="text-xs text-[#5D4A44]/60 mb-1" data-v-a85fab0a>Monto</div><div class="text-sm font-medium text-[#5D4A44]" data-v-a85fab0a>${x((d=e.bono.monto,d?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(d):"$ 0"))}</div></div><div class="p-3 bg-white rounded-lg border border-[#D8AFA0]/20" data-v-a85fab0a><div class="text-xs text-[#5D4A44]/60 mb-1" data-v-a85fab0a>Pago</div><div class="${D([e.bono.pagado?"text-green-600":"text-orange-600","text-sm font-medium flex items-center gap-1"])}" data-v-a85fab0a>${x(e.bono.pagado?"âœ“ Pagado":"â³ Pendiente")}</div></div></div>`),e.bono.fecha_inicio||e.bono.fecha_fin?(t('<div class="mb-4 p-3 bg-gradient-to-r from-[#D8AFA0]/10 to-[#ECC8BA]/10 rounded-lg" data-v-a85fab0a><div class="flex items-center justify-between text-sm" data-v-a85fab0a>'),e.bono.fecha_inicio?t(`<div data-v-a85fab0a><span class="text-[#5D4A44]/60" data-v-a85fab0a>Inicio:</span><span class="font-medium text-[#5D4A44] ml-1" data-v-a85fab0a>${x(formatearFecha(e.bono.fecha_inicio))}</span></div>`):t("\x3c!----\x3e"),e.bono.fecha_fin?t(`<div data-v-a85fab0a><span class="text-[#5D4A44]/60" data-v-a85fab0a>Vence:</span><span class="${D([n(F)?"text-orange-600":"text-[#5D4A44]","font-medium ml-1"])}" data-v-a85fab0a>${x(formatearFecha(e.bono.fecha_fin))}</span></div>`):t("\x3c!----\x3e"),t("</div>"),null!==n(w)&&"activo"===e.bono.estado?t(`<div class="mt-2 text-xs text-center text-[#5D4A44]/60" data-v-a85fab0a>${x(n(w)>0?`${n(w)} dÃ­as restantes`:"Vencido")}</div>`):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e"),e.bono.renovacion_automatica?t('<div class="flex items-center gap-2 mb-4 p-2 bg-purple-50 border border-purple-200 rounded-lg" data-v-a85fab0a><span class="text-sm" data-v-a85fab0a>ğŸ”„</span><span class="text-xs text-purple-700 font-medium" data-v-a85fab0a>RenovaciÃ³n automÃ¡tica activada</span></div>'):t("\x3c!----\x3e"),e.bono.notas?t(`<div class="mb-4" data-v-a85fab0a><div class="text-xs text-[#5D4A44]/60 mb-1" data-v-a85fab0a>Notas</div><div class="text-sm text-[#5D4A44]/80 p-2 bg-white rounded-lg border border-[#D8AFA0]/20" data-v-a85fab0a>${x(e.bono.notas)}</div></div>`):t("\x3c!----\x3e"),t('<div class="flex gap-2 pt-3 border-t border-[#D8AFA0]/20" data-v-a85fab0a>'),n(C)?t('<button class="flex-1 px-4 py-2 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors text-sm font-medium flex items-center justify-center gap-2" data-v-a85fab0a><span data-v-a85fab0a>ğŸ’°</span><span data-v-a85fab0a>Ver Pagos</span></button>'):t("\x3c!----\x3e"),n(j)&&"activo"!==e.bono.estado?t('<button class="flex-1 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors text-sm font-medium flex items-center justify-center gap-2" data-v-a85fab0a><span data-v-a85fab0a>ğŸ”„</span><span data-v-a85fab0a>Renovar</span></button>'):t("\x3c!----\x3e"),n(P)?t('<button class="px-4 py-2 bg-white border border-[#D8AFA0]/30 text-[#5D4A44] rounded-lg hover:bg-[#D8AFA0]/10 transition-colors text-sm font-medium" data-v-a85fab0a> âœï¸ </button>'):t("\x3c!----\x3e"),t("</div></div>")}}}),E=M.setup;M.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("components/BonoCard.vue"),E?E(e,a):void 0};const T=Object.assign(B(M,[["__scopeId","data-v-a85fab0a"]]),{__name:"BonoCard"}),L=a({__name:"ModalNuevoBono",__ssrInlineRender:!0,props:{mostrar:{type:Boolean},pacienteId:{},pacienteNombre:{},psicologaId:{}},emits:["close","created"],setup(e,{emit:a}){_(),C();const r=o({tipo:"mensual",frecuencia:"semanal",sesiones_totales:4,monto:0,fecha_inicio:(new Date).toISOString().split("T")[0],fecha_fin:"",estado:"pendiente",renovacion_automatica:!1,notas:""}),d=o(!1),l=o(""),i=t(()=>r.value.tipo&&r.value.sesiones_totales&&r.value.monto),c=t(()=>{if(!r.value.sesiones_totales||!r.value.monto)return"0.00";return(r.value.monto/r.value.sesiones_totales).toFixed(2)}),v=t(()=>!!(r.value.tipo&&r.value.frecuencia&&r.value.sesiones_totales>0&&r.value.monto>0&&r.value.estado));return u(()=>r.value.tipo,e=>{if(r.value.fecha_inicio&&e){const a=new Date(r.value.fecha_inicio);let t=new Date(a);switch(e){case"quincenal":t.setDate(t.getDate()+15);break;case"mensual":t.setMonth(t.getMonth()+1);break;case"semestral":t.setMonth(t.getMonth()+6)}r.value.fecha_fin=(null==t?void 0:t.toISOString().split("T")[0])||""}}),(a,t,o,p)=>{e.mostrar?(t(`<div${f(s({class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},p))}><div class="bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 max-w-3xl w-full max-h-[90vh] overflow-hidden relative"><div class="absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 pointer-events-none"></div><div class="absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/20 to-[#5550F2]/20 rounded-full blur-2xl"></div><div class="relative max-h-[90vh] overflow-y-auto"><div class="sticky top-0 bg-white/90 backdrop-blur-md border-b border-gray-200/50 px-8 py-6 flex justify-between items-center z-10"><div class="flex items-center gap-4"><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center"><span class="text-2xl">ğŸ«</span></div><div><h2 class="text-3xl font-[&#39;Elms_Sans&#39;] font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent"> Nuevo Bono </h2><p class="text-sm font-[&#39;Lato&#39;] text-gray-600 mt-1"> Crea un nuevo bono para ${x(e.pacienteNombre)}</p></div></div><button class="p-3 text-gray-500 hover:text-[#5550F2] hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-2xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg" aria-label="Cerrar modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div><form class="px-8 py-8 space-y-8"><div class="grid grid-cols-2 gap-6"><div><label class="block text-sm font-[&#39;Lato&#39;] font-semibold text-gray-700 mb-3"> Tipo de Bono <span class="text-[#F2B33D]">*</span></label><select required class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#5550F2]/20 focus:border-[#5550F2] bg-white/80 backdrop-blur-sm transition-all duration-300 font-[&#39;Lato&#39;] hover:bg-white shadow-sm hover:shadow-md"><option value=""${A(Array.isArray(n(r).tipo)?y(n(r).tipo,""):h(n(r).tipo,""))?" selected":""}>Seleccionar tipo</option><option value="quincenal"${A(Array.isArray(n(r).tipo)?y(n(r).tipo,"quincenal"):h(n(r).tipo,"quincenal"))?" selected":""}>Quincenal</option><option value="mensual"${A(Array.isArray(n(r).tipo)?y(n(r).tipo,"mensual"):h(n(r).tipo,"mensual"))?" selected":""}>Mensual</option><option value="semestral"${A(Array.isArray(n(r).tipo)?y(n(r).tipo,"semestral"):h(n(r).tipo,"semestral"))?" selected":""}>Semestral</option></select></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Frecuencia Sugerida <span class="text-red-500">*</span></label><select required class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"><option value=""${A(Array.isArray(n(r).frecuencia)?y(n(r).frecuencia,""):h(n(r).frecuencia,""))?" selected":""}>Seleccionar frecuencia</option><option value="semanal"${A(Array.isArray(n(r).frecuencia)?y(n(r).frecuencia,"semanal"):h(n(r).frecuencia,"semanal"))?" selected":""}>Semanal</option><option value="quincenal"${A(Array.isArray(n(r).frecuencia)?y(n(r).frecuencia,"quincenal"):h(n(r).frecuencia,"quincenal"))?" selected":""}>Quincenal</option><option value="mensual"${A(Array.isArray(n(r).frecuencia)?y(n(r).frecuencia,"mensual"):h(n(r).frecuencia,"mensual"))?" selected":""}>Mensual</option></select></div></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Sesiones Totales <span class="text-red-500">*</span></label><input${F("value",n(r).sesiones_totales)} type="number" min="1" max="100" required placeholder="Ej: 4, 8, 12..." class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0]"><p class="text-xs text-[#5D4A44]/60 mt-1"> NÃºmero de sesiones incluidas en el bono </p></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Monto Total <span class="text-red-500">*</span></label><div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-[#5D4A44]/60">â‚¬</span><input${F("value",n(r).monto)} type="number" min="0" step="0.01" required placeholder="0.00" class="w-full pl-8 pr-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0]"></div><p class="text-xs text-[#5D4A44]/60 mt-1"> Precio total del bono (todas las sesiones) </p></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Fecha de Inicio </label><input${F("value",n(r).fecha_inicio)} type="date" class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0]"></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Fecha de Vencimiento </label><input${F("value",n(r).fecha_fin)} type="date"${F("min",n(r).fecha_inicio)} class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0]"></div></div><div class="flex items-start gap-3 p-4 bg-purple-50 border border-purple-200 rounded-lg"><input${A(Array.isArray(n(r).renovacion_automatica)?y(n(r).renovacion_automatica,null):n(r).renovacion_automatica)?" checked":""} type="checkbox" id="renovacion-auto" class="mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"><label for="renovacion-auto" class="flex-1 cursor-pointer"><div class="text-sm font-medium text-purple-900"> ğŸ”„ RenovaciÃ³n AutomÃ¡tica </div><div class="text-xs text-purple-700 mt-1"> El bono se renovarÃ¡ automÃ¡ticamente cuando se complete o venza </div></label></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Estado Inicial </label><div class="grid grid-cols-2 gap-3"><label class="${D(["pendiente"===n(r).estado?"border-yellow-400 bg-yellow-50":"border-gray-300 hover:border-yellow-300","flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all"])}"><input${A(h(n(r).estado,"pendiente"))?" checked":""} type="radio" value="pendiente" class="w-4 h-4 text-yellow-600"><div><div class="text-sm font-medium text-[#5D4A44]">â³ Pendiente</div><div class="text-xs text-[#5D4A44]/60">Requiere pago</div></div></label><label class="${D(["activo"===n(r).estado?"border-green-400 bg-green-50":"border-gray-300 hover:border-green-300","flex items-center gap-2 p-3 border-2 rounded-lg cursor-pointer transition-all"])}"><input${A(h(n(r).estado,"activo"))?" checked":""} type="radio" value="activo" class="w-4 h-4 text-green-600"><div><div class="text-sm font-medium text-[#5D4A44]">âœ… Activo</div><div class="text-xs text-[#5D4A44]/60">Ya pagado</div></div></label></div></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Notas (Opcional) </label><textarea rows="3" placeholder="InformaciÃ³n adicional sobre el bono..." class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] resize-none">${x(n(r).notas)}</textarea></div>`),n(i)?t(`<div class="p-4 bg-gradient-to-r from-[#D8AFA0]/10 to-[#ECC8BA]/10 rounded-lg border border-[#D8AFA0]/30"><div class="font-medium text-[#5D4A44] mb-3 flex items-center gap-2"><span>ğŸ“‹</span> Resumen del Bono </div><div class="grid grid-cols-2 gap-3 text-sm"><div><span class="text-[#5D4A44]/60">Tipo:</span><span class="font-medium text-[#5D4A44] ml-1 capitalize">${x(n(r).tipo||"-")}</span></div><div><span class="text-[#5D4A44]/60">Frecuencia:</span><span class="font-medium text-[#5D4A44] ml-1 capitalize">${x(n(r).frecuencia||"-")}</span></div><div><span class="text-[#5D4A44]/60">Sesiones:</span><span class="font-medium text-[#5D4A44] ml-1">${x(n(r).sesiones_totales||0)}</span></div><div><span class="text-[#5D4A44]/60">Monto:</span><span class="font-medium text-[#5D4A44] ml-1">â‚¬${x(n(r).monto||0)}</span></div><div><span class="text-[#5D4A44]/60">Precio/sesiÃ³n:</span><span class="font-medium text-[#5D4A44] ml-1">â‚¬${x(n(c))}</span></div><div><span class="text-[#5D4A44]/60">Estado:</span><span class="${D(["activo"===n(r).estado?"text-green-600":"text-yellow-600","font-medium capitalize ml-1"])}">${x(n(r).estado||"-")}</span></div></div></div>`):t("\x3c!----\x3e"),n(l)?t(`<div class="p-4 bg-red-50 border border-red-200 rounded-lg"><p class="text-sm text-red-700 flex items-center gap-2"><span>âŒ</span> ${x(n(l))}</p></div>`):t("\x3c!----\x3e"),t(`<div class="flex gap-3 pt-4 border-t border-[#D8AFA0]/30"><button type="button" class="flex-1 px-6 py-3 bg-white border border-[#D8AFA0]/30 text-[#5D4A44] rounded-lg hover:bg-[#D8AFA0]/10 transition-colors font-medium"${A(n(d))?" disabled":""}> Cancelar </button><button type="submit" class="flex-1 px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"${A(n(d)||!n(v))?" disabled":""}>${x(n(d)?"Creando...":"Crear Bono")}</button></div></form></div></div></div>`)):t("\x3c!----\x3e")}}}),z=L.setup;L.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("components/ModalNuevoBono.vue"),z?z(e,a):void 0};const R=Object.assign(L,{__name:"ModalNuevoBono"}),q=a({__name:"ModalPagosBono",__ssrInlineRender:!0,props:{mostrar:{type:Boolean},bono:{}},emits:["close","updated"],setup(e,{emit:a}){const r=e,{getPagosPorBono:d,puedeGestionarBonos:l,puedeConfirmarPagos:i}=_(),c=o([]),v=o(!1),p=o(!1),b=o(!1),m=o(null),g=o(""),k=o(""),B=o({monto:0,metodo:"",confirmado:!1}),C=t(()=>[...c.value].sort((e,a)=>new Date(a.fecha_pago).getTime()-new Date(e.fecha_pago).getTime())),j=t(()=>c.value.filter(e=>e.confirmado).reduce((e,a)=>e+(a.monto||0),0)),P=t(()=>{var e;const a=(null==(e=r.bono)?void 0:e.monto)||0;return Math.max(0,a-j.value)}),S=t(()=>{var e;const a=(null==(e=r.bono)?void 0:e.monto)||0;return 0===a?0:Math.round(j.value/a*100)}),formatearFecha=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}catch{return e}},formatearMonto=e=>e?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e):"â‚¬ 0.00";return u(()=>r.mostrar,e=>{e&&(async()=>{var e;if(null==(e=r.bono)?void 0:e.id)try{v.value=!0,g.value="",c.value=await d(r.bono.id)}catch(e){console.error("[ModalPagosBono] Error al cargar pagos:",e),g.value="Error al cargar los pagos"}finally{v.value=!1}})()},{immediate:!0}),(a,t,o,r)=>{e.mostrar?(t(`<div${f(s({class:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4"},r))} data-v-46056b94><div class="bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border border-white/50 max-w-4xl w-full max-h-[90vh] overflow-hidden relative" data-v-46056b94><div class="absolute inset-0 bg-gradient-to-br from-[#5550F2]/5 via-transparent to-[#04BF9D]/5 pointer-events-none" data-v-46056b94></div><div class="absolute -top-20 -right-20 w-40 h-40 bg-gradient-to-br from-[#F2B33D]/20 to-[#5550F2]/20 rounded-full blur-2xl" data-v-46056b94></div><div class="relative max-h-[90vh] overflow-y-auto" data-v-46056b94><div class="sticky top-0 bg-white/90 backdrop-blur-md border-b border-gray-200/50 px-8 py-6 z-10" data-v-46056b94><div class="flex justify-between items-start" data-v-46056b94><div class="flex-1" data-v-46056b94><div class="flex items-center gap-4 mb-3" data-v-46056b94><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-[#5550F2] to-[#027368] shadow-lg flex items-center justify-center" data-v-46056b94><span class="text-2xl" data-v-46056b94>ğŸ’°</span></div><h2 class="text-3xl font-[&#39;Elms_Sans&#39;] font-bold bg-gradient-to-r from-[#5550F2] to-[#027368] bg-clip-text text-transparent" data-v-46056b94> Pagos del Bono </h2></div><p class="text-sm font-[&#39;Lato&#39;] text-gray-600 ml-18" data-v-46056b94> Gestiona los pagos y confirma transacciones de forma segura </p></div><button class="p-3 text-gray-500 hover:text-[#5550F2] hover:bg-gradient-to-br from-[#5550F2]/10 to-[#027368]/10 rounded-2xl transition-all duration-300 backdrop-blur-sm border border-white/50 hover:shadow-lg" aria-label="Cerrar modal" data-v-46056b94><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-46056b94><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" data-v-46056b94></path></svg></button></div>`),e.bono?t(`<div class="mt-6 p-6 bg-gradient-to-r from-[#5550F2]/5 via-[#027368]/5 to-[#04BF9D]/5 backdrop-blur-sm rounded-2xl border border-white/50 shadow-lg" data-v-46056b94><div class="grid grid-cols-3 gap-6 text-sm" data-v-46056b94><div class="text-center" data-v-46056b94><div class="text-xs font-[&#39;Lato&#39;] text-gray-500 uppercase tracking-wider mb-2" data-v-46056b94>Tipo</div><div class="font-[&#39;Lato&#39;] font-semibold text-gray-800 capitalize text-lg" data-v-46056b94>${x(e.bono.tipo)}</div></div><div class="text-center" data-v-46056b94><div class="text-xs font-[&#39;Lato&#39;] text-gray-500 uppercase tracking-wider mb-2" data-v-46056b94>Monto Total</div><div class="font-[&#39;Elms_Sans&#39;] font-bold bg-gradient-to-r from-[#F2B33D] to-[#5550F2] bg-clip-text text-transparent text-2xl" data-v-46056b94>${x(formatearMonto(e.bono.monto))}</div></div><div class="text-center" data-v-46056b94><div class="text-xs font-[&#39;Lato&#39;] text-gray-500 uppercase tracking-wider mb-2" data-v-46056b94>Estado</div><div class="${D([e.bono.pagado?"text-[#04BF9D]":"text-[#F2B33D]","font-['Lato'] font-semibold text-lg capitalize"])}" data-v-46056b94>${x(e.bono.pagado?"âœ“ Pagado":"â³ Pendiente")}</div></div></div></div>`):t("\x3c!----\x3e"),t(`</div><div class="px-6 py-6 space-y-6" data-v-46056b94><div class="p-4 bg-white border-2 border-[#D8AFA0]/30 rounded-xl" data-v-46056b94><div class="grid grid-cols-3 gap-4 text-center" data-v-46056b94><div data-v-46056b94><div class="text-2xl font-bold text-green-600" data-v-46056b94>${x(formatearMonto(n(j)))}</div><div class="text-xs text-[#5D4A44]/60 mt-1" data-v-46056b94>Total Pagado</div></div><div data-v-46056b94><div class="text-2xl font-bold text-orange-600" data-v-46056b94>${x(formatearMonto(n(P)))}</div><div class="text-xs text-[#5D4A44]/60 mt-1" data-v-46056b94>Pendiente</div></div><div data-v-46056b94><div class="text-2xl font-bold text-[#5D4A44]" data-v-46056b94>${x(n(c).length)}</div><div class="text-xs text-[#5D4A44]/60 mt-1" data-v-46056b94>Transacciones</div></div></div><div class="mt-4" data-v-46056b94><div class="flex justify-between text-xs text-[#5D4A44]/60 mb-1" data-v-46056b94><span data-v-46056b94>Progreso de pago</span><span data-v-46056b94>${x(n(S))}%</span></div><div class="w-full bg-gray-200 rounded-full h-2" data-v-46056b94><div class="${D([n(S)>=100?"bg-green-500":"bg-gradient-to-r from-[#D8AFA0] to-[#ECC8BA]","h-2 rounded-full transition-all duration-500"])}" style="${$({width:Math.min(n(S),100)+"%"})}" data-v-46056b94></div></div></div></div>`),n(l)?t(`<div class="flex justify-end" data-v-46056b94><button class="px-4 py-2 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium flex items-center gap-2" data-v-46056b94><span data-v-46056b94>${x(n(p)?"âœ•":"+")}</span><span data-v-46056b94>${x(n(p)?"Cancelar":"Registrar Pago")}</span></button></div>`):t("\x3c!----\x3e"),n(p)?(t(`<div class="p-5 bg-green-50 border-2 border-green-300 rounded-xl" data-v-46056b94><h3 class="font-[&#39;Lora&#39;] text-lg font-semibold text-[#5D4A44] mb-4 flex items-center gap-2" data-v-46056b94><span data-v-46056b94>ğŸ’³</span> Registrar Nuevo Pago </h3><form class="space-y-4" data-v-46056b94><div class="grid grid-cols-2 gap-4" data-v-46056b94><div data-v-46056b94><label class="block text-sm font-medium text-[#5D4A44] mb-2" data-v-46056b94> Monto <span class="text-red-500" data-v-46056b94>*</span></label><div class="relative" data-v-46056b94><span class="absolute left-3 top-1/2 -translate-y-1/2 text-[#5D4A44]/60" data-v-46056b94>â‚¬</span><input${F("value",n(B).monto)} type="number" min="0" step="0.01" required placeholder="0.00" class="w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white" data-v-46056b94></div></div><div data-v-46056b94><label class="block text-sm font-medium text-[#5D4A44] mb-2" data-v-46056b94> MÃ©todo de Pago <span class="text-red-500" data-v-46056b94>*</span></label><select required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white" data-v-46056b94><option value="" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,""):h(n(B).metodo,""))?" selected":""}>Seleccionar mÃ©todo</option><option value="efectivo" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,"efectivo"):h(n(B).metodo,"efectivo"))?" selected":""}>ğŸ’µ Efectivo</option><option value="transferencia" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,"transferencia"):h(n(B).metodo,"transferencia"))?" selected":""}>ğŸ¦ Transferencia</option><option value="tarjeta" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,"tarjeta"):h(n(B).metodo,"tarjeta"))?" selected":""}>ğŸ’³ Tarjeta</option><option value="bizum" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,"bizum"):h(n(B).metodo,"bizum"))?" selected":""}>ğŸ“± Bizum</option><option value="paypal" data-v-46056b94${A(Array.isArray(n(B).metodo)?y(n(B).metodo,"paypal"):h(n(B).metodo,"paypal"))?" selected":""}>ğŸ…¿ï¸ PayPal</option></select></div></div>`),n(i)?t(`<div class="flex items-center gap-2 p-3 bg-white border border-green-300 rounded-lg" data-v-46056b94><input${A(Array.isArray(n(B).confirmado)?y(n(B).confirmado,null):n(B).confirmado)?" checked":""} type="checkbox" id="confirmar-pago" class="w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500" data-v-46056b94><label for="confirmar-pago" class="text-sm text-[#5D4A44] cursor-pointer" data-v-46056b94> âœ“ Confirmar pago inmediatamente (ya verificado) </label></div>`):t("\x3c!----\x3e"),t(`<div class="flex gap-3" data-v-46056b94><button type="button" class="flex-1 px-4 py-2 bg-white border border-gray-300 text-[#5D4A44] rounded-lg hover:bg-gray-50 transition-colors" data-v-46056b94> Cancelar </button><button type="submit" class="flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium disabled:opacity-50"${A(n(b))?" disabled":""} data-v-46056b94>${x(n(b)?"Registrando...":"Guardar Pago")}</button></div></form></div>`)):t("\x3c!----\x3e"),t(`<div data-v-46056b94><h3 class="font-[&#39;Lora&#39;] text-lg font-semibold text-[#5D4A44] mb-4 flex items-center gap-2" data-v-46056b94><span data-v-46056b94>ğŸ“œ</span> Historial de Pagos (${x(n(c).length)}) </h3>`),n(v)?t('<div class="text-center py-8" data-v-46056b94><div class="animate-spin w-10 h-10 border-4 border-[#D8AFA0] border-t-transparent rounded-full mx-auto mb-3" data-v-46056b94></div><p class="text-[#5D4A44]/60" data-v-46056b94>Cargando pagos...</p></div>'):0===n(c).length?t('<div class="text-center py-12" data-v-46056b94><span class="text-6xl mb-3 block opacity-40" data-v-46056b94>ğŸ’¸</span><p class="text-[#5D4A44]/60" data-v-46056b94>No hay pagos registrados aÃºn</p></div>'):(t('<div class="space-y-3" data-v-46056b94>\x3c!--[--\x3e'),w(n(C),e=>{var a;t(`<div class="${D([e.confirmado?"bg-green-50 border-green-300":"bg-yellow-50 border-yellow-300","p-4 border-2 rounded-lg transition-all"])}" data-v-46056b94><div class="flex items-start justify-between gap-4" data-v-46056b94><div class="flex-1" data-v-46056b94><div class="flex items-center gap-3 mb-2" data-v-46056b94><span class="${D([e.confirmado?"text-green-600":"text-yellow-600","text-2xl font-bold"])}" data-v-46056b94>${x(formatearMonto(e.monto))}</span><span class="${D([e.confirmado?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800","px-2 py-1 rounded-full text-xs font-medium capitalize"])}" data-v-46056b94>${x(e.confirmado?"âœ“ Confirmado":"â³ Pendiente")}</span></div><div class="space-y-1 text-sm text-[#5D4A44]/70" data-v-46056b94><div class="flex items-center gap-2" data-v-46056b94><span data-v-46056b94>ğŸ’³</span><span class="capitalize" data-v-46056b94>${x((a=e.metodo_pago,{efectivo:"Efectivo",transferencia:"Transferencia Bancaria",tarjeta:"Tarjeta de CrÃ©dito/DÃ©bito",bizum:"Bizum",paypal:"PayPal"}[a]||a))}</span></div><div class="flex items-center gap-2" data-v-46056b94><span data-v-46056b94>ğŸ“…</span><span data-v-46056b94>${x(formatearFecha(e.fecha_pago))}</span></div>`),e.confirmado&&e.fecha_confirmacion?t(`<div class="flex items-center gap-2" data-v-46056b94><span data-v-46056b94>âœ…</span><span data-v-46056b94>Confirmado el ${x(formatearFecha(e.fecha_confirmacion))}</span></div>`):t("\x3c!----\x3e"),t("</div></div>"),n(i)&&!e.confirmado?t(`<div data-v-46056b94><button class="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-medium"${A(n(m)===e.id)?" disabled":""} data-v-46056b94>${x(n(m)===e.id?"Confirmando...":"âœ“ Confirmar")}</button></div>`):t("\x3c!----\x3e"),t("</div></div>")}),t("\x3c!--]--\x3e</div>")),t("</div>"),n(g)?t(`<div class="p-4 bg-red-50 border border-red-200 rounded-lg" data-v-46056b94><p class="text-sm text-red-700 flex items-center gap-2" data-v-46056b94><span data-v-46056b94>âŒ</span> ${x(n(g))}</p></div>`):t("\x3c!----\x3e"),n(k)?t(`<div class="p-4 bg-green-50 border border-green-200 rounded-lg" data-v-46056b94><p class="text-sm text-green-700 flex items-center gap-2" data-v-46056b94><span data-v-46056b94>âœ…</span> ${x(n(k))}</p></div>`):t("\x3c!----\x3e"),t('</div><div class="sticky bottom-0 bg-[#F9F7F3] border-t border-[#D8AFA0]/30 px-6 py-4" data-v-46056b94><button class="w-full px-6 py-3 bg-[#5D4A44] text-white rounded-lg hover:bg-[#4A3A34] transition-colors font-medium" data-v-46056b94> Cerrar </button></div></div></div></div>')):t("\x3c!----\x3e")}}}),V=q.setup;q.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("components/ModalPagosBono.vue"),V?V(e,a):void 0};const I=Object.assign(B(q,[["__scopeId","data-v-46056b94"]]),{__name:"ModalPagosBono"}),N=a({__name:"ModalRenovacionBono",__ssrInlineRender:!0,props:{mostrar:{type:Boolean},bono:{}},emits:["close","renovated"],setup(e,{emit:a}){var r,d;const l=e;_();const i=o(!0),c=o(!1),v=o(""),p=o({sesiones_nuevas:(null==(r=l.bono)?void 0:r.sesiones_totales)||0,monto_nuevo:(null==(d=l.bono)?void 0:d.monto)||0,motivo:""}),b=t(()=>{var e;return{pendiente:"text-yellow-600",activo:"text-green-600",completado:"text-gray-600",vencido:"text-red-600",cancelado:"text-gray-500"}[null==(e=l.bono)?void 0:e.estado]||"text-gray-600"}),m=t(()=>{var e,a;if(!(null==(e=l.bono)?void 0:e.sesiones_totales)||!(null==(a=l.bono)?void 0:a.monto))return"0.00";return(l.bono.monto/l.bono.sesiones_totales).toFixed(2)}),g=t(()=>{if(!p.value.sesiones_nuevas||!p.value.monto_nuevo)return"0.00";return(p.value.monto_nuevo/p.value.sesiones_nuevas).toFixed(2)}),formatearMonto=e=>e?new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e):"â‚¬ 0.00";return u(()=>l.bono,e=>{e&&(p.value.sesiones_nuevas=e.sesiones_totales||0,p.value.monto_nuevo=e.monto||0)},{immediate:!0}),(a,t,o,r)=>{e.mostrar?(t(`<div${f(s({class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},r))}><div class="bg-[#F9F7F3] rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"><div class="sticky top-0 bg-[#F9F7F3] border-b border-[#D8AFA0]/30 px-6 py-4 flex justify-between items-center"><div><h2 class="text-2xl font-[&#39;Lora&#39;] text-[#5D4A44] font-semibold flex items-center gap-2"><span class="text-2xl">ğŸ”„</span> Renovar Bono </h2><p class="text-sm text-[#5D4A44]/60 mt-1"> Crea una nueva renovaciÃ³n basada en el bono actual </p></div><button class="text-[#5D4A44] hover:text-[#D8AFA0] transition-colors" aria-label="Cerrar modal"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="px-6 py-6 space-y-6"><div class="p-5 bg-gradient-to-r from-gray-100 to-gray-50 border-2 border-gray-300 rounded-xl"><h3 class="font-[&#39;Lora&#39;] text-lg font-semibold text-[#5D4A44] mb-4 flex items-center gap-2"><span>ğŸ“‹</span> Bono Actual </h3><div class="grid grid-cols-2 gap-4 text-sm"><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Tipo</div><div class="font-medium text-[#5D4A44] capitalize">${x(e.bono.tipo)}</div></div><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Frecuencia</div><div class="font-medium text-[#5D4A44] capitalize">${x(e.bono.frecuencia)}</div></div><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Sesiones Totales</div><div class="font-medium text-[#5D4A44]">${x(e.bono.sesiones_totales)}</div></div><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Sesiones Restantes</div><div class="font-medium text-[#5D4A44]">${x(e.bono.sesiones_restantes||0)}</div></div><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Monto</div><div class="font-bold text-[#D8AFA0] text-lg">${x(formatearMonto(e.bono.monto))}</div></div><div class="p-3 bg-white rounded-lg"><div class="text-[#5D4A44]/60 mb-1">Estado</div><div class="${D([n(b),"font-medium capitalize"])}">${x(e.bono.estado)}</div></div></div></div><form class="space-y-5"><div class="p-5 bg-gradient-to-r from-purple-50 to-indigo-50 border-2 border-purple-300 rounded-xl"><h3 class="font-[&#39;Lora&#39;] text-lg font-semibold text-[#5D4A44] mb-4 flex items-center gap-2"><span>âœ¨</span> Datos del Nuevo Bono </h3><div class="mb-5 p-3 bg-white border border-purple-200 rounded-lg"><label class="flex items-center gap-3 cursor-pointer"><input${A(Array.isArray(n(i))?y(n(i),null):n(i))?" checked":""} type="checkbox" class="w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"><div><div class="text-sm font-medium text-[#5D4A44]"> Mantener los mismos valores del bono original </div><div class="text-xs text-[#5D4A44]/60 mt-1"> Si lo desmarcas, podrÃ¡s personalizar las sesiones y el monto </div></div></label></div>`),n(i)?t(`<div class="p-4 bg-green-50 border border-green-300 rounded-lg"><p class="text-sm text-green-700 flex items-center gap-2"><span>âœ“</span> Se duplicarÃ¡n los valores originales: <strong>${x(e.bono.sesiones_totales)} sesiones</strong> por <strong>${x(formatearMonto(e.bono.monto))}</strong></p></div>`):t(`<div class="space-y-4"><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Sesiones Totales </label><input${F("value",n(p).sesiones_nuevas)} type="number" min="1" max="100" required class="w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"></div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Monto Total </label><div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-[#5D4A44]/60">â‚¬</span><input${F("value",n(p).monto_nuevo)} type="number" min="0" step="0.01" required placeholder="0.00" class="w-full pl-8 pr-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white"></div></div></div><div class="p-3 bg-purple-100 rounded-lg text-sm"><div class="flex justify-between mb-1"><span class="text-[#5D4A44]/70">Precio por sesiÃ³n (nuevo):</span><span class="font-bold text-purple-700">â‚¬${x(n(g))}</span></div><div class="flex justify-between"><span class="text-[#5D4A44]/70">Precio por sesiÃ³n (original):</span><span class="font-medium text-[#5D4A44]/60">â‚¬${x(n(m))}</span></div></div></div>`),t(`</div><div><label class="block text-sm font-medium text-[#5D4A44] mb-2"> Motivo de la RenovaciÃ³n (Opcional) </label><textarea rows="3" placeholder="Explica por quÃ© se renueva este bono..." class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] resize-none">${x(n(p).motivo)}</textarea></div><div class="p-4 bg-blue-50 border-2 border-blue-300 rounded-lg"><h4 class="font-medium text-blue-900 mb-2 flex items-center gap-2"><span>â„¹ï¸</span> InformaciÃ³n Importante </h4><ul class="text-sm text-blue-800 space-y-1.5"><li class="flex items-start gap-2"><span class="mt-0.5">â€¢</span><span>El bono actual se marcarÃ¡ como <strong>completado</strong></span></li><li class="flex items-start gap-2"><span class="mt-0.5">â€¢</span><span>Se crearÃ¡ un <strong>nuevo bono</strong> con estado <strong>pendiente</strong> hasta que se confirme el pago</span></li><li class="flex items-start gap-2"><span class="mt-0.5">â€¢</span><span>La fecha de inicio serÃ¡ <strong>hoy</strong> y la de vencimiento se calcularÃ¡ automÃ¡ticamente</span></li><li class="flex items-start gap-2"><span class="mt-0.5">â€¢</span><span>Se guardarÃ¡ un registro en el historial de renovaciones</span></li></ul></div>`),n(v)?t(`<div class="p-4 bg-red-50 border border-red-200 rounded-lg"><p class="text-sm text-red-700 flex items-center gap-2"><span>âŒ</span> ${x(n(v))}</p></div>`):t("\x3c!----\x3e"),t(`<div class="flex gap-3 pt-4 border-t border-[#D8AFA0]/30"><button type="button" class="flex-1 px-6 py-3 bg-white border border-[#D8AFA0]/30 text-[#5D4A44] rounded-lg hover:bg-[#D8AFA0]/10 transition-colors font-medium"${A(n(c))?" disabled":""}> Cancelar </button><button type="submit" class="flex-1 px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"${A(n(c))?" disabled":""}>`),n(c)?t("<span>â³</span>"):t("<span>ğŸ”„</span>"),t(`<span>${x(n(c)?"Renovando...":"Confirmar RenovaciÃ³n")}</span></button></div></form></div></div></div>`)):t("\x3c!----\x3e")}}}),U=N.setup;N.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("components/ModalRenovacionBono.vue"),U?U(e,a):void 0};const O=Object.assign(N,{__name:"ModalRenovacionBono"}),G=a({__name:"bonos",__ssrInlineRender:!0,setup(a){const u=j();P();const m=S(),{userProfile:D}=C(),{getBonosPorPaciente:$,calcularMetricas:F,puedeGestionarBonos:k}=_(),B=t(()=>u.params.id),M=t(()=>{var e;return(null==(e=D.value)?void 0:e.id)||""}),E=o(!0),L=o(null),z=o([]),q=o(""),V=o({total:0,activos:0,completados:0,vencidos:0,pendientes:0,proximosAVencer:0,pocasSesiones:0}),N=o("todos"),U=o("todos"),G=o("reciente"),Q=o(!1),H=o(!1),Y=o(!1),X=o(null),J=t(()=>{let e=[...z.value];return"todos"!==N.value&&(e=e.filter(e=>e.estado===N.value)),"todos"!==U.value&&(e=e.filter(e=>e.tipo===U.value)),"reciente"===G.value?e.sort((e,a)=>new Date(a.created_at).getTime()-new Date(e.created_at).getTime()):"antiguo"===G.value?e.sort((e,a)=>new Date(e.created_at).getTime()-new Date(a.created_at).getTime()):"vencimiento"===G.value&&e.sort((e,a)=>e.fecha_fin?a.fecha_fin?new Date(e.fecha_fin).getTime()-new Date(a.fecha_fin).getTime():-1:1),e}),K=t(()=>V.value.proximosAVencer>0||V.value.pocasSesiones>0),cargarBonos=async()=>{try{E.value=!0,L.value=null;const{data:e,error:a}=await m.from("pacientes").select("nombre, email").eq("id",B.value).single();if(a)throw a;q.value=(null==e?void 0:e.nombre)||(null==e?void 0:e.email)||"Paciente",z.value=await $(B.value),V.value=await F(B.value)}catch(e){console.error("[BonosPage] Error al cargar bonos:",e),L.value=e.message||"Error al cargar los bonos"}finally{E.value=!1}},limpiarFiltros=()=>{N.value="todos",U.value="todos",G.value="reciente"},abrirModalNuevoBono=()=>{Q.value=!0},cerrarModalNuevoBono=()=>{Q.value=!1},onBonoCreado=async()=>{await cargarBonos()},abrirModalPagos=e=>{X.value=e,H.value=!0},cerrarModalPagos=()=>{H.value=!1,X.value=null},onPagosActualizados=async()=>{await cargarBonos()},abrirModalRenovacion=e=>{X.value=e,Y.value=!0},cerrarModalRenovacion=()=>{Y.value=!1,X.value=null},onBonoRenovado=async()=>{await cargarBonos()},editarBono=e=>{console.log("Editar bono:",e),alert("FunciÃ³n de ediciÃ³n en desarrollo")};return(a,t,o,u)=>{const m=e,D=T,$=R,F=I,_=O;t(`<div${f(s({class:"bonos-container pb-20"},u))} data-v-64cfe15d><button class="mb-6 flex items-center gap-2 text-[#5D4A44] hover:text-[#D8AFA0] transition-colors" data-v-64cfe15d><span data-v-64cfe15d>â†</span><span data-v-64cfe15d>Volver a ficha del paciente</span></button><header class="mb-6" data-v-64cfe15d><div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4" data-v-64cfe15d><div data-v-64cfe15d><h1 class="text-3xl font-[&#39;Lora&#39;] font-bold text-[#5D4A44] mb-2 flex items-center gap-3" data-v-64cfe15d><span class="text-4xl" data-v-64cfe15d>ğŸ«</span> Bonos de ${x(n(q))}</h1><p class="text-[#5D4A44]/60" data-v-64cfe15d> Gestiona los bonos, pagos y renovaciones del paciente </p></div>`),n(k)?t('<button class="px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium flex items-center gap-2 shadow-lg" data-v-64cfe15d><span class="text-xl" data-v-64cfe15d>+</span><span data-v-64cfe15d>Nuevo Bono</span></button>'):t("\x3c!----\x3e"),t("</div></header>"),n(E)?t('<div class="text-center py-16" data-v-64cfe15d><div class="animate-spin w-16 h-16 border-4 border-[#D8AFA0] border-t-transparent rounded-full mx-auto mb-4" data-v-64cfe15d></div><p class="text-[#5D4A44]/60" data-v-64cfe15d>Cargando bonos...</p></div>'):n(L)?(t('<div class="text-center py-16" data-v-64cfe15d>'),t(g(m,null,{default:r((e,a,t,o)=>{if(!a)return[d("span",{class:"text-7xl mb-4 block"},"âŒ"),d("h3",{class:"text-xl font-['Lora'] font-semibold text-[#5D4A44] mb-2"}," Error al cargar bonos "),d("p",{class:"text-[#5D4A44]/60 mb-4"},l(n(L)),1),d("button",{onClick:cargarBonos,class:"px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors"}," Intentar de nuevo ")];a(`<span class="text-7xl mb-4 block" data-v-64cfe15d${o}>âŒ</span><h3 class="text-xl font-[&#39;Lora&#39;] font-semibold text-[#5D4A44] mb-2" data-v-64cfe15d${o}> Error al cargar bonos </h3><p class="text-[#5D4A44]/60 mb-4" data-v-64cfe15d${o}>${x(n(L))}</p><button class="px-6 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors" data-v-64cfe15d${o}> Intentar de nuevo </button>`)}),_:1},o)),t("</div>")):(t('<div data-v-64cfe15d><section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8" data-v-64cfe15d>'),t(g(m,{class:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200"},{default:r((e,a,t,o)=>{if(!a)return[d("div",{class:"flex items-center justify-between"},[d("div",null,[d("p",{class:"text-sm text-purple-600 font-medium mb-1"},"Total Bonos"),d("p",{class:"text-3xl font-bold text-purple-700"},l(n(V).total),1)]),d("span",{class:"text-4xl"},"ğŸ«")])];a(`<div class="flex items-center justify-between" data-v-64cfe15d${o}><div data-v-64cfe15d${o}><p class="text-sm text-purple-600 font-medium mb-1" data-v-64cfe15d${o}>Total Bonos</p><p class="text-3xl font-bold text-purple-700" data-v-64cfe15d${o}>${x(n(V).total)}</p></div><span class="text-4xl" data-v-64cfe15d${o}>ğŸ«</span></div>`)}),_:1},o)),t(g(m,{class:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200"},{default:r((e,a,t,o)=>{if(!a)return[d("div",{class:"flex items-center justify-between"},[d("div",null,[d("p",{class:"text-sm text-green-600 font-medium mb-1"},"Activos"),d("p",{class:"text-3xl font-bold text-green-700"},l(n(V).activos),1)]),d("span",{class:"text-4xl"},"âœ…")])];a(`<div class="flex items-center justify-between" data-v-64cfe15d${o}><div data-v-64cfe15d${o}><p class="text-sm text-green-600 font-medium mb-1" data-v-64cfe15d${o}>Activos</p><p class="text-3xl font-bold text-green-700" data-v-64cfe15d${o}>${x(n(V).activos)}</p></div><span class="text-4xl" data-v-64cfe15d${o}>âœ…</span></div>`)}),_:1},o)),t(g(m,{class:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200"},{default:r((e,a,t,o)=>{if(!a)return[d("div",{class:"flex items-center justify-between"},[d("div",null,[d("p",{class:"text-sm text-orange-600 font-medium mb-1"},"Por Vencer"),d("p",{class:"text-3xl font-bold text-orange-700"},l(n(V).proximosAVencer),1)]),d("span",{class:"text-4xl"},"âš ï¸")])];a(`<div class="flex items-center justify-between" data-v-64cfe15d${o}><div data-v-64cfe15d${o}><p class="text-sm text-orange-600 font-medium mb-1" data-v-64cfe15d${o}>Por Vencer</p><p class="text-3xl font-bold text-orange-700" data-v-64cfe15d${o}>${x(n(V).proximosAVencer)}</p></div><span class="text-4xl" data-v-64cfe15d${o}>âš ï¸</span></div>`)}),_:1},o)),t(g(m,{class:"bg-gradient-to-br from-yellow-50 to-amber-50 border-2 border-yellow-200"},{default:r((e,a,t,o)=>{if(!a)return[d("div",{class:"flex items-center justify-between"},[d("div",null,[d("p",{class:"text-sm text-yellow-600 font-medium mb-1"},"Pendientes"),d("p",{class:"text-3xl font-bold text-yellow-700"},l(n(V).pendientes),1)]),d("span",{class:"text-4xl"},"â³")])];a(`<div class="flex items-center justify-between" data-v-64cfe15d${o}><div data-v-64cfe15d${o}><p class="text-sm text-yellow-600 font-medium mb-1" data-v-64cfe15d${o}>Pendientes</p><p class="text-3xl font-bold text-yellow-700" data-v-64cfe15d${o}>${x(n(V).pendientes)}</p></div><span class="text-4xl" data-v-64cfe15d${o}>â³</span></div>`)}),_:1},o)),t('</section><section class="mb-6" data-v-64cfe15d>'),t(g(m,null,{default:r((e,a,t,o)=>{if(!a)return[d("div",{class:"flex flex-col md:flex-row gap-4"},[d("div",{class:"flex-1"},[d("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Filtrar por Estado "),i(d("select",{"onUpdate:modelValue":e=>c(N)?N.value=e:null,class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[d("option",{value:"todos"},"Todos los estados"),d("option",{value:"activo"},"âœ… Activos"),d("option",{value:"pendiente"},"â³ Pendientes"),d("option",{value:"completado"},"âœ”ï¸ Completados"),d("option",{value:"vencido"},"âŒ Vencidos"),d("option",{value:"cancelado"},"ğŸš« Cancelados")],8,["onUpdate:modelValue"]),[[v,n(N)]])]),d("div",{class:"flex-1"},[d("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Filtrar por Tipo "),i(d("select",{"onUpdate:modelValue":e=>c(U)?U.value=e:null,class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[d("option",{value:"todos"},"Todos los tipos"),d("option",{value:"quincenal"},"Quincenal"),d("option",{value:"mensual"},"Mensual"),d("option",{value:"semestral"},"Semestral")],8,["onUpdate:modelValue"]),[[v,n(U)]])]),d("div",{class:"flex-1"},[d("label",{class:"block text-sm font-medium text-[#5D4A44] mb-2"}," Ordenar por "),i(d("select",{"onUpdate:modelValue":e=>c(G)?G.value=e:null,class:"w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white"},[d("option",{value:"reciente"},"MÃ¡s recientes"),d("option",{value:"antiguo"},"MÃ¡s antiguos"),d("option",{value:"vencimiento"},"Por vencimiento")],8,["onUpdate:modelValue"]),[[v,n(G)]])])])];a(`<div class="flex flex-col md:flex-row gap-4" data-v-64cfe15d${o}><div class="flex-1" data-v-64cfe15d${o}><label class="block text-sm font-medium text-[#5D4A44] mb-2" data-v-64cfe15d${o}> Filtrar por Estado </label><select class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white" data-v-64cfe15d${o}><option value="todos" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"todos"):h(n(N),"todos"))?" selected":""}${o}>Todos los estados</option><option value="activo" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"activo"):h(n(N),"activo"))?" selected":""}${o}>âœ… Activos</option><option value="pendiente" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"pendiente"):h(n(N),"pendiente"))?" selected":""}${o}>â³ Pendientes</option><option value="completado" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"completado"):h(n(N),"completado"))?" selected":""}${o}>âœ”ï¸ Completados</option><option value="vencido" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"vencido"):h(n(N),"vencido"))?" selected":""}${o}>âŒ Vencidos</option><option value="cancelado" data-v-64cfe15d${A(Array.isArray(n(N))?y(n(N),"cancelado"):h(n(N),"cancelado"))?" selected":""}${o}>ğŸš« Cancelados</option></select></div><div class="flex-1" data-v-64cfe15d${o}><label class="block text-sm font-medium text-[#5D4A44] mb-2" data-v-64cfe15d${o}> Filtrar por Tipo </label><select class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white" data-v-64cfe15d${o}><option value="todos" data-v-64cfe15d${A(Array.isArray(n(U))?y(n(U),"todos"):h(n(U),"todos"))?" selected":""}${o}>Todos los tipos</option><option value="quincenal" data-v-64cfe15d${A(Array.isArray(n(U))?y(n(U),"quincenal"):h(n(U),"quincenal"))?" selected":""}${o}>Quincenal</option><option value="mensual" data-v-64cfe15d${A(Array.isArray(n(U))?y(n(U),"mensual"):h(n(U),"mensual"))?" selected":""}${o}>Mensual</option><option value="semestral" data-v-64cfe15d${A(Array.isArray(n(U))?y(n(U),"semestral"):h(n(U),"semestral"))?" selected":""}${o}>Semestral</option></select></div><div class="flex-1" data-v-64cfe15d${o}><label class="block text-sm font-medium text-[#5D4A44] mb-2" data-v-64cfe15d${o}> Ordenar por </label><select class="w-full px-4 py-2 border border-[#D8AFA0]/30 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D8AFA0] bg-white" data-v-64cfe15d${o}><option value="reciente" data-v-64cfe15d${A(Array.isArray(n(G))?y(n(G),"reciente"):h(n(G),"reciente"))?" selected":""}${o}>MÃ¡s recientes</option><option value="antiguo" data-v-64cfe15d${A(Array.isArray(n(G))?y(n(G),"antiguo"):h(n(G),"antiguo"))?" selected":""}${o}>MÃ¡s antiguos</option><option value="vencimiento" data-v-64cfe15d${A(Array.isArray(n(G))?y(n(G),"vencimiento"):h(n(G),"vencimiento"))?" selected":""}${o}>Por vencimiento</option></select></div></div>`)}),_:1},o)),t("</section>"),n(J).length>0?(t('<section class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-v-64cfe15d>\x3c!--[--\x3e'),w(n(J),e=>{t(g(D,{key:e.id,bono:e,onRenovar:abrirModalRenovacion,onVerPagos:abrirModalPagos,onEditar:editarBono},null,o))}),t("\x3c!--]--\x3e</section>")):(t('<section class="text-center py-16" data-v-64cfe15d>'),t(g(m,null,{default:r((e,a,t,o)=>{if(!a)return[d("span",{class:"text-7xl mb-4 block opacity-40"},"ğŸ«"),d("h3",{class:"text-xl font-['Lora'] font-semibold text-[#5D4A44] mb-2"},l(0===n(z).length?"No hay bonos registrados":"No hay bonos con estos filtros"),1),d("p",{class:"text-[#5D4A44]/60 mb-6"},l(0===n(z).length?"Crea el primer bono para este paciente":"Intenta cambiar los filtros para ver mÃ¡s bonos"),1),0===n(z).length&&n(k)?(b(),p("button",{key:0,onClick:abrirModalNuevoBono,class:"px-8 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium"}," + Crear Primer Bono ")):(b(),p("button",{key:1,onClick:limpiarFiltros,class:"px-8 py-3 bg-[#5D4A44] text-white rounded-lg hover:bg-[#4A3A34] transition-colors font-medium"}," Limpiar Filtros "))];a(`<span class="text-7xl mb-4 block opacity-40" data-v-64cfe15d${o}>ğŸ«</span><h3 class="text-xl font-[&#39;Lora&#39;] font-semibold text-[#5D4A44] mb-2" data-v-64cfe15d${o}>${x(0===n(z).length?"No hay bonos registrados":"No hay bonos con estos filtros")}</h3><p class="text-[#5D4A44]/60 mb-6" data-v-64cfe15d${o}>${x(0===n(z).length?"Crea el primer bono para este paciente":"Intenta cambiar los filtros para ver mÃ¡s bonos")}</p>`),0===n(z).length&&n(k)?a(`<button class="px-8 py-3 bg-[#D8AFA0] text-white rounded-lg hover:bg-[#C89B8A] transition-colors font-medium" data-v-64cfe15d${o}> + Crear Primer Bono </button>`):a(`<button class="px-8 py-3 bg-[#5D4A44] text-white rounded-lg hover:bg-[#4A3A34] transition-colors font-medium" data-v-64cfe15d${o}> Limpiar Filtros </button>`)}),_:1},o)),t("</section>")),n(K)?(t('<section class="mt-8 space-y-3" data-v-64cfe15d>'),n(V).proximosAVencer>0?t(`<div class="p-4 bg-orange-50 border-2 border-orange-300 rounded-lg" data-v-64cfe15d><div class="flex items-start gap-3" data-v-64cfe15d><span class="text-2xl" data-v-64cfe15d>âš ï¸</span><div class="flex-1" data-v-64cfe15d><h4 class="font-medium text-orange-900 mb-1" data-v-64cfe15d>${x(n(V).proximosAVencer)} bono(s) prÃ³ximo(s) a vencer </h4><p class="text-sm text-orange-700" data-v-64cfe15d> Hay bonos que vencerÃ¡n en los prÃ³ximos 7 dÃ­as. Considera renovarlos. </p></div><button class="text-sm text-orange-700 hover:text-orange-900 underline" data-v-64cfe15d> Ver bonos activos </button></div></div>`):t("\x3c!----\x3e"),n(V).pocasSesiones>0?t(`<div class="p-4 bg-blue-50 border-2 border-blue-300 rounded-lg" data-v-64cfe15d><div class="flex items-start gap-3" data-v-64cfe15d><span class="text-2xl" data-v-64cfe15d>ğŸ“Š</span><div class="flex-1" data-v-64cfe15d><h4 class="font-medium text-blue-900 mb-1" data-v-64cfe15d>${x(n(V).pocasSesiones)} bono(s) con pocas sesiones </h4><p class="text-sm text-blue-700" data-v-64cfe15d> Algunos bonos tienen 2 o menos sesiones restantes. </p></div></div></div>`):t("\x3c!----\x3e"),t("</section>")):t("\x3c!----\x3e"),t("</div>")),t(g($,{mostrar:n(Q),"paciente-id":n(B),"paciente-nombre":n(q),"psicologa-id":n(M),onClose:cerrarModalNuevoBono,onCreated:onBonoCreado},null,o)),t(g(F,{mostrar:n(H),bono:n(X),onClose:cerrarModalPagos,onUpdated:onPagosActualizados},null,o)),t(g(_,{mostrar:n(Y),bono:n(X),onClose:cerrarModalRenovacion,onRenovated:onBonoRenovado},null,o)),t("</div>")}}}),Q=G.setup;G.setup=(e,a)=>{const t=m();return(t.modules||(t.modules=new Set)).add("pages/terapeuta/pacientes/[id]/bonos.vue"),Q?Q(e,a):void 0};const H=B(G,[["__scopeId","data-v-64cfe15d"]]);export{H as default};
//# sourceMappingURL=bonos-BtuNpMz0.mjs.map
